<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>考证：AWS SAA-C03 | 鴻鵠誌達</title><meta name="author" content="鴻達"><meta name="copyright" content="鴻達"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#1a1a1a"><meta name="description" content="为啥要考证 😅 为啥要考证 😅 为啥要考证 😅"><meta property="og:type" content="article"><meta property="og:title" content="考证：AWS SAA-C03"><meta property="og:url" content="https://hongdalin.blog/posts/fa4ed4d8.html"><meta property="og:site_name" content="鴻鵠誌達"><meta property="og:description" content="为啥要考证 😅 为啥要考证 😅 为啥要考证 😅"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img4gb8ou3p2t5vv347i6lopc13wtm82qw.jpg"><meta property="article:published_time" content="2024-01-13T18:03:05.000Z"><meta property="article:modified_time" content="2024-07-19T05:19:56.995Z"><meta property="article:author" content="鴻達"><meta property="article:tag" content="AWS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img4gb8ou3p2t5vv347i6lopc13wtm82qw.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德克萨斯.GIF"><link rel="canonical" href="https://hongdalin.blog/posts/fa4ed4d8.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"考证：AWS SAA-C03",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-07-19 00:19:56"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,n){if(0===n)return;const o=864e5*n,a={value:t,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);if(!((new Date).getTime()>n.expiry))return n.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,n)=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onerror=n,o.onload=o.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)})),e.getCSS=e=>new Promise(((t,n)=>{const o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onload=()=>t(),o.onerror=()=>n(),document.head.appendChild(o)}));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/color.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/font.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/icon.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/layout.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="defer" onload='this.media="all"'><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德狗子.GIF" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img4gb8ou3p2t5vv347i6lopc13wtm82qw.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="鴻鵠誌達"><span class="site-name">鴻鵠誌達</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">考证：AWS SAA-C03</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-13T18:03:05.000Z" title="发表于 2024-01-13 12:03:05">2024-01-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-19T05:19:56.995Z" title="更新于 2024-07-19 00:19:56">2024-07-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Certification/">Certification</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">15.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>78分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="考证：AWS SAA-C03"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>一些我整理的资料:</p><ul><li>官网: <a target="_blank" rel="noopener" href="https://aws.amazon.com/certification/certified-solutions-architect-associate/">https://aws.amazon.com/certification/certified-solutions-architect-associate/</a></li><li>网课：<a target="_blank" rel="noopener" href="https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/">https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/</a></li><li>题库: <a target="_blank" rel="noopener" href="https://www.udemy.com/course/practice-exams-aws-certified-solutions-architect-associate/">https://www.udemy.com/course/practice-exams-aws-certified-solutions-architect-associate/</a></li><li>题库: <a target="_blank" rel="noopener" href="https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-associate-saa-c03/">https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-associate-saa-c03/</a> (前 200 题免费)</li><li>准备时间: 1 月 13 号准备, 中间上课推迟到 2 月 20 号准备, 3 月 29 号考试 (考过, 真的花了我 2 小时 🧠)</li></ul></blockquote><hr><h3 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h3><h3 id="1-AWS-Cloud-Overview"><a href="#1-AWS-Cloud-Overview" class="headerlink" title="1. AWS Cloud Overview"></a>1. AWS Cloud Overview</h3><ul><li>Global Services: IAM, Route53, CloudFront, WAF 等等</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img140948.png"></p><h4 id="AWS-Regions"><a href="#AWS-Regions" class="headerlink" title="AWS Regions"></a>AWS Regions</h4><ul><li>A Region is a cluster of data centers</li><li>考虑 Compliance (合规), Proximity (临近用户), Available Services 和 Pricing</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231130.png"></p><hr><h4 id="AWS-Availability-Zone-AZ"><a href="#AWS-Availability-Zone-AZ" class="headerlink" title="AWS Availability Zone (AZ)"></a>AWS Availability Zone (AZ)</h4><ul><li>一个 Region 可以有 3 - 6 个 AZ (每个 AZ 都是分开的)</li><li>To coordinate Availability Zones across accounts, you must use the AZ ID (注意)<ul><li>A 在 us-west-2a 和 B 在 us-west-2a 是不一样的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img140727.png"></p><hr><h4 id="AWS-Edge-Locations"><a href="#AWS-Edge-Locations" class="headerlink" title="AWS Edge Locations"></a>AWS Edge Locations</h4><ul><li>Deliver content to user with low latency (离用户越近, deliver 速度越快)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img140903.png"></p><hr><h3 id="2-IAM"><a href="#2-IAM" class="headerlink" title="2. IAM"></a>2. IAM</h3><h4 id="AWS-IAM"><a href="#AWS-IAM" class="headerlink" title="AWS IAM"></a>AWS IAM</h4><ul><li>Root Account: Created by default, 不要和别人分享</li><li>Users: People within the organization</li><li>Groups: Only contain Users, not other Groups (User 可以属于多个 Group)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145736.png"></p><hr><h4 id="IAM-Permissions"><a href="#IAM-Permissions" class="headerlink" title="IAM Permissions"></a>IAM Permissions</h4><ul><li>定义了 User 或者 Group 的 Permission</li><li>记得遵守 Least Privilege Principle</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img160124.png"></p><hr><h4 id="IAM-Polices"><a href="#IAM-Polices" class="headerlink" title="IAM Polices"></a>IAM Polices</h4><blockquote><p>IAM policies define permissions for an action regardless of the method that you use to perform the operation.</p></blockquote><ul><li>Statements 里面必须包含: Effect, Principal, Action, Resource<ul><li>Inline Policy 是 assign 给个人的</li></ul></li><li>注意, The only resource-based policy IAM support is Trust policy</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175653.png"></p><hr><h4 id="IAM-MFA"><a href="#IAM-MFA" class="headerlink" title="IAM MFA"></a>IAM MFA</h4><ul><li>Protect Root Accounts and IAM Users</li><li>MFA options: Virtual MFA Device, U2F Sercurity Key (USB)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180624.png"></p><hr><h4 id="IAM-CLI-amp-SDK"><a href="#IAM-CLI-amp-SDK" class="headerlink" title="IAM CLI &amp; SDK"></a>IAM CLI &amp; SDK</h4><ul><li>可以用 AWS Management Console, AWS CLI, AWS SDK 来访问 AWS</li><li>AWS CLI, AWS SDK 由 Access Keys 保护<ul><li>Set the DeleteOnTermination attribute to False using the command line</li><li>如果考试遇到不会的就选 CLI</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img193342.png"></p><hr><h4 id="IAM-Roles"><a href="#IAM-Roles" class="headerlink" title="IAM Roles"></a>IAM Roles</h4><ul><li>授权 AWS 服务去做某些事 (比如 EB 需要 EC2 Role 和 Service Role)</li><li>常见的 Role: EC2 Instance Role, Lambda Function Role 等等</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203306.png"></p><hr><h4 id="IAM-Security-Tools"><a href="#IAM-Security-Tools" class="headerlink" title="IAM Security Tools"></a>IAM Security Tools</h4><ul><li>IAM Credentials Report: 返回用户数据和他们的 credentials (凭据)</li><li>IAM Access Advisor: 显示当前用户被授权的服务和使用时间</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203553.png"></p><hr><h4 id="IAM-Extra"><a href="#IAM-Extra" class="headerlink" title="IAM Extra"></a>IAM Extra</h4><ul><li>Trust Policy (唯一的 resource-based policy)<ul><li>Trust policies define which principal entities can assume the role.</li></ul></li><li>AWS Organizations Service Control Policies (SCP, 针对 Organization 的)<ul><li>SCPs are JSON policies that specify the maximum permissions for an organization or organizational unit (OU)</li></ul></li><li>Access Control List (ACL, 管理别人的 account 的)<ul><li>Access control lists (ACLs) are service policies that allow you to control which principals in another account can access a resource</li></ul></li><li>Permissions Boundary (管理一个 account 最多有什么权限)<ul><li>A permissions boundary is an advanced feature for using a managed policy to set the maximum permissions that an identity-based policy can grant to an IAM entity.</li></ul></li></ul><hr><h3 id="3-EC2-Fundamentals"><a href="#3-EC2-Fundamentals" class="headerlink" title="3. EC2 Fundamentals"></a>3. EC2 Fundamentals</h3><h4 id="AWS-EC2"><a href="#AWS-EC2" class="headerlink" title="AWS EC2"></a>AWS EC2</h4><ul><li>属于 Infrastructure as Service (IaaS) , 绑定 AZ</li><li>User Data: EC2 启动的时候运行的代码 (比如往 EC2 Instance 里面装 Appache)<ul><li>By default, user data runs only during boot cycle when first lauch instance</li><li>By default, scripts entered as user data are executed with root user privileges</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214749.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214956.png"></p><ul><li>SSH 到 EC2 Instance 的 public IP (记住, 169, meta-data)<ul><li><a target="_blank" rel="noopener" href="http://169.254.169.254/latest/meta-data/public-ipv4">http://169.254.169.254/latest/meta-data/public-ipv4</a></li></ul></li></ul><hr><h4 id="EC2-Instance-Type"><a href="#EC2-Instance-Type" class="headerlink" title="EC2 Instance Type"></a>EC2 Instance Type</h4><ul><li>一共 7 种 EC2 Instance Type, 但 4 种用的最多<ul><li>General Purpose, Compute Optimized, Memory Optimized, Storage Optimized</li></ul></li><li>General Purpose: Balanced (平衡的)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img221846.png"></p><ul><li>Compute Optimized: High performance (处理 Batch, 视频和 HPC)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img221936.png"></p><ul><li>Memory Optimized: Process data in memory (处理 In memory database, cache)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img222020.png"></p><ul><li>Storage Optimized: Read and write data on local storage (OLTP)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img222129.png"></p><hr><h4 id="EC2-Security-Groups"><a href="#EC2-Security-Groups" class="headerlink" title="EC2 Security Groups"></a>EC2 Security Groups</h4><ul><li>Control how traffic is allowed into or out of EC2 instance (类似防火墙)<ul><li>Can be attached to multiple instances (可以复用)</li><li>Locked down to Region &#x2F; VPC</li></ul></li><li>可以作为 Security Group 的 Inbound Rule 有<ul><li>IP address, CIDR block, Security Group</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img222531.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223020.png"></p><hr><h4 id="EC2-Instance-Purchasing-Options"><a href="#EC2-Instance-Purchasing-Options" class="headerlink" title="EC2 Instance Purchasing Options"></a>EC2 Instance Purchasing Options</h4><ul><li>On-Demand Intances: Short workload, pay by second (短期内紧急使用)</li><li>Reserved: 1 - 3 years (72% discount, reserve capacity in an AZ)<ul><li>Reserved Instance: Long workload (1 - 3 年, discount 随年份增加)</li><li>Convertible Reserved Instances (RI): Long workload with flexible instance (66% discount, 但是可以自由改变 Instance Type)</li></ul></li><li>Saving Plans: 1 - 3 years, commitment to an amount of usage (72% discount, 要定一个使用上限, 超过上限就变成 On-Demand)<ul><li>还有 Compute Saving Plan, 66% discount, work with Lambda and Fargate</li></ul></li><li>Spot Instance: Short workload, can lose instance (最便宜, 90% discount)</li><li>Dedicated Host: The physical server is yours (最贵, 可以控制 how Instance placed)</li><li>Dedicated Instance: Run hardware, but not lockdown to you (服务器大部分是你的)</li><li>Capacity Reservation: Reserve capacity in AZ (比如一天中只有几个小时需要 EC2)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224149.png"></p><hr><h4 id="EC2-Spot-Instance"><a href="#EC2-Spot-Instance" class="headerlink" title="EC2 Spot Instance"></a>EC2 Spot Instance</h4><ul><li>只能在 open, active 或者 disabled 的状态下 cancel Spot Instance</li><li>需要先 cancel Spot Instance, 然后再 terminate (Cancel 不代表 Terminate)</li><li>Spot Instance 有 one-time 和 persistent 两种 request type</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img225943.png"></p><ul><li>Spot Fleets: Automatically request Spot Instance with lowest price (Spot + On-Demand)<ul><li>拿到最便宜的 Spot Instances</li></ul></li><li>Spot Fleets are set to maintain target capacity (可以保证一定数量的 Instance)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230258.png"></p><hr><h3 id="4-EC2-SAA-Level"><a href="#4-EC2-SAA-Level" class="headerlink" title="4. EC2 SAA Level"></a>4. EC2 SAA Level</h3><h4 id="Elastic-IP"><a href="#Elastic-IP" class="headerlink" title="Elastic IP"></a>Elastic IP</h4><ul><li>Public IP: Unique across the whole web</li><li>Private IP: Unique across the private network</li><li>Elastic IP: Fixed Public IP for EC2 instance (不会改变)<ul><li>为什么要 Elastic IP, 因为 EC2 的 Public IP 会在重启后改变</li><li>而且 Elastic IP 可以节省 EC2 的开支, Private IP 也可以 (在 private internet 条件下)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img165706.png"></p><hr><h4 id="EC2-Placement-Groups"><a href="#EC2-Placement-Groups" class="headerlink" title="EC2 Placement Groups"></a>EC2 Placement Groups</h4><ul><li>Cluster: Low-latency, single AZ, 网速快但 AZ 可能 fail (处理 HPC)</li><li>Spread: High availability, critical application, 风险小但有限制, 每个 AZ 最多 7 个实例<ul><li>处理 small number of critical instances that need seperate from each other</li></ul></li><li>Partition: Partition instances across many partitions within an AZ, 7 partitions per AZ, up to 100 instances, span multiple region (Big Data, 风险小, 限制低)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170342.png"></p><ul><li>Cluster: Low-latency, single AZ, 网速快但 AZ 可能 fail (适合 HPC)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170525.png"></p><ul><li>Spread: High availability, critical application, 风险小但有限制, 每个 AZ 最多 7 个实例</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170652.png"></p><ul><li>Partition: Spreads instances across many partitions within an AZ, 7 partitions per AZ, up to 100 instances, span multiple region (Big Data, 风险小, 限制低)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170936.png"></p><hr><h4 id="Elatic-Network-Interfaces-ENI"><a href="#Elatic-Network-Interfaces-ENI" class="headerlink" title="Elatic Network Interfaces (ENI)"></a>Elatic Network Interfaces (ENI)</h4><ul><li>Virtual network card in a VPC</li><li>处理 EC2 Instance failover (故障转移), 绑定 AZ (不可以 attach 到其他 AZ 上)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img182407.png"></p><hr><h4 id="EC2-Hibernate"><a href="#EC2-Hibernate" class="headerlink" title="EC2 Hibernate"></a>EC2 Hibernate</h4><ul><li>EC2 Hibernate: Make EC2 instance boot faster (不是 stoped, 而是 hibernated)</li><li>EC2 Instance Root Volume type must be an EBS volume</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img183846.png"></p><hr><h3 id="5-EC2-Instance-Storage"><a href="#5-EC2-Instance-Storage" class="headerlink" title="5. EC2 Instance Storage"></a>5. EC2 Instance Storage</h3><h4 id="AWS-EBS"><a href="#AWS-EBS" class="headerlink" title="AWS EBS"></a>AWS EBS</h4><ul><li>Block-level storage, 类似 network drive, 绑定 AZ, provisioned capacity<ul><li>By default, Root Volume will be deleted on termination (重要)</li><li>By default, other EBS volume will not be deleted on termination (重要)</li></ul></li><li>可以从一个 EC2 Instance 取下来装到另一个上</li><li>EBS 是绑定 AZ 的 (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191440.png"></p><hr><h4 id="EBS-Snapshots"><a href="#EBS-Snapshots" class="headerlink" title="EBS Snapshots"></a>EBS Snapshots</h4><ul><li>Make a backup of EBS volume (备份 EBS)</li><li>可以将这个 snapshot 用在其他 AZ 或者 Region 上</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img195715.png"></p><ul><li>EBS Snapchot Archive: 便宜 75%</li><li>Recycle Bin: Setup rules to retain deleted snapshots (可以 recover)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img195833.png"></p><hr><h4 id="AWS-AMI"><a href="#AWS-AMI" class="headerlink" title="AWS AMI"></a>AWS AMI</h4><ul><li>AMI: Amazon Machine Image (Customization of an EC2 Instance)<ul><li>可以更好的管理和启动 EC2 Instance</li></ul></li><li>Built for a specific region and can copy across regions (AMI 跨域复制)</li></ul><blockquote><p>When the new AMI is copied from Region A into Region B, it automatically creates a snapshot in Region B (注意, 跨域 copy AMI 会产生 snapshot)</p></blockquote><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200249.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200341.png"></p><hr><h4 id="EC2-Instance-Store"><a href="#EC2-Instance-Store" class="headerlink" title="EC2 Instance Store"></a>EC2 Instance Store</h4><ul><li>Block-level storage, 物理硬盘 (Physical drive, temporary storage)</li><li>High random I&#x2F;O performance, good for cache &amp; buffer at low cost (重要)</li><li>EC2 Instance Store lose when stopped (Ephemeral, 数据在 Instance Store 关闭时消失)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203146.png"></p><ul><li>You can’t detach an Instance Store volume from one instance and attach it to a different instance</li><li>If you create an Amazon Machine Image (AMI) from an instance, the data on its instance store volumes isn’t preserved</li></ul><hr><h4 id="EBS-Volume-Types"><a href="#EBS-Volume-Types" class="headerlink" title="EBS Volume Types"></a>EBS Volume Types</h4><ul><li>General Purpose (gp2 &#x2F; gp3): Balanced, cost-effective</li><li>Provisioned IOPS (io1 &#x2F; io2): High-performance, support Multi-Attach<ul><li>记住, io 的比 gp 的贵, 但是 io 的 IOPS 也比 gp 高</li></ul></li><li>Hard Disk Drives (HDD): Data intensive (st1) 或者 less frequent access (sc1)<ul><li>HDD 不可以用来创建 EC2</li></ul></li><li>上面这些都没有超过 300,000 IOPS</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203437.png"></p><hr><h4 id="EBS-Multi-Attach"><a href="#EBS-Multi-Attach" class="headerlink" title="EBS Multi-Attach"></a>EBS Multi-Attach</h4><ul><li>Attach same EBS volume to multiple EC2 instance in same AZ (记住是相同的 AZ)</li><li>Only for io1 &#x2F; io2 family (Provisioned IOPS SSD, 重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203956.png"></p><hr><h4 id="EBS-Encryption"><a href="#EBS-Encryption" class="headerlink" title="EBS Encryption"></a>EBS Encryption</h4><ul><li>EBS Encryption (所有环节都是 encrypted 的)<ul><li>Data at rest is encrypted &amp; Data in flight is encrypted &amp; Snapshot is encrypted</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img204137.png"></p><ul><li>首先 create snapshot, 然后 encrypt snapshot, 然后创建一个新的 EBS Volume (从 encrypted snapshot), 然后将这个 volume 加入到原来的 Instance 上</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img204208.png"></p><hr><h4 id="EBS-RAID"><a href="#EBS-RAID" class="headerlink" title="EBS RAID"></a>EBS RAID</h4><ul><li>RAID 0 (看重 I&#x2F;O performance)<ul><li>Use RAID 0 when I&#x2F;O performance is more important than fault tolerance</li></ul></li><li>RAID 1 (看重 falut tolerance)<ul><li>Use RAID 1 when fault tolerance is more important than I&#x2F;O performance</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/imgpt6-q37-i1.jpg"></p><hr><h4 id="AWS-EFS"><a href="#AWS-EFS" class="headerlink" title="AWS EFS"></a>AWS EFS</h4><ul><li>NFS (Network file system), 可以 mount 到多个 EC2 Instance<ul><li>Scale automatically, no capacity planning</li></ul></li><li>EC2 Instances can access files on an EFS file system across AZs, Regions and VPCs<ul><li>重要, 可以从不同的 AZ, Region, VPC 来 access</li></ul></li><li>可以用 VPC Security Group 或者 IAM Policy 来 control access to EFS</li><li>EFS Infrequent Access (如果遇到 POSIX compliant file storage)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233415.png"></p><ul><li>NFS 有 2 种 Performance Mode<ul><li>General Purpose: Default (web server)</li><li>Max I&#x2F;O: High latency, throughput, parallel (Big Data, media process, 重要)</li></ul></li><li>NFS 有 3 种 Throughput Mode (重要)<ul><li>Bursting: 很快</li><li>Provisioned: 设置上限 (high throughput, 处理大量文件 migrate 时候使用)</li><li>Elastic: 根据 workload 来 scale</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233732.png"></p><blockquote><p>EFS 适合存储大型文件, 从价格的角度来看, 存 100 GB 的文件, EBS &gt; EFS &gt; S3 (价格)<br>EFS 并不是永远最贵的, 但 S3 永远是最便宜的</p></blockquote><hr><h3 id="6-ELB-amp-ASG"><a href="#6-ELB-amp-ASG" class="headerlink" title="6. ELB &amp; ASG"></a>6. ELB &amp; ASG</h3><h4 id="Scalability-amp-High-Availability"><a href="#Scalability-amp-High-Availability" class="headerlink" title="Scalability &amp; High Availability"></a>Scalability &amp; High Availability</h4><ul><li>Vertical (竖直) Scale: Increase the size of the Instance (但是有 hardware limit)</li><li>Horizontal (水平) Scale: Increase the number of the Instance</li><li>High Availability: Rrunning application in at least 2 AZ (Disaster recovery, DR, 重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img080120.png"></p><hr><h4 id="AWS-ELB"><a href="#AWS-ELB" class="headerlink" title="AWS ELB"></a>AWS ELB</h4><ul><li>Foward traffic to multiple EC2 Instances (流量控制)<ul><li>High Availability across AZs, handle failures of downstream instances</li></ul></li><li>Health Check: 可以知道 EC2 Instance 是否是 Healthy 的<ul><li>ASG 是用 EC2 based health check, ALB 用的是 ALB based health check</li><li>ELB 应该在 public subnet, ASG 应该在 private subnet (重要)</li></ul></li><li>ELB cannot distribute traffic for targets deployed in different region</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img141400.png"></p><ul><li>Application Load Balancer (HTTP &#x2F; HTTPS, Layer 7)</li><li>Network Load Balancer (TCP &#x2F; UDP, Layer 4)<ul><li>NLB provide static DNS and static IP, ALB only provide static DNS</li></ul></li><li>Gateway Load Balancer (Security, Layer 3, 要特别注意)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img090125.png"></p><hr><h4 id="Application-Load-Balancer-ALB"><a href="#Application-Load-Balancer-ALB" class="headerlink" title="Application Load Balancer (ALB)"></a>Application Load Balancer (ALB)</h4><ul><li>Deal with Layer 7 (HTTP &#x2F; HTTPS)</li><li>Route base on Path (&#x2F;Home) or Query (?Platform&#x3D;Mobile)</li><li>ALB adds an additional header called “X-Forwarded-For” contains the client’s IP</li><li>可以 configure ALB to redirect HTTP to HTTPS (重要)</li><li>ALB 无法被 assign Elstaic IP</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192523.png"></p><ul><li>Routing tables to different target groups<ul><li>Route based on path in URL</li><li>Route based on hostname in URL</li><li>Route based on Query String, Headers, Client IP</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img142631.png"></p><ul><li>ALB Target Groups:<ul><li>EC2 Instance, ECS, Lambda, IP Address</li></ul></li></ul><blockquote><p>To forward all requests to the website so that the requests will use HTTPS, a solutions architect can create a listener rule on the ALB that redirects HTTP traffic to HTTPS.</p></blockquote><hr><h4 id="Network-Load-Balancer-NLB"><a href="#Network-Load-Balancer-NLB" class="headerlink" title="Network Load Balancer (NLB)"></a>Network Load Balancer (NLB)</h4><ul><li>Deal with Layer 4 (TCP &#x2F; UDP), 很快, 处理有大量 request 的情况</li><li>One static IP per AZ or use Elastic IP</li><li>NLB supports HTTP health checks as well as TCP and HTTPS</li><li>注意, NLB best suited for use-cases involving low latency and high throughput workloads, 比如银行, 游戏</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img144359.png"></p><blockquote><p>If you specify targets using an instance ID, traffic is routed to instances using the primary private IP address specified in the primary network interface for the instance.</p></blockquote><hr><h4 id="Gateway-Load-Balancer-GWLB"><a href="#Gateway-Load-Balancer-GWLB" class="headerlink" title="Gateway Load Balancer (GWLB)"></a>Gateway Load Balancer (GWLB)</h4><ul><li>Deal with Layer 3 (Security, 3rd Party)</li><li>GWLB allows perform inline inspection of traffic from multiple spoke VPCs in a simplified and scalable fashion</li><li>Use GENEVE protocol on port 6081</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223042.png"></p><hr><h4 id="Sticky-Sessions-Session-Affinity"><a href="#Sticky-Sessions-Session-Affinity" class="headerlink" title="Sticky Sessions (Session Affinity)"></a>Sticky Sessions (Session Affinity)</h4><ul><li>Same client is always redirect to the same instance behind a load balancer</li><li>Make sure user doesn’t loss session data (比如用户登录)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223425.png"></p><ul><li>Application-based Cookies: Don’t use AWSALB, AWSALBAPP, AWSALBTG</li><li>Duration-based Cookies: AWSALB for ALB, AWSELB for CLB</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223604.png"></p><hr><h4 id="Cross-Zone-Load-Balancing"><a href="#Cross-Zone-Load-Balancing" class="headerlink" title="Cross Zone Load Balancing"></a>Cross Zone Load Balancing</h4><ul><li>ELB distributes traffic evenly across all registered EC2 instances in all AZs<ul><li>所有 Instance 分到的 traffic 一定是一样的</li><li>如果没有 enable, 那么 AZ 内部就是平均分</li></ul></li><li>ALB enabled by default, NLB disabled by default (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230059.png"></p><hr><h4 id="SSL-Certificates"><a href="#SSL-Certificates" class="headerlink" title="SSL Certificates"></a>SSL Certificates</h4><ul><li>Allow traffic between client and load balancer encrypted in transit (HTTPS)<ul><li>Manage SSL certificates using ACM (AWS Certificate Manager)</li></ul></li><li>如果问到需要管理很多个 SSL 或者 TSL, 选择 SNI (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230614.png"></p><ul><li>Could be used in ALB &amp; NLB, use SNI to make it work</li><li>SNI: Load multiple SSL certificates onto one web server (Server Name Indication)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230910.png"></p><hr><h4 id="Connection-Draining"><a href="#Connection-Draining" class="headerlink" title="Connection Draining"></a>Connection Draining</h4><ul><li>Waiting for existing connections to complete</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231418.png"></p><blockquote><p>Connection Draining enables the load balancer to complete in-flight requests made to instances that are de-registering or unhealthy</p></blockquote><hr><h4 id="AWS-ASG"><a href="#AWS-ASG" class="headerlink" title="AWS ASG"></a>AWS ASG</h4><ul><li>ASG 可以和 ELB 一起用, 来 scale out 或者 in 基于服务器压力 (免费)</li><li>ASG 可以保证最少或最多有多少 EC2 Instance 在工作 (min, max)<ul><li>ASG 是在一个 Region 里面去根据 availiable 的 AZ 进行 scale</li></ul></li><li>当一个 Instance 是 unhealthy 的时候, ASG 会 terminate 这个 Instance<ul><li>ASG 在一个 AZ 里最早 terminate 的是那个最早被 launch 的 Instance</li><li>遇到 unbalanced 的情况, ASG 是先 launch new instance 然后 terminate old instance</li><li>但是在 unhealthy 的情况下是先 terminate unhealth Instance 然后 create new</li></ul></li><li>如果问到在某个节日前去 scale, 那就是 ASG scheduled action</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232350.png"></p><ul><li>可以和 ELB 一起用, 来 scale out 或者 in 基于服务器压力</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232615.png"></p><ul><li>Launch Template: 可以作为 template 来生成 EC2 Instance<ul><li>Launch Template 是管要生成什么 Instance 的 (eg. Spot, On-Demand)</li><li>Launch Configuration 是管生成的 Instance 的信息的 (eg. AMI, security group)</li></ul></li><li>如果要更新 Launch Template, 需要删掉旧的然后使用新的 (注意)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232823.png"></p><ul><li>可以和 CloudWatch Alarm 一起根据服务器压力 scale out 或 scale in</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232959.png"></p><ul><li>ASG 不 terminate Instance 的情况<ul><li>The health check grace period for the instance has not expired</li><li>The instance maybe in Impaired status</li><li>The instance has failed the Elastic Load Balancing (ELB) health check status</li></ul></li></ul><hr><h4 id="Scaling-Policies"><a href="#Scaling-Policies" class="headerlink" title="Scaling Policies"></a>Scaling Policies</h4><ul><li>Dynamic Scaling<ul><li>Target Tracking Scaling: 根据 CPU 用量或者 SQS 长度来 scale</li><li>Simple &#x2F; Step Scaling: 和 CloudWatch Alarm 关联</li><li>Scheduled Actions: 比如在感恩节那天进行 scale</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233532.png"></p><ul><li>Predictive Scaling<ul><li>Forecast load and schedule scaling ahead</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233711.png"></p><hr><h3 id="7-AWS-Fundamentals"><a href="#7-AWS-Fundamentals" class="headerlink" title="7. AWS Fundamentals"></a>7. AWS Fundamentals</h3><h4 id="AWS-RDS"><a href="#AWS-RDS" class="headerlink" title="AWS RDS"></a>AWS RDS</h4><ul><li>使用 RDS 的好处 (对比将数据库存在 EC2 上)<ul><li>Automated provisioning, auto-scaling, backup</li><li>Read Replicas (最多 15 个) 和 Multi-AZ</li></ul></li><li>RDS RIs: 类似 EC2 RIs</li><li>RDS Read Replica: If master database is encrypted, the replica is also encrypted<ul><li>注意, Read Replica 提高的是 read, 而不是 scale 数据库的 storage (而且 Replica 贵), 处理类似 report 或者 analytics 的就是 Read Replica</li><li>Read Replica 不是提高 High Availability, Multi-AZ 才是</li><li>Cross-Region Read Replica: 当 disaster 发生, 可以作为 DB backup</li></ul></li><li>RDS Multi-AZ: RDS create a primary DB Instance and synchronously replicates the data to a standby instance in a different AZ (High Availability)<ul><li>RDS Multi-AZ update 是 standby 和 primary 一起 update (会有 downtime)</li></ul></li><li>Support MySQL, PostgreSQL, MariaDB, Oracle, MS SQL Server, and Amazon Aurora</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img161720.png"></p><ul><li>Storage Auto Scaling (自动 scale)<ul><li>For application with unpredictable workloads</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img161952.png"></p><ul><li>Disaster Recovery<ul><li>Create a Read Replica in different region and enable Multi-AZ on Read Replica</li></ul></li><li>IAM Database Authentication: 可以用来访问 RDS</li><li>可以从 RDS Read Replica 迁移到 Aurora Read Replica, 这个做法可以 minimal change</li></ul><hr><h4 id="Read-Replicas-vs-Multi-AZ"><a href="#Read-Replicas-vs-Multi-AZ" class="headerlink" title="Read Replicas vs. Multi AZ"></a>Read Replicas vs. Multi AZ</h4><ul><li>Read Replicas: Scalability, Async Replication<ul><li>Within AZ, Cross AZ or Cross Region</li></ul></li><li>Read Replicas in Same Region is free (Replication in AZs), Cross Region is not free</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173522.png"></p><ul><li>用 Production databse 处理日常, 用 Read Replica 来建一个副本处理数据分析</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173820.png"></p><ul><li>Multi AZ: High Availability, Disaster Recovery, Sync Replication<ul><li>在 Multi-AZ 的情况下, 当 RDS 数据库 goes down, CNAME 会更新指向 standby</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174148.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174357.png"></p><hr><h4 id="RDS-Custom"><a href="#RDS-Custom" class="headerlink" title="RDS Custom"></a>RDS Custom</h4><ul><li>Could access the underlying database and OS<ul><li>只有 Oracle 和 Microsoft SQL Server 可以</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174702.png"></p><hr><h4 id="AWS-Aurora"><a href="#AWS-Aurora" class="headerlink" title="AWS Aurora"></a>AWS Aurora</h4><ul><li>Support PostgreSQL and MySQL (不需要管理 storage)</li><li>Aurora 没有 standby database, Aurora Replica 可以作为 failover target</li><li>一般来说, Aurora 比 RDS 快</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img183915.png"></p><ul><li>High Availiability &amp; Read Scaling (Aurora Read Replica)<ul><li>One Master Write, Multiple Read Replicas (Up to 15 Replica), 一共 16 个</li><li>如果问到和 Aurora 有关, 且关于处理网络请求激增的问题, 选 Aurora Replica</li><li>Replica Tier 越高, failover 时被 promote</li></ul></li><li>如果问到关于 Aurora 的 Auto-Scaling, 那就是 Aurora Serverless</li><li>如果问到 Aurora 而且是 test database, 选择 Aurora Database Cloning</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184105.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184221.png"></p><hr><h4 id="Aurora-Advanced"><a href="#Aurora-Advanced" class="headerlink" title="Aurora Advanced"></a>Aurora Advanced</h4><ul><li>Aurora Replicas Auto Scaling: 和 EC2 的 Auto Scaling 类似</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184516.png"></p><ul><li>Aurora Custom Endpoints: 可以在上面跑数据分析</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184559.png"></p><ul><li>Aurora Serverless: Automated database instantiation and auto scaling (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184700.png"></p><ul><li>Aurora Global: Cross Region replication takes less than 1 second<ul><li>同时保证至少有一个 Replica 可以用 (重要)</li><li>Designed for globally distributed application, with fast local reads with low latency</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184847.png"></p><ul><li>Aurora Machine Learning: ML prediction</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184942.png"></p><ul><li>Aurora Database Cloning<ul><li>可以快速 access Aurora DB, 比 snapshot &amp; retore 快</li><li>当需要制作 test database 的时候选 Aurora Database Cloning</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185556.png"></p><hr><h4 id="Backup-amp-Monitoring"><a href="#Backup-amp-Monitoring" class="headerlink" title="Backup &amp; Monitoring"></a>Backup &amp; Monitoring</h4><ul><li>RDS Backups (有两种)<ul><li>Automated backups: 每天自动 backup</li><li>Manual DB Snapshots: 手动 backup</li></ul></li><li>注意, 如果是为了省钱, 可以在用完数据库后制作数据库 snapshot, 然后 terminate 数据库, 在需要的时候再把数据库 snapshot restore 回去</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185223.png"></p><ul><li>Aurora Backups (和上面一样)<ul><li>Automated backups: 每天自动 backup</li><li>Manual DB Snapshots: 手动 backup</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185353.png"></p><ul><li>RDS &amp; Aurora Restore options<ul><li>最基本的就是用 snapshot 来 restore</li><li>如果是从 On-Premise, 可以做一个 backup 然后存到 S3, 再从 S3 来 restore</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185459.png"></p><hr><h4 id="RDS-Security"><a href="#RDS-Security" class="headerlink" title="RDS Security"></a>RDS Security</h4><ul><li>At-rest encryption: AWS KMS (Key Management Service)</li><li>In-flight encryption: AWS TLS Certificates</li><li>IAM Authentication: IAM roles to connect to database</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img133048.png"></p><hr><h4 id="RDS-Proxy"><a href="#RDS-Proxy" class="headerlink" title="RDS Proxy"></a>RDS Proxy</h4><ul><li>Have a proxy for access RDS or Aurora, 缓解数据库压力, minimize open connections<ul><li>Allow apps to pool and share DB connections (提高 DB efficiency)</li><li>Reduced RDS &amp; Aurora failover time by up 66%</li><li>No code change (重要)</li></ul></li><li>Serverless, auto scaling, Highly Avaliable (Multi-AZ)</li><li>Not publicly accessible (Need to use VPC)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184531.png"></p><hr><h4 id="AWS-ElastiCache"><a href="#AWS-ElastiCache" class="headerlink" title="AWS ElastiCache"></a>AWS ElastiCache</h4><ul><li>Manage Redis or Memcached (ElastiCache 解决的是数据库高频读取的问题, 重要)<ul><li>ElastiCache 也是 in-memory data store, 而且支持 SQL query caching</li></ul></li><li>Cache are in-memory database with high performance and low latency (compute-intensive)</li><li>Cache helps reduce load off of database for read intensive workload (read heavy)</li><li>Help to make application stateless (AWS 负责大部分工作)</li><li>处理 S3 的是 CloudFront, 而不是 ElastiCache (记住)</li><li>支持 multi-threading 的是 ElastiCache for Memcached</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img184841.png"></p><ul><li>DB Cache: Get data from ElastiCache<ul><li>If not avaliable, get from RDS and store in ElastiCache</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185024.png"></p><ul><li>User Session: Write Session data into ElastiCache<ul><li>User in another instance could still be logged in</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185153.png"></p><ul><li>Redis vs Memcahed<ul><li>Redis: Read Replicas, High Availiablity, Backup and restore (非常重要)</li><li>Memcached: Not High Availiablity, No Backup, Have Risk to Lose Data, Multi-threaded</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185310.png"></p><hr><h4 id="ElastiCache-SAA"><a href="#ElastiCache-SAA" class="headerlink" title="ElastiCache SAA"></a>ElastiCache SAA</h4><ul><li>ElastiCache supports IAM Authentication for Redis</li><li>Memcached supports SASL-based authentication</li><li>IAM Database Authentication does not support Oracle</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200638.png"></p><ul><li>Patterns for ElastiCache<ul><li>Lazy Loading, Write Through, Session Store</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200822.png"></p><ul><li>ElastiCache Use Case<ul><li>Gaming Leaderboards (用 Redis 的 Sorted Sets, 重要)</li><li>Manage and store session data</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200907.png"></p><hr><h3 id="8-Route-53"><a href="#8-Route-53" class="headerlink" title="8. Route 53"></a>8. Route 53</h3><h4 id="What’s-DNS"><a href="#What’s-DNS" class="headerlink" title="What’s DNS"></a>What’s DNS</h4><ul><li>Translate hostname into IP address<ul><li><a target="_blank" rel="noopener" href="http://www.google.com/">www.google.com</a> &#x3D; 172.217.18.36</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213136.png"></p><hr><h4 id="AWS-Route-53"><a href="#AWS-Route-53" class="headerlink" title="AWS Route 53"></a>AWS Route 53</h4><ul><li>User can update the DNS records (High available, scalable)</li><li>Route 53 is a Domain Registrar</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213527.png"></p><ul><li>Route 53 Records:<ul><li>Domain Name, Record Type, Value, Routing Policy, TTL</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213613.png"></p><ul><li>Route 53 Record Types<ul><li>A: IPv4</li><li>AAAA: IPv6</li><li>CNAME: Map hostname to another hostname</li><li>NS: Name Servers for the Hosted Zone</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213753.png"></p><ul><li>Route 53: Hosted Zones<ul><li>Public Hosted Zones: Public domain name</li><li>Private Hosted Zones: Private domain name (VPC)</li></ul></li></ul><blockquote><p>注意, DNS hostnames and DNS resolution are required settings for private hosted zones</p></blockquote><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234126.png"></p><ul><li>GoDaddy + Route 53 (As DNS Service Provider)<ul><li>Create a Public Hosted Zone and update the 3rd party Registrar NS records</li></ul></li><li>Route 53 Health Check<ul><li>如果 ELB 出问题, 就去找 Route 53 Health Check</li></ul></li></ul><hr><h4 id="Route-53-TTL"><a href="#Route-53-TTL" class="headerlink" title="Route 53 TTL"></a>Route 53 TTL</h4><ul><li>TTL: Time To Live (生存时间)<ul><li>How long the value should be cached (后端更新不代表 cache 更新了)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232659.png"></p><hr><h4 id="CNAME-vs-Alias"><a href="#CNAME-vs-Alias" class="headerlink" title="CNAME vs Alias"></a>CNAME vs Alias</h4><ul><li>CNAME: Point a hostname to another hostname<ul><li>从 acme.example.com 到 zenith.example.org 或者 example.com 到 example.net</li></ul></li><li>Alias: Point a hostname to an AWS Resource (对象是 CloudFront, S3 这些)<ul><li>从 covid19survey.com 到 <a target="_blank" rel="noopener" href="http://www.covid19survey.com/">www.covid19survey.com</a></li><li>从 app.mydomain.com 到 app.amazonaws.com</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233313.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233425.png"></p><hr><h4 id="Health-Checks"><a href="#Health-Checks" class="headerlink" title="Health Checks"></a>Health Checks</h4><ul><li>Health Checks are only for public resources</li><li>Health Check 检测: Endpoints, 其他 Health Checks, CloudWatch Alarms</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000106.png"></p><hr><h4 id="Routing-Policy-Simple"><a href="#Routing-Policy-Simple" class="headerlink" title="Routing Policy (Simple)"></a>Routing Policy (Simple)</h4><ul><li>Define how Route 53 responds to DNS queries</li><li>一共 7 种 Routing Policies</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234623.png"></p><ul><li>Simple: Route traffic to a single resource<ul><li>If multiple values returned, a random one is chosen by client</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234350.png"></p><hr><h4 id="Routing-Policy-Weighted"><a href="#Routing-Policy-Weighted" class="headerlink" title="Routing Policy (Weighted)"></a>Routing Policy (Weighted)</h4><ul><li>Weighted: Control the % of the request go to each resource</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234856.png"></p><hr><h4 id="Routing-Policy-Latency"><a href="#Routing-Policy-Latency" class="headerlink" title="Routing Policy (Latency)"></a>Routing Policy (Latency)</h4><ul><li>Latency: Redirect to the resource that has the least latency close to us</li><li>Latency is based on traffic between users and AWS Regions</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img235654.png"></p><hr><h4 id="Routing-Policy-Failover"><a href="#Routing-Policy-Failover" class="headerlink" title="Routing Policy (Failover)"></a>Routing Policy (Failover)</h4><ul><li>Failover: Have a Primary Instance and a Secondary Instance (重要)<ul><li>When failover, switch to Secondary Instance</li></ul></li><li>注意, 当问到 failover 的时候, 选择的是 active-passive failover routing policy<ul><li>没有什么 active-active, 只有 active-passive</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150940.png"></p><hr><h4 id="Routing-Policy-Geolocation"><a href="#Routing-Policy-Geolocation" class="headerlink" title="Routing Policy (Geolocation)"></a>Routing Policy (Geolocation)</h4><ul><li>Geolocation: Routing based on user location<ul><li>Need to create a “Default” record</li><li>Use cases: website localization, restrict content distribution 等等</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151650.png"></p><hr><h4 id="Routing-Policy-Geoproximity"><a href="#Routing-Policy-Geoproximity" class="headerlink" title="Routing Policy (Geoproximity)"></a>Routing Policy (Geoproximity)</h4><ul><li>Geoproximity: Route traffic to resource based on geolocation<ul><li>But have the ability to shift more traffic to resource based on bias (重要)</li><li>可以做到 route more traffic or less</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152310.png"></p><hr><h4 id="Routing-Policy-IP-Based"><a href="#Routing-Policy-IP-Based" class="headerlink" title="Routing Policy (IP-Based)"></a>Routing Policy (IP-Based)</h4><ul><li>IP-Based: Routing based on client’s IP address<ul><li>Provide a list of CIDRs for your client</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img153711.png"></p><hr><h4 id="Routing-Policy-Multi-Value"><a href="#Routing-Policy-Multi-Value" class="headerlink" title="Routing Policy (Multi-Value)"></a>Routing Policy (Multi-Value)</h4><ul><li>Multi-Value: Route traffic to multiple resources<ul><li>Not a subsitute for ELB</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img153842.png"></p><hr><h3 id="9-Beanstalk"><a href="#9-Beanstalk" class="headerlink" title="9. Beanstalk"></a>9. Beanstalk</h3><h4 id="Instantiate-App"><a href="#Instantiate-App" class="headerlink" title="Instantiate App"></a>Instantiate App</h4><ul><li>EC2 Instance<ul><li>Golden AMI: Install all applications beforehand and launch EC2 Instance</li><li>User Data: Dynamic configuration (记住是 dynamic)</li></ul></li><li>RDS Database: Restore from a snapshot (Data &amp; Schema ready)</li><li>EBS Volume: Restore from a snapshot</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173401.png"></p><hr><h4 id="Elastic-Beanstalk"><a href="#Elastic-Beanstalk" class="headerlink" title="Elastic Beanstalk"></a>Elastic Beanstalk</h4><ul><li>只需要负责 Code, 其他都由 AWS 负责</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img210323.png"></p><ul><li>Web Server Tier vs. Worker Tier<ul><li>一个管 Web Server, 另一个处理 Process (SQS, SNS 等等)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img210711.png"></p><hr><h3 id="10-AWS-S3"><a href="#10-AWS-S3" class="headerlink" title="10. AWS S3"></a>10. AWS S3</h3><h4 id="AWS-S3"><a href="#AWS-S3" class="headerlink" title="AWS S3"></a>AWS S3</h4><ul><li>S3 Buckets (S3 是 Global 的, 但是 Bucket 是 Regional 的)<ul><li>Store objects (files) in “buckets”</li><li>Buckets must have globally unique name (名字必须独特)</li><li>Buckets are defined at region level</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img171839.png"></p><ul><li>Objects (files) have a key, max object size is 5TB</li><li>The key is the FULL path (prefix + object name)</li><li>如果上传超过 5 GB, 就要用 Multi-Part Upload (还有 S3 Transfer Acceleration)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img172025.png"></p><ul><li>S3 sync command: Uses the CopyObject APIs to copy objects between S3 buckets</li><li>S3 always return the lastest version of the object (重要)</li><li>S3 没办法加密 metadata</li><li>S3 是 serverless 的</li><li>如果遇到需要处理 static content 的, 就一定是 S3 + CloudFront (重要)</li><li>如果问到 S3 而且是关于图片上传, 选择 S3 Event Notification, 不是 EventBridge (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/imglifecycle-transitions-v2.png"></p><ul><li>如果发现 S3 的传输功能出问题, 那么就给 S3 bucket 加上 prefix</li><li>注意, S3 和 Database 是不沾边的, S3 不是数据库</li></ul><blockquote><p>By default, an Amazon S3 object is owned by the AWS account that uploaded it. This is true even when the bucket is owned by another account (重要)</p></blockquote><ul><li>Host 在 S3 上面的网站一般是以下两种后缀 (dash Region 或者 dot Region)<ul><li>s3-website dash (-) Region ‐ <a target="_blank" rel="noopener" href="http://bucket-name.s3-website.region.amazonaws.com/">http://bucket-name.s3-website.Region.amazonaws.com</a></li><li>s3-website dot (.) Region ‐ <a target="_blank" rel="noopener" href="http://bucket-name.s3-website-region.amazonaws.com/">http://bucket-name.s3-website-Region.amazonaws.com</a></li></ul></li></ul><hr><h4 id="S3-Bucket-Policy"><a href="#S3-Bucket-Policy" class="headerlink" title="S3 Bucket Policy"></a>S3 Bucket Policy</h4><ul><li>User-Based Security<ul><li>IAM Policies: Which API calls should be allowed for a user from IAM (重要)</li></ul></li><li>Resource-Based Security<ul><li>Bucket Policies: Bucket rules (比如让 Object public, 重要)</li><li>Object Access Control List (ACL)</li><li>Bucket Access Control List (ACL)</li></ul></li><li>Encryption: Encrypt objects in S3 with encryption keys</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173050.png"></p><ul><li>S3 Bucket Policies (JSON based policies)<ul><li>Resoruces: buckets and objects</li><li>Effect: Allow &#x2F; Deny</li><li>Actions: API to Allow or Deny</li><li>Principal: The account or user to apply the policy to</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173325.png"></p><hr><h4 id="S3-Versioning"><a href="#S3-Versioning" class="headerlink" title="S3 Versioning"></a>S3 Versioning</h4><ul><li>Enabled at the bucket level (Default is null)</li><li>Best pratice to version the buckets (可以 roll back, 可以防止误删, 重要)<ul><li>可以防止 accidental deletion of objects</li></ul></li><li>Once version-enable a bucket, it can never return to an unversioned state (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174246.png"></p><hr><h4 id="S3-Replication-CRR-amp-SRR"><a href="#S3-Replication-CRR-amp-SRR" class="headerlink" title="S3 Replication (CRR &amp; SRR)"></a>S3 Replication (CRR &amp; SRR)</h4><ul><li>CRR: Cross Region Replication (compliance, lower latency access)</li><li>SRR: Same Region Replication (create test environment)<ul><li>Must enable Versioning</li><li>The Copying is asynchronous</li><li>Must give IAM permissions to S3</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174840.png"></p><ul><li>Only new objects are replicated, existing objects need S3 Batch Replication<ul><li>也就是说只有新的 object 会被 Replicate, 老的 object 要 S3 Batch Replication</li></ul></li><li>No “chaining” in replication<ul><li>比如把 A 复制到 B 和 C, 需要 A 复制到 B 和 A 复制到 C</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175004.png"></p><hr><h4 id="S3-Storage-Classes"><a href="#S3-Storage-Classes" class="headerlink" title="S3 Storage Classes"></a>S3 Storage Classes</h4><ul><li>一共 7 种 Storage Class: General + 2 IA + 3 Glacier + Intelligent</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175742.png"></p><ul><li>S3 Standard - General Purpose<ul><li>Used for frequently accessed data (最常见)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175932.png"></p><ul><li>S3 Infrequent Access (Standard IA &amp; One Zone IA)<ul><li>For data is less frequent access but require rapid access when needed (重要)</li><li>Lower cost than Standard</li><li>从 Standard 转到 One Zone IA 最少要 30 天</li><li>One Zone IA 不是 High Availability 的选择 (注意, 因为 AZ 会 down)</li><li>如果遇到 access is always required 就不能选 One Zone IA, 因为 AZ 可能会 down</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180147.png"></p><ul><li>S3 Glacier Storage Classes (Archive 专用)<ul><li>Low-cost object storage for archiving &#x2F; backup</li><li>Price: storage + retrieval</li><li>S3 Glacier Instant Retrieval: Glacier 里最快但也最贵</li><li>S3 Glacier Flexible Retrieval: 三种模式 (Expedited 加急, Standard, Bulk 批量)</li><li>S3 Glacier Deep Archive: 存的时间最久, 两种模式 (Standard, Bulk), 48 小时 retrieval</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180642.png"></p><ul><li>S3 Intelligent Tiering<ul><li>Move objects automatically between Access Tiers based on usage</li><li>就是自动帮你把 Object 移到不同的 Storage Class 里</li><li>Intelligent Tier 是在 Standard 和 Standard IA 下面的, 不能从下往上转移</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180806.png"></p><hr><h3 id="11-AWS-S3-Advance"><a href="#11-AWS-S3-Advance" class="headerlink" title="11. AWS S3 Advance"></a>11. AWS S3 Advance</h3><h4 id="S3-Lifecycle-Rules"><a href="#S3-Lifecycle-Rules" class="headerlink" title="S3 Lifecycle Rules"></a>S3 Lifecycle Rules</h4><ul><li>Transition objects between storage classes (比如从 IA 到 Glacier)<ul><li>Transition 需要 Lifecycle Rules (重要)</li></ul></li><li>比如从 Snowball 到 Glacier 就需要 Lifecycle Rule</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img235516.png"></p><ul><li>Transition Actions: Configure objects to transition to another storage class (转移)</li><li>Expiration Actions: Configure objects to expire after some time (删除)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img235639.png"></p><ul><li>S3 Analytics: Help decide when to transition objects to the right storage class</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000151.png"></p><hr><h4 id="S3-Requester-Pays"><a href="#S3-Requester-Pays" class="headerlink" title="S3 Requester Pays"></a>S3 Requester Pays</h4><ul><li>The requester pays the cost of the request intead of the bucket owner<ul><li>反而是用户付钱, 但是用户得是 AWS 用户</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000532.png"></p><hr><h4 id="S3-Event-Notifications"><a href="#S3-Event-Notifications" class="headerlink" title="S3 Event Notifications"></a>S3 Event Notifications</h4><ul><li>Automatically react to certain event happened in S3 (比如图片上传)<ul><li>Need to have IAM Permissions</li><li>S3 Event Notification 的 destination 是 SQS, SNS, Lambda (记住)</li></ul></li><li>大部分和 S3 事件相关的都是 S3 Event Notification, 而不是 EventBridge (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000725.png"></p><hr><h4 id="S3-Performance"><a href="#S3-Performance" class="headerlink" title="S3 Performance"></a>S3 Performance</h4><ul><li>For Upload 上传 (重要)<ul><li>Multi-Part Upload: 当上传文件大于 5 GB, 可以 parallelize uploads</li><li>S3 Transfer Acceleration: 将文件传到 AWS edge location, 可以和 Multi-Part 一起用</li><li>S3 Transfer Acceleration (S3TA) can speed up content transfers to and from S3 (针对关于 S3 的上传和下载)</li><li>注意, S3 Transfer Acceleration 没办法 copy object between buckets</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img001645.png"></p><ul><li>For Download 下载<ul><li>S3 Byte-Range Fetches: Parallelize GETs, retrieve partial data (拿部分数据, 重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img001828.png"></p><hr><h4 id="S3-Select-amp-Glacier-Select"><a href="#S3-Select-amp-Glacier-Select" class="headerlink" title="S3 Select &amp; Glacier Select"></a>S3 Select &amp; Glacier Select</h4><ul><li>S3 Select 使用 SQL 来做 server-side filtering, 过滤从而减少数据量</li><li>400% Faster, 80% Cheaper (性能优化)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002050.png"></p><hr><h4 id="S3-Batch-Operations"><a href="#S3-Batch-Operations" class="headerlink" title="S3 Batch Operations"></a>S3 Batch Operations</h4><ul><li>Perform bulk operations (批量操作) on existing S3 objects<ul><li>例如 encrypt all un-encrypted objects (加密所有没有加密的文件)</li></ul></li><li>在处理 Batch 之前, 用 S3 Inventory to get object list and use S3 Select to filter objects</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img022334.png"></p><hr><h3 id="12-AWS-S3-Security"><a href="#12-AWS-S3-Security" class="headerlink" title="12. AWS S3 Security"></a>12. AWS S3 Security</h3><h4 id="S3-Encryption"><a href="#S3-Encryption" class="headerlink" title="S3 Encryption"></a>S3 Encryption</h4><ul><li>一共有 4 种方法 (SSE-S3 免费, SSE-KMS 要钱)<ul><li>Server-Side Encryption (SSE-S3, SSE-KMS, SSE-C)</li><li>Client-Side Encryption (如果用户已经有 encryption method)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223133.png"></p><ul><li>Server-Side Encryption with Amazon S3-Managed Keys (SSE-S3)<ul><li>Enabled by default for new buckets &amp; objects</li><li>SSE-S3 的 header 是 x-amz-server-side-encryption</li><li>使用 SSE-S3, 每一个 Object 都是由 unique key 来 encrypt 的</li><li>SSE-S3 使用 256-bit Advanced Encryption Standard (AES-256)</li><li>SSE-S3 是没有 automatic key rotation 的, 要用 SSE-KMS (重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223242.png"></p><ul><li>Server-Side Encryption with KMS Keys stored in AWS KMS (SSE-KMS)<ul><li>User control + audit key usage in CloudTrail (可以管理 key rotation)</li><li>SSE-KMS 的 header 是 x-amz-server-side-encryption + aws:kms</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223417.png"></p><ul><li>Server-Side Encryption with Customer-Provided Keys (SSE-C)<ul><li>用户自己有 keys, AWS will not store the key, HTTPS must be used</li><li>当问题中提到用户需要使用自己的 key, 但是打算在 AWS 端做 encryption</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223602.png"></p><ul><li>Client-Side Encryption<ul><li>User fully manages the keys and encryption cycle</li><li>数据在送到 AWS 之前就是加密好的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223715.png"></p><ul><li>Encryption in Transit (SSL&#x2F;TLS)<ul><li>可以用 aws:SecureTransport 来 enforce (不过有 SSL 基本上就是 HTTPS)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223811.png"></p><hr><h4 id="S3-CORS"><a href="#S3-CORS" class="headerlink" title="S3 CORS"></a>S3 CORS</h4><ul><li>CORS: Cross-Origin Resource Sharing (跨域问题)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224630.png"></p><ul><li>S3 CORS (重要)<ul><li>A client makes a cross-origin request on S3 bucket, need the correct CORS headers</li><li>Can allow specific origin or *</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224951.png"></p><hr><h4 id="S3-MFA-Delete"><a href="#S3-MFA-Delete" class="headerlink" title="S3 MFA Delete"></a>S3 MFA Delete</h4><ul><li>MFA Delete: 防止不小心删除文件, 用户需要先验证身份 (重要)<ul><li>To use MFA Delete: Versioning must be enabled</li></ul></li><li>Only the bucket owner (root user) can enable&#x2F;disable MFA Delete (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img225415.png"></p><hr><h4 id="S3-Access-Logs"><a href="#S3-Access-Logs" class="headerlink" title="S3 Access Logs"></a>S3 Access Logs</h4><ul><li>Any request made to S3 will be logged to another S3 bucket (数据分析)<ul><li>可以作为 Data Analysis 的工具</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230251.png"></p><hr><h4 id="S3-Pre-signed-URLs"><a href="#S3-Pre-signed-URLs" class="headerlink" title="S3 Pre-signed URLs"></a>S3 Pre-signed URLs</h4><ul><li>Have URL expiration (过期)<ul><li>用在 Private Bucket 上, 一段时间后 URL 过期</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230702.png"></p><hr><h4 id="Glacier-Vault-Lock-amp-S3-Object-Lock"><a href="#Glacier-Vault-Lock-amp-S3-Object-Lock" class="headerlink" title="Glacier Vault Lock &amp; S3 Object Lock"></a>Glacier Vault Lock &amp; S3 Object Lock</h4><ul><li>S3 Glacier Vault Lock<ul><li>Adopt a WORM (Write Once Read Many), 信息一旦写入就无法修改</li><li>The object can’t be deleted (无法修改)</li></ul></li><li>可以用 Glacier Vault Lock 储存 sensitive 数据, 然后用 Vault Lock Policy 去管理</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230941.png"></p><ul><li>S3 Object Lock (Must have Versioning, 重要)<ul><li>Block an object version deletion for an amount of time (有时限)</li><li>两个 Retention mode (重要)<ul><li>Compliance: 所有人都没法删, Root user 也不行</li><li>Governance: 有些人可以删, 有权限的人可以</li></ul></li><li>Legal Hold: 防止 Object Version 被改, 除非你自己把 Legal Hold 移除 (重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231203.png"></p><hr><h4 id="S3-Access-Points"><a href="#S3-Access-Points" class="headerlink" title="S3 Access Points"></a>S3 Access Points</h4><ul><li>Access Points simplify security management for S3 Buckets (根据用户属性)</li><li>Each Access Point: DNS name + Access Point Policy</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231500.png"></p><hr><h4 id="S3-Object-Lambda"><a href="#S3-Object-Lambda" class="headerlink" title="S3 Object Lambda"></a>S3 Object Lambda</h4><ul><li>Use AWS Lambda to change object before retrieve by caller (在到达 caller 之前)<ul><li>用途: 可以给图片打水印</li></ul></li><li>需要 S3 Access Point 和 S3 Object Lambda Access Points</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231810.png"></p><hr><h3 id="13-CloudFront-amp-AWS-Global-Accelerator"><a href="#13-CloudFront-amp-AWS-Global-Accelerator" class="headerlink" title="13. CloudFront &amp; AWS Global Accelerator"></a>13. CloudFront &amp; AWS Global Accelerator</h3><h4 id="AWS-CloudFront"><a href="#AWS-CloudFront" class="headerlink" title="AWS CloudFront"></a>AWS CloudFront</h4><ul><li>Content Delivery Network (CDN), 可以 serve static &amp; dynamic content<ul><li>Improve read performance, content is cached at the edge</li></ul></li><li>可以防止 DDoS protection (搭配 AWS Shield), 可以根据 content type 来 route, 可以指定 primary &amp; secondary origins 来做 High Availiability &amp; Failover</li><li>CloudFront Origins: S3 Bucket (OAC) 或者 Custom Origin (HTTP)<ul><li>OAC: Origin Access Control (重要, 如果涉及到 S3 的问题)</li></ul></li><li>如果问到 CloudFront 而且需要 encryption, 选择 field level encryption (不是 KMS)<ul><li>Field-level encryption allows you to enable your users to securely upload sensitive information to your web servers.</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232701.png"></p><ul><li>CloudFront vs S3 Cross Region Replication<ul><li>CloudFront: 使用 global edge network, 有 TTL, 用于 static content</li><li>S3 Cross Region Replication (CRR): 每个 Region 都要设置, 但是没有 TTL, 用于 dynamic content (updated in near real-time, 只读)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233016.png"></p><ul><li>Price Classes: 不同地区的价格不一样<ul><li>可以用来 cost reduction (降低价格)</li></ul></li><li>CloudFront 允许 Proxy methods 和 Dynamic content 跳过 regional edge cache</li><li>除了 WAF 可以去 block IP, 还可以使用 OAI (origin access identity, 重要)<ul><li>OAI 也可以用来 secure communication between CloudFront &amp; S3</li></ul></li><li>可以用 CloudFront signed URLs 和 CloudFront signed cookies 来 restrict access to documents (比如 subscription)</li><li>Can configure CloudFront to require HTTPS from clients (可以用 CloudFront 要求 client 必须使用 HTTPS)</li></ul><hr><h4 id="CloudFront-Geo-Restriction"><a href="#CloudFront-Geo-Restriction" class="headerlink" title="CloudFront Geo Restriction"></a>CloudFront Geo Restriction</h4><ul><li>Allowlist &amp; Blocklist (针对 IP, 国家进行访问限制)<ul><li>CloudFront Geo Restriction 没办法和 VPC 一起使用</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233638.png"></p><hr><h4 id="CloudFront-Cache-Invalidation"><a href="#CloudFront-Cache-Invalidation" class="headerlink" title="CloudFront Cache Invalidation"></a>CloudFront Cache Invalidation</h4><ul><li>让 CloudFront 跳过 TTL 立即更新<ul><li>比如你更新了后端, 但是 CloudFront 不会立即更新, 需要 CloudFront Invalidation 来跳过 TTL 来立即更新</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234007.png"></p><hr><h4 id="AWS-Global-Accelerator"><a href="#AWS-Global-Accelerator" class="headerlink" title="AWS Global Accelerator"></a>AWS Global Accelerator</h4><ul><li>利用 AWS internal network to route application<ul><li>Provide 2 global static anycast IPs (重要)</li><li>Improve availability and performance of the applications (globally)</li></ul></li><li>Global Accelerator improves performance for applications over TCP or UDP</li><li>Global Accelerator has automatic failover</li><li>Global Accelerator is more expensive as it adds an extra layer of infrastructure (对比 CloudFront 不是一个 cost-effective 的选择)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234527.png"></p><ul><li>AWS Global Accelerator vs CloudFront<ul><li>CloudFront: Content is served at edge, 比如图片和视频 (cacheable), Dynamic content such as API acceleration &amp; dynamic site delivery</li><li>Global Accelerator: 适合 TCP 或者 UDP, 比如游戏和 IoT (static IP)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000939.png"></p><blockquote><p>AWS Global Accelerator is a network service that can provide a global traffic management solution. By creating a standard accelerator in AWS Global Accelerator, you can guide user traffic to the endpoint closest to them, thereby improving the performance and availability of the application.</p></blockquote><hr><h3 id="14-AWS-Storage-Extra"><a href="#14-AWS-Storage-Extra" class="headerlink" title="14. AWS Storage Extra"></a>14. AWS Storage Extra</h3><h4 id="AWS-Snow-Family"><a href="#AWS-Snow-Family" class="headerlink" title="AWS Snow Family"></a>AWS Snow Family</h4><ul><li>整个 Snow Family 都是硬件形式</li><li>Data migration (in &amp; out AWS) &amp; Edge Computing (process data at edge)<ul><li>Snowcone (体积小, 适合带到特殊环境, 没有 Snowball 内存大)</li><li>Snowball Edge (Storage Optimized 和 Compute Optimized, 推荐处理 10 - 100 TB)<ul><li>Compute Optimized 是支持 storage clustering 的</li><li>Terabytes, low costs, limited time &#x3D; AWS Snowball devices</li></ul></li><li>Snowmobile (不算在 Edge Computing 里, 数据传输最大, 推荐处理 10 PB 以上)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200544.png"></p><ul><li>Edge Location: 比如海上或者矿洞里, 没有网络的情况下<ul><li>所以需要 Edge Computing 和 Snow Family</li></ul></li><li>AWS OpsHub: 用来管理 AWS Snow Family</li><li>Snowball to Glacier: Use S3 lifecycle policy (Snowball 兼容 S3 但是 Glacier 不行, 重要)<ul><li>注意, 这里的 Glacier 指的是整个 Glacier Family (eg. Glacier Deep Archive)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201918.png"></p><hr><h4 id="AWS-FSx"><a href="#AWS-FSx" class="headerlink" title="AWS FSx"></a>AWS FSx</h4><ul><li>Third party high-performance file systems on AWS (第三方文件系统)<ul><li>FSx for Windows: Window file system, support SMB &amp; Windows NTFS</li><li>FSx for Lustre (Linux): 可以 maximize IOPS, 适合 HPC, 可以和 S3 Integrate</li><li>FSx for NetApp ONTAP: File system for NFS, SMB, iSCSI</li><li>FSx for OpenZFS: OpenZFS file system (和它名字一样)</li></ul></li></ul><blockquote><p>FSx for Lustre provides the ability to both process the ‘hot data’ in a parallel and distributed fashion as well as easily store the ‘cold data’ on Amazon S3.</p></blockquote><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202205.png"></p><ul><li>两种 Deployment Options<ul><li>Scratch File System: Temporary storage, data not replicated</li><li>Persistent File System: Long term storage, data replicated (Same AZ, 重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202555.png"></p><hr><h4 id="AWS-Storage-Gateway"><a href="#AWS-Storage-Gateway" class="headerlink" title="AWS Storage Gateway"></a>AWS Storage Gateway</h4><ul><li>Bridge between On-Premise data and cloud data (Hybrid cloud, 重要)<ul><li>On-Premise 和 AWS Cloud 之间的桥梁 (保留从 On-Premise 去访问 AWS 数据的能力)</li><li>重点, Hybrid Cloud, give On-Premise ability to access cloud storage</li></ul></li><li>提到 NFS 的就是 File Gateway, 问 S3 大部分都是 File Gateway</li><li>DataSync 是用来移数据的, File Gateway 是用来维持 access 的 (重要)</li><li>File Gateway 是 file storage, Volume Gateway 是 block storage (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203211.png"></p><ul><li>一共有 4 种 Gateway (注意, Storage Gateway 泛指下面这 4 个 Gateway)<ul><li>S3 File Gateway: 从 On-Premise 访问 S3 Buckets (NFS, SMB), file storage</li><li>FSx File Gateway: 从 On-Premise 访问 FSx (SMB, NTFS)</li><li>Volume Gateway: 从 On-Premise 访问 S3 和 EBS (iSCSI), block storage<ul><li>Cached volumes: Access most recent data (eg. logs) 如果问到 S3 的话</li><li>Stored volumes: Entire dataset is On-Premise, backup at S3</li></ul></li><li>Tap Gateway: 从 On-Premise 访问 Archieved Taps stored in AWS Glacier<ul><li>如果问题里面有 Tap 就是 Tap Gateway</li></ul></li></ul></li></ul><hr><h4 id="AWS-Transfer-Family"><a href="#AWS-Transfer-Family" class="headerlink" title="AWS Transfer Family"></a>AWS Transfer Family</h4><ul><li>Use FTP protocol to transfer files into or out S3 或 EFS<ul><li>有三种 Protocols: FTP, FTPS, SFTP (重要, 如果问到关于 FTP 或者 SFTP 的问题)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203933.png"></p><hr><h4 id="AWS-DataSync"><a href="#AWS-DataSync" class="headerlink" title="AWS DataSync"></a>AWS DataSync</h4><ul><li>可以从 On-Premise 或者 AWS 转移大量数据 (to &amp; from)<ul><li>On-Premise 到 AWS S3, EFS, FSx 等等 (need agent)</li><li>AWS 到 AWS (no agent)</li></ul></li><li>Scheduled replication tasks (比如每周五都会 replicate 一次)</li><li>File permissions and metadata are perserved (重要)</li><li>DataSync 是用来移数据的, File Gateway 是用来维持 access 的</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img204155.png"></p><blockquote><p>AWS DataSync is an online data transfer service that simplifies, automates, and accelerates copying large amounts of data between on-premises storage systems and AWS Storage services, as well as between AWS Storage services.</p></blockquote><hr><h3 id="15-SQS-SNS-Kinesis-Active-MQ"><a href="#15-SQS-SNS-Kinesis-Active-MQ" class="headerlink" title="15. SQS, SNS, Kinesis, Active MQ"></a>15. SQS, SNS, Kinesis, Active MQ</h3><h4 id="AWS-SQS"><a href="#AWS-SQS" class="headerlink" title="AWS SQS"></a>AWS SQS</h4><ul><li>用来 decouple applications (比如处理视频, 属于多对多模型)</li><li>SQS scale automatically (Unlimited throughput, unlimited message, can retry)<ul><li>遇到说 decouple microservice (但是没有 3rd party 的) 就是 SQS</li></ul></li><li>Standard SQS 允许将 S3 作为 event notification destination, SQS FIFO 则不行</li><li>如果遇到 SQS message process failure, 选择 DLQ 来解决 (重要)</li><li>如果遇到需要处理 high-throughput request-reponse message pattern 的, 选择 temporary queue (重要)</li><li>如果遇到需要 SQS 去 postpone the delivery of new messages, 那么就是 delay queue</li><li>遇到 parallel 选 SQS 而不是 SNS</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img235912.png"></p><ul><li>可以有很多 consumer 来同时 parallel 处理 messages<ul><li>Consumer delete messages after processing them (处理完就删掉)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img000504.png"></p><ul><li>SQS Message Visibility Timeout (重要)<ul><li>Visibility Timeout is high: Consumer crash, re-process take time</li><li>Visibility Timeout is low: Get duplicate (防止 read duplicate, 增加 Timeout, 重要)</li><li>Use the ChangeMessageVisibility API call to increase the visibility timeout</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img020440.png"></p><ul><li>当遇到 SQS 而且需要 priority 的时候, Create two Amazon SQS standard queues, Set up Amazon EC2 instances to prioritize polling</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/imgpt6-q32-i1.jpg"></p><ul><li>把 SQS 转成 FIFO queue<ul><li>Delete the existing SQS and recreate it as FIFO queue</li><li>Make sure the name of the FIFO queue ends with .fifo suffix</li><li>Make sure the throughput for the FIFO queue not exceed 3000 meesage &#x2F; second</li></ul></li></ul><hr><h4 id="SQS-Long-Polling"><a href="#SQS-Long-Polling" class="headerlink" title="SQS Long Polling"></a>SQS Long Polling</h4><ul><li>Decrease latency &amp; decrease API call (减少 API 请求, 更好的 performance)<ul><li>Minimize the cost of using SQS (省钱)</li><li>Long Polling 不能处理 SQS duplicate, 还是要用 Visibility Timeout</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img003255.png"></p><hr><h4 id="SQS-FIFO-Queue"><a href="#SQS-FIFO-Queue" class="headerlink" title="SQS FIFO Queue"></a>SQS FIFO Queue</h4><ul><li>按顺序传递 message (SNS 也可以做到)<ul><li>By default, FIFO queues support up to 300 messages per second</li></ul></li><li>如果没有 GroupID, 那只能有 1 个 consumer, 如果有 GroupID, 可以有多个 consumer</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img003507.png"></p><hr><h4 id="AWS-SNS"><a href="#AWS-SNS" class="headerlink" title="AWS SNS"></a>AWS SNS</h4><ul><li>Send one message to many receivers (可以给用户发 email)<ul><li>Publisher &amp; Subscriber 模型 (属于一对多模型)</li><li>Subscriber: SQS, Lambda, Kinesis Data Firehose, HTTPS endpoints, Email</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img010634.png"></p><hr><h4 id="Fan-Out-Pattern"><a href="#Fan-Out-Pattern" class="headerlink" title="Fan Out Pattern"></a>Fan Out Pattern</h4><ul><li>Push once in SNS, receive in all SQS (由 SNS 传递 message 给 SQS 来接收)<ul><li>Fully decoupled, no data loss</li><li>可以用于 message filtering (信息过滤, 根据不同的 filter policy)</li></ul></li><li>Kinesis 也可以使用 Fan Out Pattern (使用 Shard)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img011026.png"></p><hr><h4 id="AWS-Kinesis"><a href="#AWS-Kinesis" class="headerlink" title="AWS Kinesis"></a>AWS Kinesis</h4><ul><li>Process, ingest, buffer streaming data in real-time (处理实时数据)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150053.png"></p><ul><li>Kinesis Data Streams: Capture, process, store data streams</li><li>Kinesis Data Firehose: Load data streams into AWS data stores (S3, Redshift)</li><li>当 Kinesis Data Streams 作为数据源写数据到 Kinesis Data Firehose 是不用 agent 的</li></ul><blockquote><p>Kinesis Agent cannot write to Amazon Kinesis Firehose for which the delivery stream source is already set as Amazon Kinesis Data Streams</p></blockquote><hr><h4 id="Kinesis-Data-Streams"><a href="#Kinesis-Data-Streams" class="headerlink" title="Kinesis Data Streams"></a>Kinesis Data Streams</h4><ul><li>Have the ability to reprocess &amp; replay stream data (replay, 处理数据, 重要)<ul><li>处理 real-time data stream, 比如 clickstreams, transactions, media (金融数据)</li><li>Consumer 有 Lambda, Kinesis Firehose, Kinesis Data Analytics</li><li>Kinesis Data Streams 有助于每秒从多个来源连续收集数 GB 的数据</li></ul></li><li>Once data is inserted in Kinesis, it can’t be deleted (immutability)</li><li>如果问到 Kinesis Data Stream 加上 SQL, 那么答案里一定有 Kinesis Data Analytics</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img014850.png"></p><ul><li>Data share the same partition goes the same shard (有顺序的)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151123.png"></p><ul><li>Capacity Mode (Provisioned 设置上限, On-Demand 自动 scale)<ul><li>Provisioned mode: Choose a number of shards provisioned, scale manually</li><li>On-demand mode: No need to provision or manage capacity (自动)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151507.png"></p><blockquote><p>如果遇到 ProvisionedThroughputExceededException 问题, 选择 batch messages 解决</p></blockquote><hr><h4 id="Kinesis-Data-Firehose"><a href="#Kinesis-Data-Firehose" class="headerlink" title="Kinesis Data Firehose"></a>Kinesis Data Firehose</h4><ul><li>Kinesis Data Firehose load streaming data into data stores and analytics tools<ul><li>Managed service, auto scaling, serverless, support data transformation</li><li>Kinesis Data Firehose 提供将数据流传进数据存储或者数据分析的功能</li></ul></li><li>Firehose 的对象是 S3, Redshift 这种 (Serverless, 专门处理 log 数据)<ul><li>Firehose 不支持 DynamoDB 的</li></ul></li><li>Near Real Time, 而且 Firehose 只支持一个 consumer (dump data in a single data repo)<ul><li>但是不要被 Near Real Time 忽悠, 要根据题目选择 Data Stream 或者 Data Firehose</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img015040.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151812.png"></p><ul><li>Kinesis Data Streams vs Firehose<ul><li>Data Streams: Write custom code, real-time, have data storage, have replay</li><li>Firehose: Fully managed, near real-time, no data storage, no replay</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152247.png"></p><hr><h4 id="Data-ordering-for-Kinesis"><a href="#Data-ordering-for-Kinesis" class="headerlink" title="Data ordering for Kinesis"></a>Data ordering for Kinesis</h4><ul><li>Same key (Partition) will always go to the same shard (有顺序)</li><li>相比之下 SQS 只有 FIFO (针对于需要大量 consumer)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img154939.png"></p><hr><h4 id="AWS-MQ"><a href="#AWS-MQ" class="headerlink" title="AWS MQ"></a>AWS MQ</h4><ul><li>管理第三方消息代理 (Message Broker) 软件<ul><li>RabbitMQ and ActiveMQ</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170638.png"></p><hr><h3 id="16-Containers-on-AWS"><a href="#16-Containers-on-AWS" class="headerlink" title="16. Containers on AWS"></a>16. Containers on AWS</h3><h4 id="AWS-ECS"><a href="#AWS-ECS" class="headerlink" title="AWS ECS"></a>AWS ECS</h4><ul><li>Elastic Container Service (Manage Docker containers on AWS)</li><li>ECS 有两种 Launch Type: EC2 和 Fargate (Fargate 是 serverless 的)</li><li>EC2 Launch Type: Need Provision, 需要 ECS Agent (重点)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img212508.png"></p><ul><li>Fargate Launch Type: Serverless, No Provision (重点)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img212546.png"></p><ul><li>IAM Roles for ECS (重要, 是 IAM)<ul><li>EC2 Instance Profile: 只针对 EC2 Launch Type</li><li>ECS Task Role: 每个 Task 都有自己的 Role (负责)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img212709.png"></p><ul><li>ECS 可以和 Load Balancer 一起用</li><li>ECS 可以和 EFS 一起用 (Fargate + EFS &#x3D; Serverless, 管理文件)</li></ul><blockquote><p>Amazon ECS with EC2 launch type is charged based on EC2 instances and EBS volumes used. Amazon ECS with Fargate launch type is charged based on vCPU and memory resources that the containerized application requests</p></blockquote><hr><h4 id="ECS-Auto-Scaling"><a href="#ECS-Auto-Scaling" class="headerlink" title="ECS Auto Scaling"></a>ECS Auto Scaling</h4><ul><li>Automatically increase &#x2F; decrease the number of ECS tasks<ul><li>Target Scaling: Scale based on target value for CloudWatch metric</li><li>Step Scaling: Scale based on CloudWatch Alarm</li><li>Scheduled Scaling: Scale based on specific time (重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img222247.png"></p><hr><h4 id="AWS-ECR"><a href="#AWS-ECR" class="headerlink" title="AWS ECR"></a>AWS ECR</h4><ul><li>Elastic Container Registry (ECR, 管理 Docker Image, 不是 Docker Container)<ul><li>Store and manage Docker images on AWS</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img222836.png"></p><hr><h4 id="AWS-EKS"><a href="#AWS-EKS" class="headerlink" title="AWS EKS"></a>AWS EKS</h4><ul><li>Elastic Kubernetes Service (Manage Kubernetes clusters on AWS)<ul><li>Support 2 deployment mode: EC2 &amp; Fargate (和 ECS 一样)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223132.png"></p><ul><li>EKS Data Volumes (需要 StorageClass)<ul><li>Leverages a Container Storage Interface (CSI) compliant driver</li><li>支持 EBS, EFS, FSx</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223503.png"></p><ul><li>EKS Node Type (一共三种)<ul><li>Managed Node Groups (针对 EC2 Instance)</li><li>Self-Managed Nodes (自己创建)</li><li>AWS Fargate (不需要管理)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img022321.png"></p><hr><h4 id="AWS-App-Runner"><a href="#AWS-App-Runner" class="headerlink" title="AWS App Runner"></a>AWS App Runner</h4><ul><li>Deploy web application and APIs (Build 和 Deploy)</li><li>No infrasture experience required (不需要 AWS 经验)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img223649.png"></p><hr><h3 id="17-Serverless"><a href="#17-Serverless" class="headerlink" title="17. Serverless"></a>17. Serverless</h3><h4 id="AWS-Lambda"><a href="#AWS-Lambda" class="headerlink" title="AWS Lambda"></a>AWS Lambda</h4><ul><li>Virtual functions, Serverless, limited by time (short executions, 15 mins)<ul><li>Run on-demand, scaling is automated</li></ul></li><li>Could be Event-Driven, could handle CRON job (Jobs on a repeating schedule)<ul><li>Use EventBridge to trigger Lambda every hour</li></ul></li><li>Lambda 是有 account quota (配额限制) 的, 需要联系 AWS 来提高上限</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img212846.png"></p><ul><li>Lambda Limits (限制)<ul><li>Execution: Memory, Execution Time</li><li>Deployment: Size</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213554.png"></p><blockquote><p>By default, AWS Lambda functions always operate from an AWS-owned VPC and hence have access to any public internet address or public AWS APIs. Once an AWS Lambda function is VPC-enabled, it will need a route through a Network Address Translation gateway (NAT gateway) in a public subnet to access public resources</p></blockquote><hr><h4 id="Lambda-SnapStart"><a href="#Lambda-SnapStart" class="headerlink" title="Lambda SnapStart"></a>Lambda SnapStart</h4><ul><li>对于 Java 11 以上, Function is invoked from a pre-initialized state</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img213945.png"></p><hr><h4 id="CloudFront-Functions-amp-Lambda-Edge"><a href="#CloudFront-Functions-amp-Lambda-Edge" class="headerlink" title="CloudFront Functions &amp; Lambda@Edge"></a>CloudFront Functions &amp; Lambda@Edge</h4><ul><li>Execute logic at the edge (Edge Function, Serverless)</li><li>两种方法: CloudFront Functions, Lambda@Edge (它们支持的语言不同)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214215.png"></p><ul><li>CloudFront Functions (Javascript)<ul><li>Native feature of CloudFront, short execution time</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214350.png"></p><ul><li>Lambda@Edge (NodeJS or Python)<ul><li>Longer execution time</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214545.png"></p><ul><li>CloudFront Functions vs Lambda@Edge</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214716.png"></p><hr><h4 id="Lambda-in-VPC"><a href="#Lambda-in-VPC" class="headerlink" title="Lambda in VPC"></a>Lambda in VPC</h4><ul><li>正常情况下, Lambda 无法访问 VPC (所以要 Lambda in VPC)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img214940.png"></p><hr><h4 id="RDS-with-Lambda"><a href="#RDS-with-Lambda" class="headerlink" title="RDS with Lambda"></a>RDS with Lambda</h4><ul><li>Invoke Lambda functions from DB instance<ul><li>RDS for PostgreSQL, Aurora for MySQL, 需要 permission</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img215442.png"></p><hr><h4 id="AWS-DynamoDB"><a href="#AWS-DynamoDB" class="headerlink" title="AWS DynamoDB"></a>AWS DynamoDB</h4><ul><li>NoSQL database, with replication across multiple AZs, auto-scaling, no provision</li><li>两种 Class: Standard &amp; Infrequent Access (IA)</li><li>如果问到 DynamoDB 而且是处理 Email 的, 就是 DynamoDB Stream<ul><li>如果问到关于 Stream 的, 也要去考虑 DynamoDB Stream</li></ul></li><li>如果问到 DynamoDB 而且是处理 unpredictable 数据的时候, 选择 On-Demand table</li><li>By default, DynamoDB tables are encrypted with AWS owned key</li><li>不要用 DB 去存 Image (不知道为啥)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224558.png"></p><ul><li>Read &#x2F; Write Capacity Mode<ul><li>RCU 和 WCU 没有关联 (可以只加 RCU 不加 WCU)</li><li>Provisioned Mode: 自己定义需要多少 RCU 和 WCU</li><li>On-Demand Mode: 自动 Scale 需要的 RCU 和 WCU (贵)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img225117.png"></p><ul><li>Point-In-Time Recovery (PITR, 重要)<ul><li>When enable PITR, DynamoDB backs up table data automatically with per-second granularity so that you can restore to any given second in the preceding 35 days.</li></ul></li></ul><hr><h4 id="DynamoDB-Advance"><a href="#DynamoDB-Advance" class="headerlink" title="DynamoDB Advance"></a>DynamoDB Advance</h4><ul><li>DynamoDB Accelerator (DAX, 可以处理 cache, 但是 DAX 不是 relational 的)<ul><li>Help solve read congestion by caching (microseconds latency, 缓存)</li><li>DAX 不支持 SQL query caching</li><li>可以提高 DynamoDB 的 performance (提高的是 read 而不是 write, 重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233440.png"></p><ul><li>DynamoDB Stream Processing (处理 Stream)<ul><li>Ordered stream of item-level modifications in table</li><li>用来处理 Stream 的, 可以 Invoke Lambda function (比如发邮件)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233610.png"></p><ul><li>DynamoDB Global Tables (重要)<ul><li>Make DynamoDB table accessible with low latency in multiple regions</li><li>需要先有 DynamoDB Stream 作为前提</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233729.png"></p><ul><li>DynamoDB Time To Live (TTL, 重要)<ul><li>Automatic delete items after an expiry timestamp (定时删除 DynamoDB 里的 item)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233830.png"></p><hr><h4 id="AWS-API-Gateway"><a href="#AWS-API-Gateway" class="headerlink" title="AWS API Gateway"></a>AWS API Gateway</h4><ul><li>Invoke Lambda function, expose REST API (Stateless client-server communication)</li><li>Lambda + API Gateway &#x3D; No infrastructure to manage</li><li>API Gateway 可以防止 API overwhelmed by too many requests (防抖)</li><li>API Gateway Caching (可以 improve latency)<ul><li>With caching, you can reduce the number of calls made to your endpoint and also improve the latency of requests to your API</li><li>反正记住, Read Replica 是要加钱的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234222.png"></p><ul><li>API Gateway Endpoint Types<ul><li>Edge-Optimized (default): For global clients, API Gateway live in one region</li><li>Regional: For client in same region</li><li>Private: 针对 VPC</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174118.png"></p><hr><h4 id="AWS-Step-Functions"><a href="#AWS-Step-Functions" class="headerlink" title="AWS Step Functions"></a>AWS Step Functions</h4><ul><li>Build serverless visual workflow to orchestrate Lambda functions<ul><li>搭建 Serverless 可视化 Workflow (重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234352.png"></p><hr><h4 id="AWS-Cognito"><a href="#AWS-Cognito" class="headerlink" title="AWS Cognito"></a>AWS Cognito</h4><ul><li>Give users identity to interact with web or mobile application<ul><li>Cognito User Pools: 负责用户登录, have built-in user management</li><li>Cognito Identity Pools: 给临时 AWS credentials 来 access AWS 服务</li></ul></li><li>注意, ALB + Cognito User Pool 才是做 Auth 的, 而不是 CloudFront</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234512.png"></p><hr><h3 id="18-Database-Summary"><a href="#18-Database-Summary" class="headerlink" title="18. Database Summary"></a>18. Database Summary</h3><h4 id="AWS-RDS-SM"><a href="#AWS-RDS-SM" class="headerlink" title="AWS RDS (SM)"></a>AWS RDS (SM)</h4><ul><li>Manage PostgreSQL, MySQL, Oracle, SQL Server 等等</li><li>Provisioned, Auto Scaling, Backup</li><li>Have Read Replica &amp; Multi-AZ (回去看第七章)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151151.png"></p><hr><h4 id="AWS-Aurora-SM"><a href="#AWS-Aurora-SM" class="headerlink" title="AWS Aurora (SM)"></a>AWS Aurora (SM)</h4><ul><li>Manage PostgreSQL &amp; MySQL (只有这两个, 回去看第七章)</li><li>Data stored in 6 replias, across 3 AZ, high available, auto-scaling</li><li>Aurora Serverless: For unpredictable workloads (Auto Scaling)</li><li>Aurora Global: Less than 1 second storage replication (保证至少有一个 Replica 可以用)</li><li>Aurora Database Cloning: 快速 access Aurora DB, 适合 test database 生成</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151441.png"></p><hr><h4 id="AWS-ElastiCache-SM"><a href="#AWS-ElastiCache-SM" class="headerlink" title="AWS ElastiCache (SM)"></a>AWS ElastiCache (SM)</h4><ul><li>Manage Redis &#x2F; Memcached (In-memory data store, 回去看第七章)</li><li>Support Clustering (Redis), Multi-AZ and Read Replicas (Shard)</li><li>Require some application code change to be leveraged (重点)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151732.png"></p><hr><h4 id="AWS-DynamoDB-SM"><a href="#AWS-DynamoDB-SM" class="headerlink" title="AWS DynamoDB (SM)"></a>AWS DynamoDB (SM)</h4><ul><li>Severless, NoSQL database (For rapidly evolve schemas, 回去看第十七章)</li><li>Capacity modes: Provisioned capacity or On-Demand capacity</li><li>DAX cluster for read cache, microsecond read latency (缓存)</li><li>Event Processing: DynamoDB Stream with Lambda or Kinesis Data Streams</li><li>Export to S3 without using RCU, Import from S3 without WCU</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152140.png"></p><hr><h4 id="AWS-S3-SM"><a href="#AWS-S3-SM" class="headerlink" title="AWS S3 (SM)"></a>AWS S3 (SM)</h4><ul><li>S3 is a key &#x2F; value store for objects (适合文件体积大的, 回去看第十章)</li><li>Tiers: Standard, IA, Glacier 等等</li><li>Features: Versioning, Encryption, Replication 等等</li><li>Encryption: SSE-S3, SSE-KMS, SSE-C</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152526.png"></p><hr><h4 id="AWS-DocumentDB"><a href="#AWS-DocumentDB" class="headerlink" title="AWS DocumentDB"></a>AWS DocumentDB</h4><ul><li>DocumentDB is for MongoDB (Also a NoSQL database, 但是只负责 MongoDB)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152629.png"></p><hr><h4 id="AWS-Neptune"><a href="#AWS-Neptune" class="headerlink" title="AWS Neptune"></a>AWS Neptune</h4><ul><li>Graph database (For social network, 图数据库)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img152726.png"></p><hr><h4 id="AWS-Keyspaces"><a href="#AWS-Keyspaces" class="headerlink" title="AWS Keyspaces"></a>AWS Keyspaces</h4><ul><li>Manage Apache Cassandra (also NoSQL) database (阿帕奇卡桑德拉)</li><li>Use cases: Store IoT devices info, time-series data</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img153058.png"></p><hr><h4 id="AWS-QLDB"><a href="#AWS-QLDB" class="headerlink" title="AWS QLDB"></a>AWS QLDB</h4><ul><li>QLDB: Quantum Ledger Database (Immutable, 无法删除)<ul><li>For recording financial transactions (Serverless, 加密资产)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img153301.png"></p><hr><h4 id="AWS-Timestream"><a href="#AWS-Timestream" class="headerlink" title="AWS Timestream"></a>AWS Timestream</h4><ul><li>Serverless Time series database (时间序列数据库)</li><li>Use cases: IoT apps, real-time analytics</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img153436.png"></p><hr><h3 id="19-Data-amp-Analytics"><a href="#19-Data-amp-Analytics" class="headerlink" title="19. Data &amp; Analytics"></a>19. Data &amp; Analytics</h3><h4 id="AWS-Athena"><a href="#AWS-Athena" class="headerlink" title="AWS Athena"></a>AWS Athena</h4><ul><li>Athena is an interactive query service that makes it easy to analyze data directly in Amazon S3 using standard SQL (Athena is Serverless)<ul><li>Athena 支持 SQL query 去处理 S3 数据的</li><li>Athena cannot be used to analyze data in real time (没办法实时处理数据, 重要)</li></ul></li><li>Use Athena to process logs, perform ad-hoc analysis, and run interactive queries (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200048.png"></p><ul><li>Performance Improvement<ul><li>Use columnar data for cost-saving (可以有更少的 scan)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200302.png"></p><ul><li>Federated Query<ul><li>Allow to run SQL queries across data stored on AWS or On-Premise</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img200427.png"></p><hr><h4 id="AWS-Redshift"><a href="#AWS-Redshift" class="headerlink" title="AWS Redshift"></a>AWS Redshift</h4><ul><li>Based on PostgreSQL, but it’s OLAP (Online analytical processing)</li><li>处理 BI 数据, 和 AWS Quicksight 或者 Tableau 一起用<ul><li>Petabyte scale - Redshift (重要)</li></ul></li><li>如果问到 Redshift 且和 S3 有关, 就是 Redshift Spectrum (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201036.png"></p><ul><li>Snapshots &amp; DR<ul><li>Redshift has “Multi-AZ” mode for clusters</li><li>Enable Automated Snapshots, copy the Redshift cluster to another AWS region</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201212.png"></p><ul><li>Load data into Redshift (将数据存到 Redshift 里)<ul><li>Kinesis Data Firehose, S3 with Enhanced VPC Routing (注意), EC2 Instance</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230656.png"></p><ul><li>Redshift Spectrum (和 S3 有关)<ul><li>Query data that is already in S3 without loading it (重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201418.png"></p><hr><h4 id="AWS-OpenSearch"><a href="#AWS-OpenSearch" class="headerlink" title="AWS OpenSearch"></a>AWS OpenSearch</h4><ul><li>With OpenSearch, you can search any field, even partially matches<ul><li>原来叫做 ElasticSearch (就是做查询的)</li></ul></li><li>可以用 OpenSearch 实时处理和搜索 Logs</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203117.png"></p><hr><h4 id="AWS-EMR"><a href="#AWS-EMR" class="headerlink" title="AWS EMR"></a>AWS EMR</h4><ul><li>EMR: Elastic MapReduce (处理大数据的)<ul><li>EMR helps to creating Hadoop clusters (Big Data, 大数据)</li><li>有 Hadoop, Apache Spark 啥的就是 EMR</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203405.png"></p><ul><li>Node types &amp; purchasing<ul><li>Node: Master, Core, Task</li><li>Purchasing options: On-Demand, Reserved, Spot Instance</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203545.png"></p><hr><h4 id="AWS-QuickSight"><a href="#AWS-QuickSight" class="headerlink" title="AWS QuickSight"></a>AWS QuickSight</h4><ul><li>Serverless machine learning business intelligence service to create dashboard<ul><li>简单来说就是用 ML 来分析商业数据并搭建 Dashboard</li></ul></li><li>In-memory computation using SPICE engine</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203724.png"></p><ul><li>Dashboard &amp; Analysis<ul><li>Share analysis or dashboard with Users or Groups (可以选择性的分享数据)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203954.png"></p><hr><h4 id="AWS-Glue"><a href="#AWS-Glue" class="headerlink" title="AWS Glue"></a>AWS Glue</h4><ul><li>Managed extract, transform and load (ETL) service (Serverless)<ul><li>For customers to prepare and load their data for analytics</li><li>遇到处理 ETL 的就是 Glue, 用到 Apache Spark</li><li>Use AWS Glue to process the raw data in Amazon S3 (重要)</li></ul></li></ul><blockquote><p>AWS Glue ETL jobs can use Amazon S3, data stores in a VPC, or on-premises JDBC data stores as a source. AWS Glue jobs extract data, transform it, and load the resulting data back to S3, data stores in a VPC, or on-premises JDBC data stores as a target.</p></blockquote><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224509.png"></p><ul><li>Convert data into Apache Parquet format (转数据格式, 很奇怪, 但是会考)<ul><li>看到这个 Apache Parquet 就要想起 Glue</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224817.png"></p><ul><li>Glue Job Bookmarks: 防止 re-process 旧数据 (重要)</li><li>Glue Elastic Views: Combine and replicate data accross multiple data stores with SQL</li><li>Glue DataBrew: Clean and normalize data</li></ul><hr><h4 id="AWS-Lake-Formation"><a href="#AWS-Lake-Formation" class="headerlink" title="AWS Lake Formation"></a>AWS Lake Formation</h4><ul><li>Managed services to setup Data Lake (数据湖)<ul><li>Central place to have all data for analytics purpose</li><li>注意, 如果题目里提到 Fine-grained Access Control for application, 就要想起 Lake Foramtion</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img224948.png"></p><hr><h4 id="Kinesis-Data-Analytics"><a href="#Kinesis-Data-Analytics" class="headerlink" title="Kinesis Data Analytics"></a>Kinesis Data Analytics</h4><ul><li>Real-time analytics on Kinesis Data Streams &amp; Firehose using SQL (重要)<ul><li>Fully managed, auto-scaling, serverless</li><li>以 Kinesis Data Streams &amp; Firehose 作为目标使用 SQL 进行数据分析</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img225813.png"></p><ul><li>Amazon Managed Service for Apache Flink</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img225906.png"></p><hr><h4 id="AWS-MSK"><a href="#AWS-MSK" class="headerlink" title="AWS MSK"></a>AWS MSK</h4><ul><li>Managed Apache Kafka on AWS (Have Serverless)<ul><li>Kinesis 的代替 (同样处理 Stream data), 但是针对 Apache Kafka</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230056.png"></p><ul><li>Kinesis Data Streams (第十五章) vs AWS MSK</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img230216.png"></p><hr><h3 id="20-Machine-Learning"><a href="#20-Machine-Learning" class="headerlink" title="20. Machine Learning"></a>20. Machine Learning</h3><h4 id="AWS-Rekognition"><a href="#AWS-Rekognition" class="headerlink" title="AWS Rekognition"></a>AWS Rekognition</h4><ul><li>Find object, people, text, scenes in images and videos using ML (识别物品)</li><li>Facial analysis and facial search</li><li>Content Moderation: Detect content that is inappropriate (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004131.png"></p><hr><h4 id="AWS-Transcribe"><a href="#AWS-Transcribe" class="headerlink" title="AWS Transcribe"></a>AWS Transcribe</h4><ul><li>Convert speech to text (语音转文字, Transcribe 是转录的意思)</li><li>Automatically remove Personally Identifiable Information (PII, 重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004337.png"></p><hr><h4 id="AWS-Polly"><a href="#AWS-Polly" class="headerlink" title="AWS Polly"></a>AWS Polly</h4><ul><li>Convert text to speech (文字转语音)</li><li>Pronunciation Lexicons: Customize the pronunciation of words</li><li>Speech Synthesis Markup Language (SSML): Emphasize words (小声)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004547.png"></p><hr><h4 id="AWS-Translate"><a href="#AWS-Translate" class="headerlink" title="AWS Translate"></a>AWS Translate</h4><ul><li>Language translation (翻译)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004816.png"></p><hr><h4 id="AWS-Lex-amp-Connect"><a href="#AWS-Lex-amp-Connect" class="headerlink" title="AWS Lex &amp; Connect"></a>AWS Lex &amp; Connect</h4><ul><li>AWS Lex: Build chatbot (所有和 chatbot 有关的都是 Lex)</li><li>AWS Connect: Build cloud contact center</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004954.png"></p><hr><h4 id="AWS-Comprehend"><a href="#AWS-Comprehend" class="headerlink" title="AWS Comprehend"></a>AWS Comprehend</h4><ul><li>Natural Language Processing (NLP)</li><li>Comprehend Medical: for clinical text (医疗方面, 非常重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005107.png"></p><hr><h4 id="AWS-SageMaker"><a href="#AWS-SageMaker" class="headerlink" title="AWS SageMaker"></a>AWS SageMaker</h4><ul><li>Build ML models (建 ML 模型)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005342.png"></p><hr><h4 id="AWS-Forecast"><a href="#AWS-Forecast" class="headerlink" title="AWS Forecast"></a>AWS Forecast</h4><ul><li>Use ML to deliver highly accurate forecasts (做预测用的)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img012641.png"></p><hr><h4 id="AWS-Kendra"><a href="#AWS-Kendra" class="headerlink" title="AWS Kendra"></a>AWS Kendra</h4><ul><li>Managed document search service (文档查找)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img012746.png"></p><hr><h4 id="AWS-Personalize"><a href="#AWS-Personalize" class="headerlink" title="AWS Personalize"></a>AWS Personalize</h4><ul><li>ML with real-time personalized recommendations (做推荐用的)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img012921.png"></p><hr><h4 id="AWS-Textract"><a href="#AWS-Textract" class="headerlink" title="AWS Textract"></a>AWS Textract</h4><ul><li>ML to extract text (提取文字用的, 重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img013008.png"></p><hr><h3 id="21-AWS-Mointoring-amp-Audit"><a href="#21-AWS-Mointoring-amp-Audit" class="headerlink" title="21. AWS Mointoring &amp; Audit"></a>21. AWS Mointoring &amp; Audit</h3><h4 id="CloudWatch-Metrics"><a href="#CloudWatch-Metrics" class="headerlink" title="CloudWatch Metrics"></a>CloudWatch Metrics</h4><ul><li>CloudWatch Metrics helps to monitor every services in AWS</li><li>可以用 CloudWatch Metrics 处理 CloudTrail logs 来监视异常</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150021.png"></p><ul><li>CloudWatch Metric Streams<ul><li>Stream CloudWatch Metrics with near-real-time delivery (注意)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150150.png"></p><hr><h4 id="CloudWatch-Logs"><a href="#CloudWatch-Logs" class="headerlink" title="CloudWatch Logs"></a>CloudWatch Logs</h4><ul><li>A place to store application logs in AWS (S3, Kinesis, Lambda)<ul><li>Logs are encrypted by default</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150343.png"></p><ul><li>CloudWatch Logs Insights<ul><li>Search and analyze log data stored in CloudWatch Logs</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150531.png"></p><ul><li>CloudWatch Logs Subscriptions (可以 Export 给 S3)<ul><li>Get a real-time log events from CloudWatch Logs for processing and analysis</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150643.png"></p><blockquote><p>You can configure a CloudWatch Logs log group to stream data it receives to your Amazon OpenSearch Service cluster in NEAR REAL-TIME through a CloudWatch Logs subscription</p></blockquote><hr><h4 id="CloudWatch-Agent"><a href="#CloudWatch-Agent" class="headerlink" title="CloudWatch Agent"></a>CloudWatch Agent</h4><ul><li>可以把 EC2 的 log 传递给 CloudWatch (By default, EC2 不传递 log, 重要)</li><li>CloudWatch Logs Agent: 传递给 CloudWatch</li><li>CloudWatch Unified Agent: 可以传递更多信息, 比如 CPU, RAM 等等</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151251.png"></p><hr><h4 id="CloudWatch-Alarms"><a href="#CloudWatch-Alarms" class="headerlink" title="CloudWatch Alarms"></a>CloudWatch Alarms</h4><ul><li>CloudWatch Alarms are used to trigger notifications for any metric (用 SNS 发消息)<ul><li>比如 EC2 的 Health 出问题</li><li>Target: EC2, ASG, SNS</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151423.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151514.png"></p><ul><li>Composite Alarams (监视当前所有 Alarm 的情况)<ul><li>Composite Alarams are mointoring the states of multiple other alarms</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img151615.png"></p><hr><h4 id="AWS-EventBridge"><a href="#AWS-EventBridge" class="headerlink" title="AWS EventBridge"></a>AWS EventBridge</h4><ul><li>Schedule CRON jobs (Jobs on a repeating schedule, event-driven)</li><li>React to events from SaaS application (AWS services)<ul><li>如果提到 3rd party application, 考虑 EventBridge</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185605.png"></p><ul><li>基本上所有 event 都要经过 EventBridge</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185712.png"></p><ul><li>Event Bus (Replay archived events, 注意)<ul><li>有 Default Event Bus 和 Partner Event Bus (Datadog)</li><li>可以 Archive Events 并且 Replay (Good for debug)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190403.png"></p><ul><li>Schema Registry<ul><li>Analyze events in Event Bus and infer schema</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190004.png"></p><ul><li>Resource-based Policy<ul><li>Manage permissions (allow &#x2F; deny) for a specific Event Bus</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190215.png"></p><hr><h4 id="CloudWatch-Insights"><a href="#CloudWatch-Insights" class="headerlink" title="CloudWatch Insights"></a>CloudWatch Insights</h4><ul><li>这里的 CloudWatch Insights 有好几种不同的 Insights (4 种)<ul><li>Container, Lambda, Contributor, Application</li></ul></li><li>CloudWatch Container Insights (处理 Container 容器的)<ul><li>Collect, aggregate, summarize metrics and logs from container</li><li>ECS, EKS, Kubernetes, Fargate 等等</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190651.png"></p><ul><li>CloudWatch Lambda Insights<ul><li>Monitoring solutions for serverless application running on Lambda</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190750.png"></p><ul><li>CloudWatch Contributor Insights (注意, 可以查 IP)<ul><li>Analyze log data and display contributor data (for system performance)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190854.png"></p><ul><li>CloudWatch Application Insights<ul><li>Provide dashboard to show the potential application issue related to AWS service</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191050.png"></p><hr><h4 id="AWS-CloudTrail"><a href="#AWS-CloudTrail" class="headerlink" title="AWS CloudTrail"></a>AWS CloudTrail</h4><ul><li>Provide governance, compliance and audit for AWS account (审计 events 和 API call)<ul><li>比如 History of events 或者 API calls</li></ul></li><li>CloudTrail 是 Global Service, 如果东西被误删, 第一时间看 CloudTrail</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191802.png"></p><ul><li>CloudTrail Events<ul><li>Management Events: Performed on resources in AWS account</li><li>Data Events: S3 object-level activity (GetObject, DeleteObject)</li><li>CloudTrail Insigths Events: Detect unusual activity (安全)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192042.png"></p><ul><li>CloudTrail Insights (重要)<ul><li>CloudTaril Insights to detect unusual activity in account</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192157.png"></p><ul><li>CloudTrail Event Retention (保存 events)<ul><li>Keep events to S3 after they stored 90 days</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192301.png"></p><hr><h4 id="AWS-Config"><a href="#AWS-Config" class="headerlink" title="AWS Config"></a>AWS Config</h4><ul><li>AWS Config provides a detailed view of the configuration of AWS resources (重要)<ul><li>Record configurations and changes over time (记录 config 是否被修改)</li></ul></li><li>可以用 Config 去检查 ACM 的 certificate 有没有临近过期</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192656.png"></p><ul><li>Config Rules: 可以自定义 Rule 来检查 (也有 AWS managed rules, 比如下面两个)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img045705.png"></p><ul><li>Config Remediations<ul><li>Automate remediation (纠正) of non-compliant resource using SSM Automation Documents (eg. unrestricted SSH access)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192951.png"></p><ul><li>Config Notifications<ul><li>Use EventBridge to trigger notifications when AWS resources are noncompliant</li><li>相当于当有不合规的 Resource 出现时, 可以 Trigger Notifications</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img193119.png"></p><hr><h3 id="22-IAM-Advanced"><a href="#22-IAM-Advanced" class="headerlink" title="22. IAM Advanced"></a>22. IAM Advanced</h3><h4 id="AWS-Organizations"><a href="#AWS-Organizations" class="headerlink" title="AWS Organizations"></a>AWS Organizations</h4><ul><li>Manage multiple AWS accounts, global service</li><li>Consolidated Billing across all accounts (合并账单, 重要)<ul><li>如果问到和 Shield Advance 有关的钱的问题, 那就是没有设置 Consolidated Billing</li></ul></li><li>Shared reserved instance and Saving Plans discounts across accounts (重要)</li><li>如果要把一个 Account 转到另一个 Organization, 要先把它从原来的 Organization 移除</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img235557.png"></p><ul><li>Service Control Policies (SCP, 限制用户)<ul><li>IAM policies applied to OU (Organization Unit) or Accounts to restrict Users and Roles (Blocklist and Allowlist)</li><li>IAM Roles 是针对 Service, SCP 针对 Organization</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img013921.png"></p><ul><li><p>IAM Permission Boundary (回去看第二章)</p><ul><li>A permissions boundary is an advanced feature for using a managed policy to set the maximum permissions that an identity-based policy can grant to an IAM entity.</li></ul></li><li><p>Service Control Policies (SCPs)</p><ul><li>If a user or role has an IAM permission policy that grants access to an action that is either not allowed or explicitly denied by the applicable service control policy (SCP), the user or role can’t perform that action</li><li>Service control policy (SCP) affects all users and roles in the member accounts, including root user of the member accounts</li><li>Service control policy (SCP) does not affect service-linked role</li></ul></li></ul><hr><h4 id="IAM-Conditions"><a href="#IAM-Conditions" class="headerlink" title="IAM Conditions"></a>IAM Conditions</h4><ul><li>要分清楚 bucket level permissions 和 object level permissions (&#x2F;*)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img022652.png"></p><hr><h4 id="IAM-Roles-vs-Resource-Based-Policies"><a href="#IAM-Roles-vs-Resource-Based-Policies" class="headerlink" title="IAM Roles vs Resource Based Policies"></a>IAM Roles vs Resource Based Policies</h4><ul><li>Role: Give up original permissions and take the permissions assigned to the Role</li><li>Resource Based Policy: The principal doesn’t have to give up permissions</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img015940.png"></p><ul><li>EventBridge 例子<ul><li>Resource based policy: Lambda, SNS, SQS 等等</li><li>IAM Roles: Kinesis stream, ECS 等等</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img023321.png"></p><hr><h4 id="Policy-Evaluation-Logic"><a href="#Policy-Evaluation-Logic" class="headerlink" title="Policy Evaluation Logic"></a>Policy Evaluation Logic</h4><ul><li>IAM Permission Boundaries<ul><li>A feature to set the maximum permissions an IAM entity can get</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img020209.png"></p><ul><li>答案 No, No, No (Evaluate 逻辑是先来后到, 先 Deny 就算后面 Allow 也没有用)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img161535.png"></p><hr><h4 id="IAM-Identity-Center"><a href="#IAM-Identity-Center" class="headerlink" title="IAM Identity Center"></a>IAM Identity Center</h4><ul><li>One login for all (SSO)<ul><li>AWS accounts in AWS Organizations</li><li>Business cloud applications (Salesforce)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img020909.png"></p><ul><li>Fine-grained Permissions and Assignments<ul><li>Multi-Account Permissions: Manage access across AWS accounts</li><li>Application Assignments: SSO access to business applications</li><li>Attribute-Based Access Control (ABAC): Permission based on user’s attribute (tags)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img021246.png"></p><hr><h4 id="AWS-Directory-Services"><a href="#AWS-Directory-Services" class="headerlink" title="AWS Directory Services"></a>AWS Directory Services</h4><ul><li>Create Active Directory (AD, 目录服务) in AWS (重要)<ul><li>AWS Managed Microsoft AD: Create own AD in AWS</li><li>AD Connector: Proxy to redirect to On-Premise AD</li><li>Simple AD: AD-compatible managed directory on AWS</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img021607.png"></p><hr><h4 id="AWS-Control-Tower"><a href="#AWS-Control-Tower" class="headerlink" title="AWS Control Tower"></a>AWS Control Tower</h4><ul><li>Set up and govern a secure and compliant multi-account AWS environment (重要)<ul><li>管理 AWS 多账户环境, 而且是 Best Practice</li></ul></li><li>ControlTower use AWS Organizations to create accounts</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img021857.png"></p><ul><li>ControlTower - Guardrails (管理 ControlTower)<ul><li>Preventive Guardrail: Use SCPs (Restrict REgions across all accounts)</li><li>Detective Guardrail: Use AWS Config (identify untagged resources)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img022019.png"></p><hr><h3 id="23-AWS-Security-amp-Encryption"><a href="#23-AWS-Security-amp-Encryption" class="headerlink" title="23. AWS Security &amp; Encryption"></a>23. AWS Security &amp; Encryption</h3><h4 id="AWS-KMS"><a href="#AWS-KMS" class="headerlink" title="AWS KMS"></a>AWS KMS</h4><ul><li>Anytime you hear “encryption” for an AWS service, it’s most likely KMS</li><li>AWS managed encryption keys for us (Integrated with most AWS services)<ul><li>比如 EBS, S3, RDS, SSM (AWS managed keys),</li></ul></li><li>KMS Keys are scoped per Region</li><li>注意, KMS 并不适合保存 secret, 加密的东西不一定是 secret</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img170646.png"></p><ul><li>Types of KMS Keys (3 种): AWS Owned, AWS Managed, CMK (Custom Managed)</li><li>两种 Key 的形式: Symmetric (Single) &amp; Asymmetric (Public &amp; Private)</li><li>Automatic Key Rotation: 1 year</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img171058.png"></p><ul><li>KMS Key Policies (Control access to KMS keys)<ul><li>Default KMS Key Policy: Entire AWS account</li><li>Custom KMS Key Policy: Define who can access the key (Cross Account Access)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img171356.png"></p><blockquote><p>Deleting an AWS KMS key in AWS Key Management Service (AWS KMS) is destructive and potentially dangerous. Therefore, AWS KMS enforces a waiting period. (Pending state)</p></blockquote><hr><h4 id="KMS-Multi-Region-Keys"><a href="#KMS-Multi-Region-Keys" class="headerlink" title="KMS Multi-Region Keys"></a>KMS Multi-Region Keys</h4><ul><li>Identical KMS keys in different AWS Regions (在其他 Region 也能用同样的 KMS Key)<ul><li>Encrypt in one Region and decrypt in other Regions</li></ul></li><li>Use cases: DynamoDB Global Tables &amp; Global Aurora</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img172433.png"></p><hr><h4 id="S3-Replication-with-Encryption"><a href="#S3-Replication-with-Encryption" class="headerlink" title="S3 Replication with Encryption"></a>S3 Replication with Encryption</h4><ul><li>Unencrypted objects and objects encrypted with SSE-S3 are replicated by default</li><li>For objects encrypted with SSE-KMS, you need more options<ul><li>也就是说 SSE-S3 在复制的时候会保持, 但是 SSE-KMS 需要设置</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img172816.png"></p><hr><h4 id="Encrypted-AMI-Sharing-Process"><a href="#Encrypted-AMI-Sharing-Process" class="headerlink" title="Encrypted AMI Sharing Process"></a>Encrypted AMI Sharing Process</h4><ul><li>需要 Launch Permission, 需要 Share KMS Keys, 需要 Permission to decrypte<ul><li>反正只要知道 AMI 也是可以 Encrypt 并 Share 的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173020.png"></p><hr><h4 id="SSM-Parameter-Store"><a href="#SSM-Parameter-Store" class="headerlink" title="SSM Parameter Store"></a>SSM Parameter Store</h4><ul><li>Secure storage for configuration and secrets<ul><li>比起 Secrets Manager 有更广的用途, 比如 URLs, AMI IDs, License keys 等等</li></ul></li><li>Have built-in verion tracking (每次 edit secret 都会被记录)</li><li>SSM 没有 Automatic key rotation (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173611.png"></p><hr><h4 id="AWS-Secrets-Manager"><a href="#AWS-Secrets-Manager" class="headerlink" title="AWS Secrets Manager"></a>AWS Secrets Manager</h4><ul><li>Store secrets, integrated with RDS &amp; Aurora (非常重要, 存数据库 secrets 的)<ul><li>是给 confidential information (like database credentials, API keys) 用的</li><li>比起 SSM Parameter Store, Secrets Manager 支持 Key 的轮换 (90 天)</li><li>注意, Secret Manager 的 Key Rotateion 是 90 天, KMS 的 Key Rotateion 是一年</li></ul></li><li>比起 KMS, Secrets Manager 更适合去保存 secret, 比如 database credential, 而且 Secrets Manager 也有 Automatic key rotation</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174132.png"></p><ul><li>Multi-Region Secrets (和 Multi-Region Key 类似)<ul><li>Replicate Secrets across multiple AWS Regions (disaster recovery)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174258.png"></p><hr><h4 id="AWS-Certificate-Manager-ACM"><a href="#AWS-Certificate-Manager-ACM" class="headerlink" title="AWS Certificate Manager (ACM)"></a>AWS Certificate Manager (ACM)</h4><ul><li>Easily provision, manage, and deploy TLS Certificates (HTTPS)<ul><li>如果你要给 EB 上 HTTPS 就要用到 ACM</li><li>如果是 third party SSL 就没办法使用 automatic certificate rotation</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174451.png"></p><ul><li>可以用 EventBridge 来检查 ACM Certificates 是否过期 (过期 Invoke SNS)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img172923.png"></p><hr><h4 id="AWS-WAF"><a href="#AWS-WAF" class="headerlink" title="AWS WAF"></a>AWS WAF</h4><ul><li>WAF: Web Application Firewall (防火墙)</li><li>Protect web application in Layer 7 (HTTP &#x2F; HTTPS)<ul><li>Layer 4 是 TCP &#x2F; UDP, Layer 3 处理 VPC 之类的</li></ul></li><li>如果要 block countries, 可以用 WAF Geo Match 或者 WAF IP Set Statement (重要)</li><li>WAF 可以设置 rate-based rules, Shield 不可以</li><li>如果需要在不同的 accout 或者 region 用 WAF, 考虑 Firewall Manager (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img174857.png"></p><ul><li>Web ACL: 可以根据 IP, HTTP Headers, Size 来决定谁可以 Access<ul><li>也就是说, WAF 可以 block access from certain countries</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175006.png"></p><blockquote><p>If you want to use AWS WAF across accounts, accelerate WAF configuration, automate the protection of new resources, use Firewall Manager with AWS WAF</p></blockquote><hr><h4 id="AWS-Shield"><a href="#AWS-Shield" class="headerlink" title="AWS Shield"></a>AWS Shield</h4><ul><li>Protect from DDoS attack (WAF 也可以, 但是考试遇到 DDoS 的时候选 Shield)</li><li>有 Shield Standard (免费) 和 Shield Advanced (付费)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175302.png"></p><hr><h4 id="AWS-Firewall-Manager"><a href="#AWS-Firewall-Manager" class="headerlink" title="AWS Firewall Manager"></a>AWS Firewall Manager</h4><ul><li>Manage security rules in all accounts of an AWS Organization<ul><li>比如 WAF rules, AWS Shield Advanced, Security Group for EC2 &amp; VPC 等等</li></ul></li><li>Rules are applied to new resources as they are created</li><li>如果需要在不同的 accout 或者 region 用 WAF, 考虑 Firewall Manager (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175531.png"></p><ul><li>WAF vs Firewall Manager vs Shield<ul><li>它们一起用来做大型安全保护 (WAF + Firewall Manager + Shield)</li><li>如果只是日常保护, 就用 WAF</li><li>如果遇到 DDoS 攻击, 考虑使用 Shield</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175631.png"></p><hr><h4 id="AWS-GuardDuty"><a href="#AWS-GuardDuty" class="headerlink" title="AWS GuardDuty"></a>AWS GuardDuty</h4><ul><li>Intelligent threat discovery (ML) to protect AWS account (用 ML 防止加密攻击)<ul><li>Input data: CloudTrail, VPC, DNS (重要)</li></ul></li><li>Use case: CryptoCurrency attacks</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img175935.png"></p><hr><h4 id="AWS-Inspector"><a href="#AWS-Inspector" class="headerlink" title="AWS Inspector"></a>AWS Inspector</h4><ul><li>Automated Security Assessments (自动安全评估)<ul><li>EC2 Instance &amp; Container Images (ECR) &amp; Lambda Functions</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180110.png"></p><hr><h4 id="AWS-Macie"><a href="#AWS-Macie" class="headerlink" title="AWS Macie"></a>AWS Macie</h4><ul><li>Use ML to protect sensitive data (PII) in AWS (用 ML 保护敏感信息)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img180224.png"></p><hr><h3 id="24-Networking-VPC"><a href="#24-Networking-VPC" class="headerlink" title="24. Networking VPC"></a>24. Networking VPC</h3><ul><li>CIDR &#x3D; Base IP + Subnet Mask<ul><li>例子: CIDR 10.0.4.0&#x2F;28, &#x2F;28 代表 16 IPs &#x3D; (2^(32-28) &#x3D; 2^4), 8 的倍数大过 28 只有 32, 所以答案是 10.0.4.0 到 10.0.4.15 (0-15 一共有 16 个)</li></ul></li><li>CIDR should not overlap, max CIDR size in AWS is &#x2F;16, min CIDR size in AWS is &#x2F;28</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002822.png"></p><hr><h4 id="AWS-VPC"><a href="#AWS-VPC" class="headerlink" title="AWS VPC"></a>AWS VPC</h4><ul><li>VPC: Virtual Private Cloud<ul><li>All new AWS account have a default VPC</li></ul></li><li>CIDR should not overlap, max CIDR size in AWS is &#x2F;16, min CIDR size in AWS is &#x2F;28</li><li>要让 VPC 使用 custom domain 需要 enableDnsHostnames 和 enableDnsSupport</li><li>可以创建 Shared Service VPC, 这样每个 VPC 都可以 access 到需要的 services (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201530.png"></p><ul><li>Each Amazon EC2 instance that you launch into a VPC has a tenancy attribute (重要)<ul><li>可以在 dedicated 和 host 之间互相切换</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img042420.png"></p><hr><h4 id="VPC-Subnet"><a href="#VPC-Subnet" class="headerlink" title="VPC Subnet"></a>VPC Subnet</h4><ul><li>Can have Public Subnet and Private Subnet</li><li>AWS reserves 5 IP addresses in each subnet (first 4 &amp; last 1, 重要)<ul><li>记得前四个是从 0 开始算的, 也就是 0 - 3</li><li>比如我要做一个可以处理 28 个的, 我需要 28 + 5 + 26 + 5 &#x3D; 64</li></ul></li><li>Subnet is always associated with Route Table (重要)<ul><li>问关于 Subnet 的问题就和 Route Table 没有关系</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img201819.png"></p><hr><h4 id="Internet-Gateway-IGW-amp-Route-Table"><a href="#Internet-Gateway-IGW-amp-Route-Table" class="headerlink" title="Internet Gateway (IGW) &amp; Route Table"></a>Internet Gateway (IGW) &amp; Route Table</h4><ul><li>IGW allow resource (eg. EC2 Instance) in a VPC connect to internet<ul><li>相当于让 VPC 里的 resource 可以连上网</li><li>IGW 需要 Route Table (重要)</li></ul></li><li>如果 IGW 出问题<ul><li>Need to also have Route Table (首先检查 Route Table, 因为 IGW 需要)</li><li>检查 Security Group 是否允许通过</li></ul></li><li>处理 Network Address Translation 的就是 Internet Gateway</li><li>Internet Gateway 无法直接在 private subnet 里面使用 (重要)</li><li>NAT 针对的是 Subnet 层面, IGW 针对的是 VPC 层面 (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202043.png"><br><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img193121.png"></p><hr><h4 id="Bastion-Hosts"><a href="#Bastion-Hosts" class="headerlink" title="Bastion Hosts"></a>Bastion Hosts</h4><ul><li>Use Bastion Host to SSH into private EC2 instance (SSH 进入 EC2)</li><li>Bastion Host is in the public subnet and is connected to the private subnet<ul><li>简单来说就是 Public Internet 到 Private Subnet</li></ul></li><li>Bastion Host security group must restrict internet access (port 22)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202553.png"></p><blockquote><p>Create a public Network Load Balancer that links to Amazon EC2 instances that are bastion hosts managed by an Auto Scaling Group</p></blockquote><hr><h4 id="NAT-Instances-Outdated"><a href="#NAT-Instances-Outdated" class="headerlink" title="NAT Instances (Outdated)"></a>NAT Instances (Outdated)</h4><ul><li>NAT: Network Address Translation</li><li>Allow EC2 Instance in Private Subnet to connect to the Internet<ul><li>但现在都是用 NAT Gateway (NAT Gateway is the prefered solution now)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202940.png"></p><ul><li>NAT instance can be used as a bastion server</li><li>Security Groups can be associated with a NAT instance</li><li>NAT instance supports port forwarding</li></ul><hr><h4 id="NAT-Gateway-NATGW"><a href="#NAT-Gateway-NATGW" class="headerlink" title="NAT Gateway (NATGW)"></a>NAT Gateway (NATGW)</h4><ul><li>AWS managed NAT, AZ specific, use Elastic IP (针对 IPv4, Egress 是 IPv6)<ul><li>Allow EC2 Instance in Private Subnet to connect to the Internet</li><li>Requires an IGW, NATGW 是处于 public subnet 的 (注意)</li></ul></li><li>NAT 针对的是 Subnet 层面, IGW 针对的是 VPC 层面</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203409.png"></p><ul><li>Resilient within single AZ, Multiple-AZ need multiple NATGW<ul><li>每个 AZ 都要一个 NATGW, 用来 fault-tolerance (容错能力)</li></ul></li><li>Highly availiable within AZ (create in another AZ)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img203654.png"></p><hr><h4 id="NACL-amp-Security-Groups"><a href="#NACL-amp-Security-Groups" class="headerlink" title="NACL &amp; Security Groups"></a>NACL &amp; Security Groups</h4><ul><li>The request has to go over NACL before go to Subnet (Subnet level)<ul><li>NACL is stateless (inbound outbound 都要检测)</li></ul></li><li>The request has to go over Security Group before go to EC2 Instance (Instance level)<ul><li>Security Group (SG) is stateful (inbound accepted &#x3D; outbound accepted)</li></ul></li><li>反正记住 NACL 是 Subnet level (stateless), Security Group 是 Instance level (stateful)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img204310.png"></p><ul><li>Network Access Control List (NACL)<ul><li>NACL control traffic from and to subnets (eg. block IP)</li><li>One NACL per subnet, each subnet have default NACL (注意)<ul><li>Default NACL accept every inbound and outbound</li></ul></li><li>NACL Rules have number, higher precedence with lower number (越优先数字越低)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img204553.png"></p><hr><h4 id="VPC-Peering-amp-Sharing"><a href="#VPC-Peering-amp-Sharing" class="headerlink" title="VPC Peering &amp; Sharing"></a>VPC Peering &amp; Sharing</h4><ul><li>VPC Peering: Privately connect two VPCs using AWS network (只适合少量 VPC, 重要)<ul><li>每一对 VPC 都要 VPC Peering, 和 S3 Replication 类似</li></ul></li><li>Can create VPC Peering between VPCs in different AWS accounts &#x2F; regions</li><li>Need to update Route Table in each VPC subnet to make sure they can communicate<ul><li>出问题就检查 Route Table</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img205313.png"></p><ul><li>VPC Sharing: Allows multiple AWS accounts to create resources (eg. EC2, RDS) into shared and centrally-managed AWS VPC (重要)<ul><li>遇到 centrally managed 的就是 VPC Sharing</li><li>而且是 owner 需要 share one or more subnet (注意)</li></ul></li></ul><hr><h4 id="VPC-Endpoints-AWS-PrivateLink"><a href="#VPC-Endpoints-AWS-PrivateLink" class="headerlink" title="VPC Endpoints (AWS PrivateLink)"></a>VPC Endpoints (AWS PrivateLink)</h4><ul><li>VPC Endpoints allow private access to AWS services within a VPC (重要)<ul><li>用 Private Network 连接 AWS 服务, 和 On-Premise 没有关系</li><li>Interface Endpoint 支持大部分 AWS 服务 (付费)</li><li>Gateway Endpoint 只支持 S3 和 DynamoDB (很容易考, 免费)</li></ul></li><li>注意, VPC Gateway Endpoint 专门处理 S3 和 DynamoDB (不要去选择 NAT 或者 IGW)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img205719.png"></p><ul><li>两种 Types of Endpoints (Interface &#x2F; Gateway)<ul><li>Interface Endpoints: Supports most AWS services (付费)</li><li>Gateway Endpoints: Must be used as a target in a route table (免费, 重要)<ul><li>Only support S3 and DynamoDB (只支持 S3 和 DynamoDB)</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img205939.png"></p><hr><h4 id="VPC-Flow-Logs"><a href="#VPC-Flow-Logs" class="headerlink" title="VPC Flow Logs"></a>VPC Flow Logs</h4><ul><li>Capture information about IP traffic going into interfaces (监视 IP 流量的)<ul><li>Monitor &amp; troubleshoot connectivity issues (网络连接问题)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img231819.png"></p><hr><h4 id="Site-to-Site-VPN-VPN-Connection"><a href="#Site-to-Site-VPN-VPN-Connection" class="headerlink" title="Site-to-Site VPN (VPN Connection)"></a>Site-to-Site VPN (VPN Connection)</h4><ul><li>Site-to-Site VPN: Connect AWS to Corporate Data Center over public internet (重点, public internet, On-Premise to AWS)<ul><li>Need a Virtual Private Gateway (VGW) on VPC (AWS 方)</li><li>Need a Customer Gateway (CGW) on DC (On-Premise 方)</li></ul></li><li>对比 DX, Site-to-Site VPN 没有提供 low latency, and high throughput connection</li><li>Site-to-Site VPN 有 encrypted network connectivity between On-Premise and VPC</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232320.png"></p><ul><li>需要 VPN Gateway 和 Customer Gateway 来连接 VPC 和 On-Premise</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img232649.png"></p><hr><h4 id="VPN-CloudHub"><a href="#VPN-CloudHub" class="headerlink" title="VPN CloudHub"></a>VPN CloudHub</h4><ul><li>Provide secure communication for multiple VPN Connections (Site-to-Site VPN)<ul><li>在需要管理多个 Site-to-Site VPN 的时候</li><li>可以作为 backup connection 使用 public internet 去防止 failover</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img202141.png"></p><blockquote><p>If you have multiple AWS Site-to-Site VPN connections, you can provide secure communication between sites using the AWS VPN CloudHub.</p></blockquote><hr><h4 id="Direct-Connect-DX"><a href="#Direct-Connect-DX" class="headerlink" title="Direct Connect (DX)"></a>Direct Connect (DX)</h4><ul><li>Provide a dedicated private connection from a remote network to VPC (重点, private internet, On-Premise to AWS)<ul><li>需要设置 VGW, 如果给 DX 找 backup, 那么就选择 Site-to-Site VPN (这两个服务类似)</li><li>对比 Site-to-Site VPN, DX provide low latency, and high throughput connection</li><li>DX 不支持 encrypted network connectivity, Site-to-Site VPN 可以, 但是如果需要 encrypt DX connection 可以和 AWS VPN 一起用 (注意)</li><li>DX 的 set up 时间很长 (所以 DX 不算什么 quick solution)</li></ul></li><li>All private, no public network involve (注意, 如果问到 all Private 就是 DX)<ul><li>Direct Connect does not involve the Internet</li></ul></li><li>可以 access public resources (S3) 和 private resources (EC2)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233024.png"></p><ul><li>两种 Connection Type (带宽选项, Dedicated 最快)<ul><li>Dedicated Connections: 1Gbps 到 100Gbps</li><li>Hosted Connections: 50Mbps 到 10 Gbps</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004140.png"></p><ul><li>Direct Connect Gateway (连接许多 VPC 在不同的 Region)<ul><li>Direct Connection to one or more VPC in many different regions</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img233531.png"></p><ul><li><p>PrivateLink vs DX</p><ul><li><p>AWS PrivateLink provides a connection between VPCs (Virtual Private Clouds) and AWS services while bypassing the public Internet. It is a private network connection that securely transfers data without leaving the AWS network</p></li><li><p>AWS Direct Connect is a dedicated, private connection between the customer’s on-premises infrastructure at a data center and an AWS location. The main features of the connection are ultra-fast data transfer rates, low latency, and improved security since it bypasses the public Internet</p></li></ul></li></ul><hr><h4 id="Transite-Gateway"><a href="#Transite-Gateway" class="headerlink" title="Transite Gateway"></a>Transite Gateway</h4><ul><li>Have transitive peering between thousands of VPCs, On-Premise 等等 (重要)<ul><li>Regional resource, 可以 Cross-Region (Transite Gateway 连接了大量的 VPC)</li><li>可以通过 ECMP 去 maximize the VPN throughput (重要)</li></ul></li><li>Support IP Multicast, IP 多播可以在单次传输中向一组感兴趣的接收者发送互联网协议</li><li>如果问到关于 star network 或者 hub-and-spoke 的就是 Transite Gateway</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img334237.png"></p><ul><li>Site-to-Site VPN ECMP (重要)<ul><li>ECMP &#x3D; Equal-cost multi-path routing (increase bandwidth)</li><li>路由策略, 将数据包转发到单个目的地可以通过具有相同路由优先级的多条最佳路径</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234354.png"></p><hr><h4 id="VPC-Traffic-Mirroring"><a href="#VPC-Traffic-Mirroring" class="headerlink" title="VPC Traffic Mirroring"></a>VPC Traffic Mirroring</h4><ul><li>Capture and inspect network traffic in VPC (监测 VPC 网络流量)</li><li>Use cases: content inspection, threat monitoring 等等</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002627.png"></p><hr><h4 id="IPv6-in-VPC"><a href="#IPv6-in-VPC" class="headerlink" title="IPv6 in VPC"></a>IPv6 in VPC</h4><ul><li>IPv4 cannot be disabled for VPC and subnets</li><li>Eg. EC2 Instance get at least 1 private IPv4 and a public IPv6<ul><li>所以如果无法启动 EC2 Instance, 那么 IPv4 一定有问题</li><li>Create a new IPv4 CIDR in subnet (注意)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img001017.png"></p><hr><h4 id="Egress-only-Internet-Gateway"><a href="#Egress-only-Internet-Gateway" class="headerlink" title="Egress-only Internet Gateway"></a>Egress-only Internet Gateway</h4><ul><li>Use for IPv6 only (Similar to NAT Gateway, but NATGW only for IPv4)<ul><li>只允许 outbound connection 从 VPC 到 Internet, 不允许 inbound 从 Internt 到 VPC</li><li>也需要 Update Route Table</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img001334.png"></p><hr><h4 id="AWS-Network-Firewall"><a href="#AWS-Network-Firewall" class="headerlink" title="AWS Network Firewall"></a>AWS Network Firewall</h4><ul><li>Protect entire AWS VPC (相当于 VPC 的防火墙, 千万要记住)<ul><li>From Layer 3 to Layer 7 protection (全方面, 重要)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002037.png"></p><ul><li>Have traffic filtering: Allow, drop, or alert traffic that match the rules</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002200.png"></p><ul><li>AWS Network Firewall is a managed firewall service that provides filtering for both inbound and outbound network traffic. It allows you to create rules for traffic inspection and filtering, which can help protect your production VPC</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img234322.png"></p><hr><h3 id="25-Disaster-Recovery-amp-Migrations"><a href="#25-Disaster-Recovery-amp-Migrations" class="headerlink" title="25. Disaster Recovery &amp; Migrations"></a>25. Disaster Recovery &amp; Migrations</h3><h4 id="Disaster-Recovery"><a href="#Disaster-Recovery" class="headerlink" title="Disaster Recovery"></a>Disaster Recovery</h4><ul><li>RPO: Recovery Point Objective (这段时间的数据丢失)</li><li>RTO: Recovery Time Objective (这段时间 App 停机)</li><li>遇到 DR 就应该去想 Multi-Region 的处理方法 (注意)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img002206.png"></p><ul><li>Disaster Recovery Startegies<ul><li>Backup and Restore: High RPO &amp; RTO, 将 On-Premise 数据备份在 Cloud 上</li><li>Pilot Light: 一部分 app 在 Cloud 上跑 (Only the critical infrastructure)<ul><li>注意, 遇到有提到 DR (Disaster Recovery) with minimum 的就是 Pilot Light</li></ul></li><li>Warm Standby: 一部分 app 在 Cloud 上跑 (Scale-down version, scale-up quickly)<ul><li>注意, 遇到有提到 DR (Disaster Recovery) with scale-down 的就是 Warm Standby</li></ul></li><li>Multi-Site: Every Low RTO &amp; RPO, 全部 app 在 Cloud 上跑 (最贵)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img142543.png"></p><hr><h4 id="Database-Migration-Service-DMS"><a href="#Database-Migration-Service-DMS" class="headerlink" title="Database Migration Service (DMS)"></a>Database Migration Service (DMS)</h4><ul><li>Migrate database to AWS (将数据库迁移到 AWS, 非常重要)</li><li>Support Homogeneous migration &amp; Heterogeneous migration<ul><li>Homogeneous 就是相同的数据库类型, Heterogeneous 就是不同的数据库类型</li></ul></li><li>Need to have an EC2 Instance to perform DMS to make it work</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img143551.png"></p><ul><li>AWS Schema Conversion Tool (SCT, 重要)<ul><li>Covert Database Schema from one engine to another (如果要迁移的数据库类型不同)</li><li>If same DB engine, don’t need SCT (比如 PostgreSQL 到 AWS RDS PostgreSQL)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img143914.png"></p><ul><li>DMS Multi-AZ Deployement<ul><li>DMS provisions and maintains a synchronously stand replica in different AZ</li><li>相当于你在数据库迁移的时候可以在另外一个 AZ 有一个备份</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img144109.png"></p><hr><h4 id="RDS-amp-Aurora-Migration"><a href="#RDS-amp-Aurora-Migration" class="headerlink" title="RDS &amp; Aurora Migration"></a>RDS &amp; Aurora Migration</h4><ul><li>RDS MySQL to Aurora MySQL (PostgreSQL 也是一样的道理)<ul><li>Op1. DB Snapshots from RDS MySQL restored as Aurora MySQL</li><li>Op2. Create Aurora Read Replica from RDS MySQL</li></ul></li><li>External MySQL to Aurora MySQL<ul><li>Op1. Create backup file in S3, and create Aurora MySQL from S3</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img144459.png"></p><hr><h4 id="On-Premise-Strategy-with-AWS"><a href="#On-Premise-Strategy-with-AWS" class="headerlink" title="On-Premise Strategy with AWS"></a>On-Premise Strategy with AWS</h4><ul><li>AWS Application Discovery Service (DS)</li><li>AWS Database Migration Service (DMS)</li><li>AWS Server Migration Service (SMS)</li><li>VM Import &amp; Export (以上这些都要依赖 On-Premise)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145118.png"></p><hr><h4 id="AWS-Backup"><a href="#AWS-Backup" class="headerlink" title="AWS Backup"></a>AWS Backup</h4><ul><li>Fully managed service to automate backups across AWS services (做备份的, 重要)<ul><li>支持 EC2, EBS, S3, RDS, EFS 等等</li></ul></li><li>Support Cross-Region backups and Cross-Account backups</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145310.png"></p><ul><li>AWS Backup Valut Lock (相当于给 backup 上锁)<ul><li>Enforce a WORM state for all backups (意思就是所有 backup 都删不了)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145549.png"></p><hr><h4 id="Application-Migration-Service-MGN"><a href="#Application-Migration-Service-MGN" class="headerlink" title="Application Migration Service (MGN)"></a>Application Migration Service (MGN)</h4><ul><li>AWS Application Discovery Service (相当于在 MGN 之前要先做计划)<ul><li>Plan migration projects by gathering information about On-Premise data centers</li><li>有 Agentless Discovery 和 Agent-based Discovery</li></ul></li><li>Result is viewed in AWS Migration Hub</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145820.png"></p><ul><li>AWS Application Migration Service (MGN)<ul><li>Simplify migrating applications to AWS (将 App 迁移到 AWS)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img145954.png"></p><hr><h4 id="VMware-Cloud-on-AWS"><a href="#VMware-Cloud-on-AWS" class="headerlink" title="VMware Cloud on AWS"></a>VMware Cloud on AWS</h4><ul><li>Use VMware Cloud to manage and extend On-Premise Data Center</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img150508.png"></p><hr><h3 id="26-More-SAA"><a href="#26-More-SAA" class="headerlink" title="26. More SAA"></a>26. More SAA</h3><h4 id="Event-Processing"><a href="#Event-Processing" class="headerlink" title="Event Processing"></a>Event Processing</h4><ul><li>Fan Out Pattern: Have SNS in the middle and subscribe to multiple SQS (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185229.png"></p><ul><li>S3 Event Notifications: Trigger Lambda or SNS when S3 event happen (在第十一章)<ul><li>如果遇到需要 set up DLQ (Dead Letter Queue), 选择 Lambda</li><li>DLQ 是处理当 message 没有办法被 processed (consumed) successfully</li></ul></li><li>也可以和 EventBridge 一起用, 有 advanced filtering<ul><li>EventBridge 可以和 CloudTrail 一起用来 Intercept API call</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185348.png"></p><hr><h4 id="Caching-Strategies"><a href="#Caching-Strategies" class="headerlink" title="Caching Strategies"></a>Caching Strategies</h4><ul><li>Cache: 离用户越近越快, 但是可能 outdated, 所以需要 TTL (Time to Live)</li><li>API Gateway: Regional Caching (因为 API Gateway 是 Regional 的)</li><li>App Logic: 防止频繁调用数据库</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img185932.png"></p><hr><h4 id="Block-IP-Address"><a href="#Block-IP-Address" class="headerlink" title="Block IP Address"></a>Block IP Address</h4><ul><li>NACL: Decline the client IP</li><li>WAF: IP address filtering</li><li>总之, 可以用 NACL 在处理, 也可以用 WAF 处理 (二者选一, 但是一般选择 WAF)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190513.png"></p><hr><h4 id="HPC-in-AWS"><a href="#HPC-in-AWS" class="headerlink" title="HPC in AWS"></a>HPC in AWS</h4><ul><li>Cloud is the perfect place to perform HPC (High Performance Computing)</li><li>Data Management &amp; Transfer (数据处理和迁移)<ul><li>AWS Direct Connect, Snowball, AWS DataSync</li></ul></li><li>提到 HPC 就应该想到 EFA, Cluster Placement, FSx Lustre</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190820.png"></p><ul><li>Compute &amp; Networking<ul><li>EC2 Instance + EC2 Placement Group (Cluster, 因为 network 快)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img190944.png"></p><ul><li>Compute &amp; Networking (Cont.)<ul><li>EC2 Enhanced Networking (SR-IOV): 需要 Elastic Network Adapter (ENA)</li><li>Elastic Fabric Adapter (EFA): Improved ENA for HPC, only work for Linux</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191112.png"></p><ul><li>Storage<ul><li>Instance-attached storage: EBS, Instance Store</li><li>Network storage: S3, EFS, FSx</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191328.png"></p><ul><li>Automation &amp; Orchestration<ul><li>AWS Batch: Run multi-node pararllel jobs in multiple EC2 instances</li><li>AWS ParallelCluster: Deploy HPC on AWS, can enable EFA on cluster</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191502.png"></p><hr><h4 id="EC2-Instance-High-Availability"><a href="#EC2-Instance-High-Availability" class="headerlink" title="EC2 Instance High Availability"></a>EC2 Instance High Availability</h4><ul><li>Elastic IP + Standby EC2 Instance + CloudWatch + Lambda<ul><li>当 failover, 转到 standby EC2 Instance</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img191841.png"></p><ul><li>Elastic IP + Auto Scaling Group (min, max)<ul><li>当 failover, 有 replacement EC2 Instance (不需要 CloudWatch 了)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img192115.png"></p><hr><h3 id="27-Other-AWS-Services"><a href="#27-Other-AWS-Services" class="headerlink" title="27. Other AWS Services"></a>27. Other AWS Services</h3><h4 id="AWS-CloudFormation"><a href="#AWS-CloudFormation" class="headerlink" title="AWS CloudFormation"></a>AWS CloudFormation</h4><ul><li>A declarative way of outlining AWS Infrastructure (相当于有一个模板帮你生成你想要的)<ul><li>需要什么 (eg. EC2 Instance, S3), CloudFormation 给你 create 什么</li><li>CloudFormation 是 IaaS (Infrastructure as a Service)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img003448.png"></p><ul><li>Infrastructure as a Service (IaaS, no need to manually create)</li><li>Good if we need to repeat architecture in different environment</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img003657.png"></p><hr><h4 id="CloudFormation-StackSets"><a href="#CloudFormation-StackSets" class="headerlink" title="CloudFormation StackSets"></a>CloudFormation StackSets</h4><ul><li>使用 StackSets, 如果需要 cross account 或者 region 去使用 CloudFormation</li><li>AWS CloudFormation StackSet extends the functionality of stacks by enabling you to create, update, or delete stacks across multiple accounts and regions with a single operation</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img013227.png"></p><hr><h4 id="CloudFormation-Service-Role"><a href="#CloudFormation-Service-Role" class="headerlink" title="CloudFormation Service Role"></a>CloudFormation Service Role</h4><ul><li>Service Role: IAM role that allows CloudFormation to create &#x2F; update &#x2F; delete resource</li><li>Give ability to user to do the above (安全方面)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004103.png"></p><hr><h4 id="AWS-SES-Simple-Email-Service"><a href="#AWS-SES-Simple-Email-Service" class="headerlink" title="AWS SES (Simple Email Service)"></a>AWS SES (Simple Email Service)</h4><ul><li>Managed service to send email securely (发邮件的)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004334.png"></p><hr><h4 id="AWS-Pinpoint"><a href="#AWS-Pinpoint" class="headerlink" title="AWS Pinpoint"></a>AWS Pinpoint</h4><ul><li>Scalable 2-way (outbound &#x2F; inbound) marketing communication serivce (重要)<ul><li>给客户发消息用的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004519.png"></p><hr><h4 id="AWS-SSM-Session-Manager"><a href="#AWS-SSM-Session-Manager" class="headerlink" title="AWS SSM Session Manager"></a>AWS SSM Session Manager</h4><ul><li>SSM Session Manager: Systems Manager Session Manager</li><li>Allow to start a secure shell on EC2 and On-Premise (更好的从 On-Premise access EC2)<ul><li>No need SSH access (Better security)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img004759.png"></p><hr><h4 id="AWS-Cost-Explorer"><a href="#AWS-Cost-Explorer" class="headerlink" title="AWS Cost Explorer"></a>AWS Cost Explorer</h4><ul><li>Visualize &amp; manage AWS costs and usage over time (可以生成消费报告)</li><li>Can choose a optimal Saving Plan</li><li>如果问和钱相关的很大程度就是 Cost Explorer (重要)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005425.png"></p><hr><h4 id="AWS-Compute-Optimizer"><a href="#AWS-Compute-Optimizer" class="headerlink" title="AWS Compute Optimizer"></a>AWS Compute Optimizer</h4><ul><li>简单来说, Cost Explorer + Compute Optimizer 一起就是来省钱的</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img173241.png"></p><blockquote><p>AWS Compute Optimizer recommends optimal AWS Compute resources for your workloads to reduce costs and improve performance by using machine learning to analyze historical utilization metrics.</p></blockquote><hr><h4 id="AWS-Batch"><a href="#AWS-Batch" class="headerlink" title="AWS Batch"></a>AWS Batch</h4><ul><li>Managed batch processing at any scale (批量处理)<ul><li>Batch can dynamically launch EC2 Instance or Spot Instance</li></ul></li><li>Batch jobs are defined as Docker images and run on ECS</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005610.png"></p><ul><li>Batch vs Lambda<ul><li>Lambda: Time limit, Serverless</li><li>Batch: No time limit, Not Serverless</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005741.png"></p><hr><h4 id="AWS-AppFlow"><a href="#AWS-AppFlow" class="headerlink" title="AWS AppFlow"></a>AWS AppFlow</h4><ul><li>Transfer data between Software-as-a-Service (SaaS) applications and AWS (重要)<ul><li>如果题目问到 SaaS 就要想起 AppFlow</li><li>Source: Salesforce, Slack 等等 (遇到 SaaS 就是 AppFlow)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img005910.png"></p><hr><h4 id="AWS-Amplify"><a href="#AWS-Amplify" class="headerlink" title="AWS Amplify"></a>AWS Amplify</h4><ul><li>A set of tools to develop and deploy full stack web and mobile application<ul><li>搭建全栈项目的</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img010043.png"></p><hr><h4 id="AWS-Resource-Access-Manager-RAM"><a href="#AWS-Resource-Access-Manager-RAM" class="headerlink" title="AWS Resource Access Manager (RAM)"></a>AWS Resource Access Manager (RAM)</h4><ul><li>RAM is a service that enables easily and securely share AWS resources with any AWS account or within AWS Organization. (eg. Transite Gateway, Subnets)<ul><li>选择 RAM 的主要原因是它便宜</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img043006.png"></p><hr><h4 id="AWS-Systems-Manager"><a href="#AWS-Systems-Manager" class="headerlink" title="AWS Systems Manager"></a>AWS Systems Manager</h4><ul><li>AWS Systems Manager is an AWS service that you can use to view and control your infrastructure on AWS (比如 group resources, eg. EC2, S3 等等)</li><li>Use AWS Systems Manager Run Command to run a custom command that applies the patch to all EC2 instances</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img013522.png"></p><hr><h3 id="28-WhitePapers"><a href="#28-WhitePapers" class="headerlink" title="28. WhitePapers"></a>28. WhitePapers</h3><ul><li>Well Architected Framework: 有 6 个 Pillars 要记</li><li>Operational Excellence (运营) + Security (安全) + Reliability (可靠) + Performance Efficiency (性能效率) + Cost Optimization (省钱) + Sustainability (持续发展)</li><li>Maximum resilience is achieved by separate connections terminating on separate devices in more than one location</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img911011.png"></p><ul><li>AWS Well-Architected Tool<ul><li>Review architectures against 6 pillars (best practice)</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img010508.png"></p><hr><h4 id="AWS-Trusted-Advisor"><a href="#AWS-Trusted-Advisor" class="headerlink" title="AWS Trusted Advisor"></a>AWS Trusted Advisor</h4><ul><li>High level AWS account assessment (AWS 账户评估)<ul><li>Learn the best practices on cost optimization, performance, and security</li></ul></li><li>根据上面的 6 Pillars 来判断 (要记住)</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img010724.png"></p><hr><h3 id="29-Extra"><a href="#29-Extra" class="headerlink" title="29. Extra"></a>29. Extra</h3><ul><li><p>DNS queries</p><ul><li>To resolve any DNS queries for resources in the AWS VPC from the on-premises network, you can create an inbound endpoint on Amazon Route 53 Resolver and then DNS resolvers on the on-premises network can forward DNS queries to Amazon Route 53 Resolver via this endpoint.</li><li>To resolve DNS queries for any resources in the on-premises network from the AWS VPC, you can create an outbound endpoint on Amazon Route 53 Resolver and then Amazon Route 53 Resolver can conditionally forward queries to resolvers on the on-premises network via this endpoint.</li></ul></li><li><p>EC2 Instance recover from impaired state</p><ul><li>A recovered instance is identical to the original instance, including the instance ID, private IP addresses, Elastic IP addresses, and all instance metadata</li><li>If your instance has a public IPv4 address, it retains the public IPv4 address after recovery</li></ul></li><li><p>Spot Instance &amp; Spot Fleet</p><ul><li>If a spot request is persistent, then it is opened again after your Spot Instance is interrupted</li><li>Spot Fleets can maintain target capacity by launching replacement instances after Spot Instances in the fleet are terminated</li><li>When you cancel an active spot request, it does not terminate the associated instance</li></ul></li><li><p>Improve the security at the authentication level by leveraging short-lived credentials</p><ul><li>Use IAM authentication from AWS Lambda to Amazon RDS PostgreSQL</li><li>Attach an AWS Identity and Access Management (IAM) role to AWS Lambda</li></ul></li><li><p>Only root user account can do</p><ul><li>Some of the AWS tasks that only a root account user can do are as follows: change account name or root password or root email address, change AWS support plan, close AWS account, enable AWS Multi-Factor Authentication (AWS MFA) on S3 bucket delete, create Cloudfront key pair, register for GovCloud.</li></ul></li></ul><hr><h3 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h3><blockquote><p>请勿随意修改, 谢谢</p></blockquote></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AWS/">AWS</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/ced5b880.html" title="考证：AWS CLF-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img1l99wbel5ip2y1oivo40zrh051humxd.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">考证：AWS CLF-C02</div></div></a></div><div class="next-post pull-right"><a href="/posts/31e3742d.html" title="考证：AWS DVA-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img735yqku3pzfqxatav0t55gipvv1zzh2.jpg" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">考证：AWS DVA-C02</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/31e3742d.html" title="考证：AWS DVA-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img735yqku3pzfqxatav0t55gipvv1zzh2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-30</div><div class="title">考证：AWS DVA-C02</div></div></a></div><div><a href="/posts/ced5b880.html" title="考证：AWS CLF-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img1l99wbel5ip2y1oivo40zrh051humxd.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-30</div><div class="title">考证：AWS CLF-C02</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德狗子.GIF" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="avatar"></div><div class="author-info__name">鴻達</div><div class="author-info__description">记录 生活</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">19</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Hongda-OSU" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.linkedin.com/in/hongda-lin" target="_blank" title="Linkedin"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://hongdalin.me" target="_blank" title="Portfolio"><i class="iconfont icon-guanfangwangzhan"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">文章右下角小工具进入阅读模式</div></div><div class="xpand" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">知识点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-AWS-Cloud-Overview"><span class="toc-text">1. AWS Cloud Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Regions"><span class="toc-text">AWS Regions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Availability-Zone-AZ"><span class="toc-text">AWS Availability Zone (AZ)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Edge-Locations"><span class="toc-text">AWS Edge Locations</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-IAM"><span class="toc-text">2. IAM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-IAM"><span class="toc-text">AWS IAM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Permissions"><span class="toc-text">IAM Permissions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Polices"><span class="toc-text">IAM Polices</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-MFA"><span class="toc-text">IAM MFA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-CLI-amp-SDK"><span class="toc-text">IAM CLI &amp; SDK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Roles"><span class="toc-text">IAM Roles</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Security-Tools"><span class="toc-text">IAM Security Tools</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Extra"><span class="toc-text">IAM Extra</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-EC2-Fundamentals"><span class="toc-text">3. EC2 Fundamentals</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EC2"><span class="toc-text">AWS EC2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Instance-Type"><span class="toc-text">EC2 Instance Type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Security-Groups"><span class="toc-text">EC2 Security Groups</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Instance-Purchasing-Options"><span class="toc-text">EC2 Instance Purchasing Options</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Spot-Instance"><span class="toc-text">EC2 Spot Instance</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-EC2-SAA-Level"><span class="toc-text">4. EC2 SAA Level</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Elastic-IP"><span class="toc-text">Elastic IP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Placement-Groups"><span class="toc-text">EC2 Placement Groups</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Elatic-Network-Interfaces-ENI"><span class="toc-text">Elatic Network Interfaces (ENI)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Hibernate"><span class="toc-text">EC2 Hibernate</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-EC2-Instance-Storage"><span class="toc-text">5. EC2 Instance Storage</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EBS"><span class="toc-text">AWS EBS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EBS-Snapshots"><span class="toc-text">EBS Snapshots</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-AMI"><span class="toc-text">AWS AMI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Instance-Store"><span class="toc-text">EC2 Instance Store</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EBS-Volume-Types"><span class="toc-text">EBS Volume Types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EBS-Multi-Attach"><span class="toc-text">EBS Multi-Attach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EBS-Encryption"><span class="toc-text">EBS Encryption</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EBS-RAID"><span class="toc-text">EBS RAID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EFS"><span class="toc-text">AWS EFS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-ELB-amp-ASG"><span class="toc-text">6. ELB &amp; ASG</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Scalability-amp-High-Availability"><span class="toc-text">Scalability &amp; High Availability</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ELB"><span class="toc-text">AWS ELB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application-Load-Balancer-ALB"><span class="toc-text">Application Load Balancer (ALB)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Network-Load-Balancer-NLB"><span class="toc-text">Network Load Balancer (NLB)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Gateway-Load-Balancer-GWLB"><span class="toc-text">Gateway Load Balancer (GWLB)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sticky-Sessions-Session-Affinity"><span class="toc-text">Sticky Sessions (Session Affinity)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Cross-Zone-Load-Balancing"><span class="toc-text">Cross Zone Load Balancing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSL-Certificates"><span class="toc-text">SSL Certificates</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Connection-Draining"><span class="toc-text">Connection Draining</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ASG"><span class="toc-text">AWS ASG</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scaling-Policies"><span class="toc-text">Scaling Policies</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-AWS-Fundamentals"><span class="toc-text">7. AWS Fundamentals</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-RDS"><span class="toc-text">AWS RDS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Read-Replicas-vs-Multi-AZ"><span class="toc-text">Read Replicas vs. Multi AZ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RDS-Custom"><span class="toc-text">RDS Custom</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Aurora"><span class="toc-text">AWS Aurora</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Aurora-Advanced"><span class="toc-text">Aurora Advanced</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Backup-amp-Monitoring"><span class="toc-text">Backup &amp; Monitoring</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RDS-Security"><span class="toc-text">RDS Security</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RDS-Proxy"><span class="toc-text">RDS Proxy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ElastiCache"><span class="toc-text">AWS ElastiCache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ElastiCache-SAA"><span class="toc-text">ElastiCache SAA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-Route-53"><span class="toc-text">8. Route 53</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#What%E2%80%99s-DNS"><span class="toc-text">What’s DNS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Route-53"><span class="toc-text">AWS Route 53</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Route-53-TTL"><span class="toc-text">Route 53 TTL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CNAME-vs-Alias"><span class="toc-text">CNAME vs Alias</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Health-Checks"><span class="toc-text">Health Checks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Simple"><span class="toc-text">Routing Policy (Simple)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Weighted"><span class="toc-text">Routing Policy (Weighted)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Latency"><span class="toc-text">Routing Policy (Latency)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Failover"><span class="toc-text">Routing Policy (Failover)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Geolocation"><span class="toc-text">Routing Policy (Geolocation)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Geoproximity"><span class="toc-text">Routing Policy (Geoproximity)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-IP-Based"><span class="toc-text">Routing Policy (IP-Based)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Routing-Policy-Multi-Value"><span class="toc-text">Routing Policy (Multi-Value)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-Beanstalk"><span class="toc-text">9. Beanstalk</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantiate-App"><span class="toc-text">Instantiate App</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Elastic-Beanstalk"><span class="toc-text">Elastic Beanstalk</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-AWS-S3"><span class="toc-text">10. AWS S3</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-S3"><span class="toc-text">AWS S3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Bucket-Policy"><span class="toc-text">S3 Bucket Policy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Versioning"><span class="toc-text">S3 Versioning</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Replication-CRR-amp-SRR"><span class="toc-text">S3 Replication (CRR &amp; SRR)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Storage-Classes"><span class="toc-text">S3 Storage Classes</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-AWS-S3-Advance"><span class="toc-text">11. AWS S3 Advance</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Lifecycle-Rules"><span class="toc-text">S3 Lifecycle Rules</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Requester-Pays"><span class="toc-text">S3 Requester Pays</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Event-Notifications"><span class="toc-text">S3 Event Notifications</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Performance"><span class="toc-text">S3 Performance</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Select-amp-Glacier-Select"><span class="toc-text">S3 Select &amp; Glacier Select</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Batch-Operations"><span class="toc-text">S3 Batch Operations</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-AWS-S3-Security"><span class="toc-text">12. AWS S3 Security</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Encryption"><span class="toc-text">S3 Encryption</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-CORS"><span class="toc-text">S3 CORS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-MFA-Delete"><span class="toc-text">S3 MFA Delete</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Access-Logs"><span class="toc-text">S3 Access Logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Pre-signed-URLs"><span class="toc-text">S3 Pre-signed URLs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Glacier-Vault-Lock-amp-S3-Object-Lock"><span class="toc-text">Glacier Vault Lock &amp; S3 Object Lock</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Access-Points"><span class="toc-text">S3 Access Points</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Object-Lambda"><span class="toc-text">S3 Object Lambda</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-CloudFront-amp-AWS-Global-Accelerator"><span class="toc-text">13. CloudFront &amp; AWS Global Accelerator</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-CloudFront"><span class="toc-text">AWS CloudFront</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudFront-Geo-Restriction"><span class="toc-text">CloudFront Geo Restriction</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudFront-Cache-Invalidation"><span class="toc-text">CloudFront Cache Invalidation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Global-Accelerator"><span class="toc-text">AWS Global Accelerator</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-AWS-Storage-Extra"><span class="toc-text">14. AWS Storage Extra</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Snow-Family"><span class="toc-text">AWS Snow Family</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-FSx"><span class="toc-text">AWS FSx</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Storage-Gateway"><span class="toc-text">AWS Storage Gateway</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Transfer-Family"><span class="toc-text">AWS Transfer Family</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-DataSync"><span class="toc-text">AWS DataSync</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-SQS-SNS-Kinesis-Active-MQ"><span class="toc-text">15. SQS, SNS, Kinesis, Active MQ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-SQS"><span class="toc-text">AWS SQS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQS-Long-Polling"><span class="toc-text">SQS Long Polling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQS-FIFO-Queue"><span class="toc-text">SQS FIFO Queue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-SNS"><span class="toc-text">AWS SNS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Fan-Out-Pattern"><span class="toc-text">Fan Out Pattern</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Kinesis"><span class="toc-text">AWS Kinesis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kinesis-Data-Streams"><span class="toc-text">Kinesis Data Streams</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kinesis-Data-Firehose"><span class="toc-text">Kinesis Data Firehose</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-ordering-for-Kinesis"><span class="toc-text">Data ordering for Kinesis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-MQ"><span class="toc-text">AWS MQ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-Containers-on-AWS"><span class="toc-text">16. Containers on AWS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ECS"><span class="toc-text">AWS ECS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ECS-Auto-Scaling"><span class="toc-text">ECS Auto Scaling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ECR"><span class="toc-text">AWS ECR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EKS"><span class="toc-text">AWS EKS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-App-Runner"><span class="toc-text">AWS App Runner</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-Serverless"><span class="toc-text">17. Serverless</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Lambda"><span class="toc-text">AWS Lambda</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Lambda-SnapStart"><span class="toc-text">Lambda SnapStart</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudFront-Functions-amp-Lambda-Edge"><span class="toc-text">CloudFront Functions &amp; Lambda@Edge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Lambda-in-VPC"><span class="toc-text">Lambda in VPC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RDS-with-Lambda"><span class="toc-text">RDS with Lambda</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-DynamoDB"><span class="toc-text">AWS DynamoDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DynamoDB-Advance"><span class="toc-text">DynamoDB Advance</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-API-Gateway"><span class="toc-text">AWS API Gateway</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Step-Functions"><span class="toc-text">AWS Step Functions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Cognito"><span class="toc-text">AWS Cognito</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-Database-Summary"><span class="toc-text">18. Database Summary</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-RDS-SM"><span class="toc-text">AWS RDS (SM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Aurora-SM"><span class="toc-text">AWS Aurora (SM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ElastiCache-SM"><span class="toc-text">AWS ElastiCache (SM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-DynamoDB-SM"><span class="toc-text">AWS DynamoDB (SM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-S3-SM"><span class="toc-text">AWS S3 (SM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-DocumentDB"><span class="toc-text">AWS DocumentDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Neptune"><span class="toc-text">AWS Neptune</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Keyspaces"><span class="toc-text">AWS Keyspaces</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-QLDB"><span class="toc-text">AWS QLDB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Timestream"><span class="toc-text">AWS Timestream</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-Data-amp-Analytics"><span class="toc-text">19. Data &amp; Analytics</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Athena"><span class="toc-text">AWS Athena</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Redshift"><span class="toc-text">AWS Redshift</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-OpenSearch"><span class="toc-text">AWS OpenSearch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EMR"><span class="toc-text">AWS EMR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-QuickSight"><span class="toc-text">AWS QuickSight</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Glue"><span class="toc-text">AWS Glue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Lake-Formation"><span class="toc-text">AWS Lake Formation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Kinesis-Data-Analytics"><span class="toc-text">Kinesis Data Analytics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-MSK"><span class="toc-text">AWS MSK</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-Machine-Learning"><span class="toc-text">20. Machine Learning</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Rekognition"><span class="toc-text">AWS Rekognition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Transcribe"><span class="toc-text">AWS Transcribe</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Polly"><span class="toc-text">AWS Polly</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Translate"><span class="toc-text">AWS Translate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Lex-amp-Connect"><span class="toc-text">AWS Lex &amp; Connect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Comprehend"><span class="toc-text">AWS Comprehend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-SageMaker"><span class="toc-text">AWS SageMaker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Forecast"><span class="toc-text">AWS Forecast</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Kendra"><span class="toc-text">AWS Kendra</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Personalize"><span class="toc-text">AWS Personalize</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Textract"><span class="toc-text">AWS Textract</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-AWS-Mointoring-amp-Audit"><span class="toc-text">21. AWS Mointoring &amp; Audit</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudWatch-Metrics"><span class="toc-text">CloudWatch Metrics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudWatch-Logs"><span class="toc-text">CloudWatch Logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudWatch-Agent"><span class="toc-text">CloudWatch Agent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudWatch-Alarms"><span class="toc-text">CloudWatch Alarms</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EventBridge"><span class="toc-text">AWS EventBridge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudWatch-Insights"><span class="toc-text">CloudWatch Insights</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-CloudTrail"><span class="toc-text">AWS CloudTrail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Config"><span class="toc-text">AWS Config</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-IAM-Advanced"><span class="toc-text">22. IAM Advanced</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Organizations"><span class="toc-text">AWS Organizations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Conditions"><span class="toc-text">IAM Conditions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Roles-vs-Resource-Based-Policies"><span class="toc-text">IAM Roles vs Resource Based Policies</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Policy-Evaluation-Logic"><span class="toc-text">Policy Evaluation Logic</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Identity-Center"><span class="toc-text">IAM Identity Center</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Directory-Services"><span class="toc-text">AWS Directory Services</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Control-Tower"><span class="toc-text">AWS Control Tower</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-AWS-Security-amp-Encryption"><span class="toc-text">23. AWS Security &amp; Encryption</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-KMS"><span class="toc-text">AWS KMS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KMS-Multi-Region-Keys"><span class="toc-text">KMS Multi-Region Keys</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Replication-with-Encryption"><span class="toc-text">S3 Replication with Encryption</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Encrypted-AMI-Sharing-Process"><span class="toc-text">Encrypted AMI Sharing Process</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSM-Parameter-Store"><span class="toc-text">SSM Parameter Store</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Secrets-Manager"><span class="toc-text">AWS Secrets Manager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Certificate-Manager-ACM"><span class="toc-text">AWS Certificate Manager (ACM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-WAF"><span class="toc-text">AWS WAF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Shield"><span class="toc-text">AWS Shield</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Firewall-Manager"><span class="toc-text">AWS Firewall Manager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-GuardDuty"><span class="toc-text">AWS GuardDuty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Inspector"><span class="toc-text">AWS Inspector</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Macie"><span class="toc-text">AWS Macie</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-Networking-VPC"><span class="toc-text">24. Networking VPC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-VPC"><span class="toc-text">AWS VPC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPC-Subnet"><span class="toc-text">VPC Subnet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Internet-Gateway-IGW-amp-Route-Table"><span class="toc-text">Internet Gateway (IGW) &amp; Route Table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bastion-Hosts"><span class="toc-text">Bastion Hosts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NAT-Instances-Outdated"><span class="toc-text">NAT Instances (Outdated)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NAT-Gateway-NATGW"><span class="toc-text">NAT Gateway (NATGW)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NACL-amp-Security-Groups"><span class="toc-text">NACL &amp; Security Groups</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPC-Peering-amp-Sharing"><span class="toc-text">VPC Peering &amp; Sharing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPC-Endpoints-AWS-PrivateLink"><span class="toc-text">VPC Endpoints (AWS PrivateLink)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPC-Flow-Logs"><span class="toc-text">VPC Flow Logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Site-to-Site-VPN-VPN-Connection"><span class="toc-text">Site-to-Site VPN (VPN Connection)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPN-CloudHub"><span class="toc-text">VPN CloudHub</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Direct-Connect-DX"><span class="toc-text">Direct Connect (DX)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Transite-Gateway"><span class="toc-text">Transite Gateway</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VPC-Traffic-Mirroring"><span class="toc-text">VPC Traffic Mirroring</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IPv6-in-VPC"><span class="toc-text">IPv6 in VPC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Egress-only-Internet-Gateway"><span class="toc-text">Egress-only Internet Gateway</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Network-Firewall"><span class="toc-text">AWS Network Firewall</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-Disaster-Recovery-amp-Migrations"><span class="toc-text">25. Disaster Recovery &amp; Migrations</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Disaster-Recovery"><span class="toc-text">Disaster Recovery</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Database-Migration-Service-DMS"><span class="toc-text">Database Migration Service (DMS)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RDS-amp-Aurora-Migration"><span class="toc-text">RDS &amp; Aurora Migration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#On-Premise-Strategy-with-AWS"><span class="toc-text">On-Premise Strategy with AWS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Backup"><span class="toc-text">AWS Backup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Application-Migration-Service-MGN"><span class="toc-text">Application Migration Service (MGN)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#VMware-Cloud-on-AWS"><span class="toc-text">VMware Cloud on AWS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-More-SAA"><span class="toc-text">26. More SAA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-Processing"><span class="toc-text">Event Processing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Caching-Strategies"><span class="toc-text">Caching Strategies</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Block-IP-Address"><span class="toc-text">Block IP Address</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HPC-in-AWS"><span class="toc-text">HPC in AWS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Instance-High-Availability"><span class="toc-text">EC2 Instance High Availability</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-Other-AWS-Services"><span class="toc-text">27. Other AWS Services</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-CloudFormation"><span class="toc-text">AWS CloudFormation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudFormation-StackSets"><span class="toc-text">CloudFormation StackSets</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudFormation-Service-Role"><span class="toc-text">CloudFormation Service Role</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-SES-Simple-Email-Service"><span class="toc-text">AWS SES (Simple Email Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Pinpoint"><span class="toc-text">AWS Pinpoint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-SSM-Session-Manager"><span class="toc-text">AWS SSM Session Manager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Cost-Explorer"><span class="toc-text">AWS Cost Explorer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Compute-Optimizer"><span class="toc-text">AWS Compute Optimizer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Batch"><span class="toc-text">AWS Batch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-AppFlow"><span class="toc-text">AWS AppFlow</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Amplify"><span class="toc-text">AWS Amplify</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Resource-Access-Manager-RAM"><span class="toc-text">AWS Resource Access Manager (RAM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Systems-Manager"><span class="toc-text">AWS Systems Manager</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28-WhitePapers"><span class="toc-text">28. WhitePapers</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Trusted-Advisor"><span class="toc-text">AWS Trusted Advisor</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#29-Extra"><span class="toc-text">29. Extra</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-text">附录</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/29dadae9.html" title="PostgreSQL 学习笔记"><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/imgied0v0dgsgyqeoh7804b0ca54buj0qd.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="PostgreSQL 学习笔记"></a><div class="content"><a class="title" href="/posts/29dadae9.html" title="PostgreSQL 学习笔记">PostgreSQL 学习笔记</a><time datetime="2024-08-02T15:15:06.000Z" title="发表于 2024-08-02 10:15:06">2024-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/69cd31bf.html" title="GraphQL 学习笔记"><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/imge39twvhffwemdsipqncbwko5vayrxgd.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="GraphQL 学习笔记"></a><div class="content"><a class="title" href="/posts/69cd31bf.html" title="GraphQL 学习笔记">GraphQL 学习笔记</a><time datetime="2024-08-02T15:15:05.000Z" title="发表于 2024-08-02 10:15:05">2024-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/88b435e5.html" title="考证：GCP Cloud Digital Leader"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/4lm5yuyw4y3lbznbatf6j8o8kcvefg8.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="考证：GCP Cloud Digital Leader"></a><div class="content"><a class="title" href="/posts/88b435e5.html" title="考证：GCP Cloud Digital Leader">考证：GCP Cloud Digital Leader</a><time datetime="2024-07-19T17:03:05.000Z" title="发表于 2024-07-19 12:03:05">2024-07-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4c411076.html" title="考证：Exam AZ-900"><img src="https://raw.githubusercontent.com/Hongda-OSU/PicGo-2.3.1/master/img1u6qw3ad64bz8nsedrd2wddgrax5wew.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="考证：Exam AZ-900"></a><div class="content"><a class="title" href="/posts/4c411076.html" title="考证：Exam AZ-900">考证：Exam AZ-900</a><time datetime="2024-07-07T17:03:05.000Z" title="发表于 2024-07-07 12:03:05">2024-07-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/b7fb4495.html" title="游戏音乐 👾"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/dfcjswnw17cl1hrwz9tz8n1hgf1m8dv.jpg" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="游戏音乐 👾"></a><div class="content"><a class="title" href="/posts/b7fb4495.html" title="游戏音乐 👾">游戏音乐 👾</a><time datetime="2024-06-23T15:15:05.000Z" title="发表于 2024-06-23 10:15:05">2024-06-23</time></div></div></div></div></div></div></main><footer id="footer" style="background:rgba(0,0,0,.25)"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 &nbsp;<i id="heartbeat" class="fa fas fa-heartbeat"></i> &nbsp;鴻達</div><div class="footer_custom_text"><p class="badge"><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-informational?style=flat&logo=hexo"></a><a style="margin-inline:5px" target="_blank" href="https://domains.google/"><img src="https://img.shields.io/badge/Hosted-Google-ff69b4?style=flat&logo=googledomains"></a><a style="margin-inline:5px" target="_blank" href="https://gulpjs.com/"><img src="https://img.shields.io/badge/Compress-gulp-critical?style=flat&logo=gulp"></a><a style="margin-inline:5px" target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-black?style=flat&logo=GitHub"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris"></a></p></div></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer src="/js/util.js"></script><script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>