<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>AWS SAP-C02 | 鴻鵠誌達</title><meta name="author" content="鴻達"><meta name="copyright" content="鴻達"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#1a1a1a"><meta name="description" content="AWS 认证解决方案架构师专家"><meta property="og:type" content="article"><meta property="og:title" content="AWS SAP-C02"><meta property="og:url" content="https://hongdalin.blog/posts/da74417d.html"><meta property="og:site_name" content="鴻鵠誌達"><meta property="og:description" content="AWS 认证解决方案架构师专家"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imggsnxpqsobtbwodv20gzdbxnlvk45k5p.png"><meta property="article:published_time" content="2025-04-15T17:03:05.000Z"><meta property="article:modified_time" content="2025-06-14T00:27:14.022Z"><meta property="article:author" content="鴻達"><meta property="article:tag" content="AWS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imggsnxpqsobtbwodv20gzdbxnlvk45k5p.png"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德克萨斯.GIF"><link rel="canonical" href="https://hongdalin.blog/posts/da74417d.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1}}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"AWS SAP-C02",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-06-13 19:27:14"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,n){if(0===n)return;const o=864e5*n,a={value:t,expiry:(new Date).getTime()+o};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const n=JSON.parse(t);if(!((new Date).getTime()>n.expiry))return n.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,n)=>{const o=document.createElement("script");o.src=e,o.async=!0,o.onerror=n,o.onload=o.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,t())},document.head.appendChild(o)})),e.getCSS=e=>new Promise(((t,n)=>{const o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onload=()=>t(),o.onerror=()=>n(),document.head.appendChild(o)}));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/color.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/font.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/icon.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/layout.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="defer" onload='this.media="all"'><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德狗子.GIF" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imggsnxpqsobtbwodv20gzdbxnlvk45k5p.png')"><nav id="nav"><span id="blog-info"><a href="/" title="鴻鵠誌達"><span class="site-name">鴻鵠誌達</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">AWS SAP-C02</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-04-15T17:03:05.000Z" title="发表于 2025-04-15 12:03:05">2025-04-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-06-14T00:27:14.022Z" title="更新于 2025-06-13 19:27:14">2025-06-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Certification/">Certification</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">16.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>57分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="AWS SAP-C02"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote><p>官网: <a target="_blank" rel="noopener" href="https://aws.amazon.com/certification/certified-solutions-architect-professional/?ch=sec&sec=rmg&d=1">https://aws.amazon.com/certification/certified-solutions-architect-professional/?ch=sec&amp;sec=rmg&amp;d=1</a><br>题库: <a target="_blank" rel="noopener" href="https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-professional-sap-c02/">https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-professional-sap-c02/</a></p></blockquote><hr><h3 id="1-Identity-amp-Federation"><a href="#1-Identity-amp-Federation" class="headerlink" title="1. Identity &amp; Federation"></a>1. Identity &amp; Federation</h3><h4 id="IAM"><a href="#IAM" class="headerlink" title="IAM"></a>IAM</h4><div style="text-align:center;padding:.5rem">🔐 IAM 身份类型一览</div><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>Users</td><td>长期凭证用户（用户名+密码 &#x2F; access key）</td></tr><tr><td>Groups</td><td>用户集合，用于统一授权</td></tr><tr><td>Roles</td><td>使用 STS 签发的临时凭证（跨账户、服务访问、EC2 等）</td></tr><tr><td>EC2 Instance Roles</td><td>通过 Instance Metadata Service 获取临时凭证（每个 EC2 一次只能有一个角色）</td></tr><tr><td>Service Roles</td><td>用于 AWS 服务访问另一个服务，如 API Gateway、CodeDeploy 等</td></tr><tr><td>Cross Account Roles</td><td>跨账户访问权限，使用 AssumeRole 实现</td></tr></tbody></table><div style="text-align:center;padding:.5rem">📝 IAM 策略类型</div><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>AWS Managed Policy</td><td>AWS 预定义的策略，如 <code>AdministratorAccess</code></td></tr><tr><td>Customer Managed</td><td>你创建和维护的可复用策略</td></tr><tr><td>Inline Policy</td><td>直接嵌入到用户 &#x2F; 组 &#x2F; 角色上的策略，作用域限于该实体</td></tr><tr><td>Resource-based Policy</td><td>应用于资源上的策略，如 S3 Bucket、SQS Queue 等</td></tr></tbody></table><div style="text-align:center;padding:.5rem">🔍 IAM 工具与可视化</div><table><thead><tr><th>工具名称</th><th>作用</th></tr></thead><tbody><tr><td>Access Advisor</td><td>查看角色或用户的权限实际使用情况（支持最近访问时间）</td></tr><tr><td>Access Analyzer</td><td>检查资源是否被外部实体共享（例如 S3 Bucket 公开、KMS Key 共享）</td></tr><tr><td>Policy Simulator</td><td>模拟策略效果，验证策略是否按预期生效</td></tr></tbody></table><hr><h4 id="IAM-Policy"><a href="#IAM-Policy" class="headerlink" title="IAM Policy"></a>IAM Policy</h4><ul><li>IAM 策略是一个 JSON 文档，通常包含以下字段</li></ul><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><code>&quot;Effect&quot;</code></td><td>策略效果，可为 <code>&quot;Allow&quot;</code> 或 <code>&quot;Deny&quot;</code></td></tr><tr><td><code>&quot;Action&quot;</code></td><td>允许的操作，例如 <code>&quot;s3:GetObject&quot;</code></td></tr><tr><td><code>&quot;NotAction&quot;</code></td><td>明确排除的操作（通常与 <code>&quot;Effect&quot;: &quot;Allow&quot;</code> 搭配使用）</td></tr><tr><td><code>&quot;Resource&quot;</code></td><td>作用的资源 ARN，例如 <code>&quot;arn:aws:s3:::my-bucket/*&quot;</code></td></tr><tr><td><code>&quot;Condition&quot;</code></td><td>可选字段，用于添加附加限制条件</td></tr></tbody></table><ul><li><strong>显式 <code>Deny</code> 优先于 <code>Allow</code></strong></li><li><strong>最佳实践：始终遵循最小权限原则（Least Privilege）</strong></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img520756.png"></p><hr><h4 id="IAM-Policies-Variables-and-Tags"><a href="#IAM-Policies-Variables-and-Tags" class="headerlink" title="IAM Policies Variables and Tags"></a>IAM Policies Variables and Tags</h4><ul><li><code>$&#123;aws:username&#125;</code>: 代表当前执行请求的 IAM 用户名</li><li><code>AWS Specific</code>: aws:CurrentTime, aws:TokenIssueTime, aws:principaltype…</li><li><code>Service Specific</code>: s3:prefix, s3:max-keys, s3:x-amz-acl…</li><li><code>Tag Based</code>: iam:ResourceTag&#x2F;key-name, aws:PrincipalTag&#x2F;key-name…</li></ul><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;s3:*&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arn:aws:s3:::mybucket/$&#123;aws:username&#125;/*&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>假设 IAM 用户 alice 发起了请求，那么这个 policy 中的变量就会自动替换成</li></ul><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arn:aws:s3:::mybucket/alice/*&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img042721.png"></p><hr><h4 id="IAM-Roles-vs-Resource-Based-Policies"><a href="#IAM-Roles-vs-Resource-Based-Policies" class="headerlink" title="IAM Roles vs Resource Based Policies"></a>IAM Roles vs Resource Based Policies</h4><ul><li>IAM 中的访问控制可以通过两种方式实现<ul><li>使用角色（IAM Role）：通过扮演角色进行访问（代理身份）</li><li>使用资源策略（Resource-based Policy）：直接将权限附加在资源上</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img042719.png"></p><ul><li>IAM Role 示例：A 账户中的 Lambda 要访问 B 账户中的 DynamoDB，A 账户的 Lambda 必须 Assume B 账户中的角色</li><li>Resource-based Policy 示例：B 账户的 S3 Bucket Policy 直接允许 A 账户的某个角色或服务访问该 Bucket</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img421721.png"></p><div style="text-align:center;padding:.5rem">🆚 IAM Role vs Resource-based Policy 对比总结</div><table><thead><tr><th>维度</th><th>IAM Role（角色）</th><th>Resource-based Policy（资源策略）</th></tr></thead><tbody><tr><td>附加位置</td><td>附加在身份（User、Service、Account）上</td><td>附加在资源上（如 S3 Bucket、SQS、KMS 等）</td></tr><tr><td>使用方式</td><td>访问方先 AssumeRole，临时获取权限</td><td>资源接收外部请求时，根据策略判断是否允许访问</td></tr><tr><td>适用场景</td><td>用户 &#x2F; 服务访问其他账户资源</td><td>资源授权给外部账户、服务或匿名用户</td></tr><tr><td>支持跨账户访问</td><td>✅ 是，通过 <code>AssumeRole</code> 实现</td><td>✅ 是，直接在资源上允许其他账户 &#x2F; 服务访问</td></tr><tr><td>例子</td><td>EC2 实例角色、Lambda 执行角色、跨账户访问角色</td><td>S3 Bucket Policy、SQS Queue Policy、KMS Key Policy</td></tr><tr><td>授权主体控制权在哪一方？</td><td>访问者（主动扮演角色）</td><td>资源拥有者（决定谁可访问资源）</td></tr></tbody></table><hr><h4 id="IAM-Permission-Boundaries"><a href="#IAM-Permission-Boundaries" class="headerlink" title="IAM Permission Boundaries"></a>IAM Permission Boundaries</h4><ul><li>Permission Boundary 是一种高级 IAM 控制机制，用于为 User 或 Role 设置权限上限。⚠️ 不支持用于 Group<ul><li>假设用户 A 被授予了 AdministratorAccess（几乎所有权限）</li><li>但他的 Permission Boundary 限定为只允许：s3:<em>, ec2:</em>, cloudwatch:*</li><li>结果, 用户 A 无法执行 iam:CreateUser，即使他的策略中写了也无效</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img421726.png"></p><ul><li>委托权限给非管理员: 比如让开发者自行管理权限（但不能升权）</li><li>允许自助权限管理: 用户可以 attach policy，但受 boundary 限制</li><li>精细限制特定用户或角色: 针对关键岗位做严格边界控制</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img421729.png"></p><hr><h4 id="IAM-Access-Analyzer"><a href="#IAM-Access-Analyzer" class="headerlink" title="IAM Access Analyzer"></a>IAM Access Analyzer</h4><ul><li>Access Analyzer 是 IAM 的可视化工具，用于帮助你识别资源是否被意外共享，并提供策略分析与建议功能。</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img425312.png"></p><ul><li>IAM Access Analyzer Policy Validation<ul><li>Validates your policy against IAM policy grammar and best practices</li><li>自动检查 IAM Policy 是否符合语法 + 安全最佳实践</li></ul></li><li>IAM Access Analyzer Policy Generation<ul><li>Generates IAM policy based on access activity</li><li>根据实际访问行为自动生成最小权限策略（least privilege）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img425314.png"></p><hr><h4 id="STS-Security-Token-Service"><a href="#STS-Security-Token-Service" class="headerlink" title="STS (Security Token Service)"></a>STS (Security Token Service)</h4><ul><li><p>使用 AWS Security Token Service (STS)，你可以让一个用户、服务或应用 临时扮演另一个 IAM Role，获取一组短期凭证</p></li><li><p>定义 IAM Role（本账户或跨账户）</p><ul><li>信任策略（Trust Policy）：定义谁可以 assume 这个角色（哪些 Principal）</li><li>权限策略（Permissions Policy）：定义这个角色 assume 后能做什么操作</li></ul></li><li><p>示例 Trust Policy（允许 IAM 用户 assume 该角色）</p></li></ul><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Principal&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;AWS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arn:aws:iam::123456789012:user/developer&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sts:AssumeRole&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>使用 AWS STS 获取临时凭证：调用 AssumeRole API，获得临时凭证</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">aws sts assume-role \</span><br><span class="line">  --role-arn <span class="string">&quot;arn:aws:iam::123456789012:role/MyRole&quot;</span> \</span><br><span class="line">  --role-session-name <span class="string">&quot;example-session&quot;</span></span><br></pre></td></tr></table></figure><ul><li>临时凭证有效期：可配置范围：15 分钟 ~ 12 小时</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img204619.png"></p><table><thead><tr><th>场景</th><th>描述</th></tr></thead><tbody><tr><td>🔄 跨账户访问</td><td>让账户 A 的用户访问账户 B 的资源（你拥有两个账户）</td></tr><tr><td>🤝 第三方访问授权</td><td>授权第三方（如供应商）账户的 IAM 用户访问你账户中的资源</td></tr><tr><td>☁️ AWS 服务间访问</td><td>EC2、Lambda 等 AWS 服务通过 role 访问其他资源（S3、DynamoDB 等）</td></tr><tr><td>🌐 身份联合（Federation）</td><td>外部身份源（如 AD、Google、SAML）用户通过联合登录后 assume 角色</td></tr><tr><td>⛔ 会话吊销机制</td><td>使用 <code>aws:TokenIssueTime</code> + 条件策略吊销旧会话（<code>AWSRevokeOlderSessions</code>）</td></tr></tbody></table><ul><li>你可以让某个账户中的 IAM 用户切换身份，访问另一个账户（或同账户）中的 IAM Role</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img204957.png"></p><ul><li>如何安全地授权第三方 AWS 账户访问你资源中的 IAM Role<ul><li>Zone of Trust：你自己拥有的账户或 AWS Organization</li><li>Outside Zone of Trust：第三方拥有的 AWS 账户（如供应商、合作伙伴）</li></ul></li><li>访问授权流程（给第三方账户）<ul><li>第三方的 AWS Account ID</li><li>一个 External ID（共享的 secret 字符串，由第三方提供）</li><li>在你账户中创建 IAM Role<ul><li>指定允许 AssumeRole 的 AWS 账户 ID</li><li>添加 Condition 限制 External ID，确保只授权给特定第三方</li></ul></li><li>第三方 assume 该角色<ul><li>在调用 AssumeRole 时必须提供正确的 External ID，否则拒绝访问</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img205645.png"></p><ul><li>External ID 的重要性</li></ul><table><thead><tr><th>功能</th><th>说明</th></tr></thead><tbody><tr><td>🧿 防止“confused deputy” 攻击</td><td>防止别人冒用第三方身份去 assume 你暴露的角色</td></tr><tr><td>🔒 安全通道</td><td>External ID 是你与第三方之间的秘密，AWS 作为验证者</td></tr><tr><td>🤝 明确授权对象</td><td>你可以根据不同第三方使用不同 External ID，实现绑定</td></tr></tbody></table><ul><li>Session Tags in STS<ul><li>当你通过 STS AssumeRole &#x2F; AssumeRoleWithSAML &#x2F; AssumeRoleWithWebIdentity 获取临时凭证时，可以附带自定义 Tag，这些 Tag 会作为“身份元信息”跟随该会话</li></ul></li></ul><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>🏷️ 权限控制</td><td>可用于通过 IAM Policy 中的 <code>aws:PrincipalTag</code> 条件限制资源访问</td></tr><tr><td>🔍 审计追踪</td><td>Session tags 会显示在 CloudTrail 中，便于审计</td></tr><tr><td>🧑‍💼 用户信息传递</td><td>可以传递比如 <code>Department=Finance</code>、<code>Project=Alpha</code> 这样的上下文信息</td></tr><tr><td>🔐 安全增强</td><td>限制只有具有特定 tag 的用户才能传递某些 tag（防止伪造）</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img210325.png"></p><table><thead><tr><th>API 名称</th><th>描述</th></tr></thead><tbody><tr><td><strong>AssumeRole</strong></td><td>获取临时凭证以访问本账户或跨账户的 IAM Role，最常用的 STS 接口。</td></tr><tr><td><strong>AssumeRoleWithSAML</strong></td><td>为通过 SAML 登录的用户返回临时凭证，常用于企业 SSO（如 AD FS）。</td></tr><tr><td><strong>AssumeRoleWithWebIdentity</strong></td><td>为通过 Web Identity Provider（如 Cognito、Facebook、Google、OIDC）登录的用户提供临时凭证。AWS 推荐使用 Cognito。</td></tr><tr><td><strong>GetSessionToken</strong></td><td>获取当前 IAM 用户或 Root 用户的临时凭证，常与 MFA 一起使用。</td></tr><tr><td><strong>GetFederationToken</strong></td><td>为联合用户（不在 IAM 中注册的用户）获取临时凭证，常用于代理程序或内部网络中的应用。</td></tr></tbody></table><hr><h4 id="Identity-Federation-in-AWS"><a href="#Identity-Federation-in-AWS" class="headerlink" title="Identity Federation in AWS"></a>Identity Federation in AWS</h4><ul><li>Give users outside of AWS permissions to access AWS resources in your account</li><li>允许 AWS 账户外部的用户 获取对 AWS 资源的访问权限，无需创建 IAM 用户<ul><li>SAML 2.0, Custom Identity Broker, WebIdentityFederationWith(out)AmazonCognito, IAM Identity Center</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img426112.png"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+----------+     Authenticate    +-----------------+</span><br><span class="line">|   User   | -----------------&gt; | External IdP     |</span><br><span class="line">+----------+                    +-----------------+</span><br><span class="line">                                    |</span><br><span class="line">                                    v</span><br><span class="line">                      [Get Token / Assertion from IdP]</span><br><span class="line">                                    |</span><br><span class="line">                                    v</span><br><span class="line">                     +-----------------------------+</span><br><span class="line">                     | STS (AssumeRoleXxx)         |</span><br><span class="line">                     +-----------------------------+</span><br><span class="line">                                    |</span><br><span class="line">                                    v</span><br><span class="line">                     [Get Temporary Credentials]</span><br><span class="line">                                    |</span><br><span class="line">                                    v</span><br><span class="line">                          Access AWS Resources</span><br></pre></td></tr></table></figure><hr><h4 id="AWS-Directroy-Service-AD"><a href="#AWS-Directroy-Service-AD" class="headerlink" title="AWS Directroy Service (AD)"></a>AWS Directroy Service (AD)</h4><ul><li>Active Directory（AD） 是微软在 Windows Server 中提供的目录服务，用于集中管理网络中的用户、计算机、资源和权限</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img426133.png"></p><table><thead><tr><th>功能</th><th>说明</th></tr></thead><tbody><tr><td>🎯 用户管理</td><td>创建&#x2F;修改用户账号，设置密码策略、登录权限等</td></tr><tr><td>🖥️ 资源管理</td><td>统一管理计算机、打印机、文件共享等资源</td></tr><tr><td>🔐 权限分配</td><td>使用组（Security Groups）来简化访问控制</td></tr><tr><td>🗂️ 集中认证（SSO）</td><td>用户只需登录一次，便可访问多个网络资源（Kerberos 协议）</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Forest</span><br><span class="line">└── Tree (example.com)</span><br><span class="line">    ├── Domain: example.com</span><br><span class="line">    │   ├── OU: HR</span><br><span class="line">    │   │   └── User: Alice</span><br><span class="line">    │   ├── OU: IT</span><br><span class="line">    │   │   └── Computer: IT-PC-01</span><br><span class="line">    └── Domain: sub.example.com</span><br></pre></td></tr></table></figure><ul><li>AWS Directory Services</li></ul><table><thead><tr><th>服务名称</th><th>描述</th><th>是否与本地 AD 集成</th><th>支持 MFA</th><th>用户存储位置</th></tr></thead><tbody><tr><td>AWS Managed Microsoft AD</td><td>AWS 托管的 Microsoft AD，完全兼容，支持 AD 信任关系</td><td>✅（支持信任）</td><td>✅</td><td>存在 AWS 托管 AD 中</td></tr><tr><td>AD Connector</td><td>目录代理，充当 AWS 和本地 AD 的桥梁（不存储用户数据）</td><td>✅（直连）</td><td>✅</td><td>用户存储在本地 AD</td></tr><tr><td>Simple AD</td><td>AWS 提供的简化版、兼容 AD 协议的托管目录，适合轻量应用</td><td>❌（无法信任）</td><td>❌</td><td>存储在 AWS Simple AD</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261136.png"></p><ul><li><code>AWS Managed Microsoft AD</code>（托管 Microsoft AD）<ul><li>完全托管的 Active Directory，运行在你的 AWS VPC 内，适合需要微软 AD 功能的企业工作负载</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+----------------------+        +----------------------+</span><br><span class="line">|   Availability Zone 1|        |   Availability Zone 2|</span><br><span class="line">|                      |        |                      |</span><br><span class="line">|  +----------------+  |        |  +----------------+  |</span><br><span class="line">|  |   AD DC        |  |        |  |   AD DC        |  |</span><br><span class="line">|  +----------------+  |        |  +----------------+  |</span><br><span class="line">|        ^   ^         |        |        ^   ^         |</span><br><span class="line">|       /     \        |        |       /     \        |</span><br><span class="line">|   EC2 / Apps  \      |        |   EC2 / Apps  \      |</span><br><span class="line">+----------------------+        +----------------------+</span><br><span class="line"></span><br><span class="line">            ↕  Auto replication</span><br><span class="line">      ↔ Cross-VPC / Multi-Account Join</span><br></pre></td></tr></table></figure><ul><li>Connect to on-premises AD<ul><li>在 AWS 中部署 AWS Managed Microsoft AD 后，可以通过 VPN 或 Direct Connect 与你现有的 本地 AD（on-premises AD） 建立 信任关系（Trust）</li></ul></li></ul><p>连接方式</p><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>🛰️ VPN</td><td>使用 AWS Site-to-Site VPN 建立加密连接</td></tr><tr><td>⚡ Direct Connect</td><td>使用 AWS DX 提供更稳定的私网连接</td></tr></tbody></table><p>支持的信任类型（Forest Trust）</p><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>🔁 双向信任 (Two-way)</td><td>AWS 和本地 AD 相互信任，可双向身份验证</td></tr><tr><td>👉 单向信任：AWS ➝ 本地 AD</td><td>AWS 用户可以访问本地资源</td></tr><tr><td>👉 单向信任：本地 ➝ AWS</td><td>本地用户可以访问 AWS 中的资源</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img426123.png"></p><ul><li>Solution Architecture: Active Directory Replication<ul><li>为了降低延迟并提高可用性，可在 AWS 中部署本地 AD 的副本，以便在 VPN 或 Direct Connect 连接中断时仍可正常认证和访问资源</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261229.png"></p><ul><li><code>AWS Directory Services AD Connector</code><ul><li>AD Connector 是一种目录网关（Directory Gateway），用于将 AWS 内的身份验证请求转发至你的 本地 Microsoft Active Directory</li><li>适合纯身份验证代理，不支持 SQL Server</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261231.png"></p><ul><li><code>AWS Directory Services Simple AD</code><ul><li>Simple AD 是一种低成本、轻量级的目录服务，兼容 Microsoft Active Directory，适用于小规模身份认证需求</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img42561234.png"></p><table><thead><tr><th>目录服务类型</th><th>是否支持 Trust</th><th>支持 SSO</th><th>支持 MFA</th><th>用户管理位置</th><th>最大用户数</th></tr></thead><tbody><tr><td>Simple AD</td><td>❌ 不支持</td><td>❌ 不支持</td><td>❌ 不支持</td><td>托管在 AWS</td><td>500 &#x2F; 5000</td></tr><tr><td>AD Connector</td><td>❌ 不支持</td><td>✅ 支持</td><td>✅ 支持</td><td>本地 AD</td><td>取决于本地 AD</td></tr><tr><td>Managed Microsoft AD</td><td>✅ 支持</td><td>✅ 支持</td><td>✅ 支持</td><td>托管在 AWS</td><td>可扩展</td></tr></tbody></table><hr><h4 id="AWS-Organizations"><a href="#AWS-Organizations" class="headerlink" title="AWS Organizations"></a>AWS Organizations</h4><ul><li>AWS Organizations 允许你在一个统一的管理框架下，集中管理多个 AWS 账户。可通过组织单元（Organizational Units，OUs）分组，并应用策略统一控制<ul><li><code>Root</code>: 整个组织的顶层节点，包含所有 OUs 和账号</li><li><code>Management Account</code>: 用于创建组织、邀请账号、应用 SCP 策略</li><li><code>Organizational Unit (OU)</code>: 类似目录结构中的文件夹，用于逻辑分组账户（如 Dev、Prod、HR）</li><li><code>Member Accounts</code>: 加入组织的子账户，可继承 OU 的策略限制，但不具备组织控制权</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261238.png"></p><ul><li>AWS Organizations - <code>OrganizationAccountAccessRole</code><ul><li>这是一个 IAM 角色，用于允许 管理账户（Management Account） 对 成员账户（Member Accounts） 执行管理员操作</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261240.png"></p><ul><li>AWS Multi-Account Strategies<ul><li>在企业级架构中，采用多个 AWS 账户（Multi-Account）可以带来更高的安全性、资源隔离性和可扩展性</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261242.png"></p><ul><li>AWS Organizations – Feature Modes<ul><li>AWS Organizations 提供两种功能模式（Feature Sets），控制组织可用的功能范</li></ul></li></ul><p><code>Consolidated Billing Features</code>（账单整合模式）</p><table><thead><tr><th>特性</th><th>说明</th></tr></thead><tbody><tr><td>💳 统一账单管理</td><td>所有成员账户共享一个支付方式，由管理账户付款</td></tr><tr><td>💰 使用量聚合优惠</td><td>像 EC2、S3 这类资源使用量可跨账户聚合，享受更高折扣</td></tr><tr><td>🚫 无 SCP（Service Control Policies）支持</td><td>无法进行权限统一限制管理</td></tr></tbody></table><p><code>All Features</code>（全功能模式）✅ 默认选项</p><table><thead><tr><th>特性</th><th>说明</th></tr></thead><tbody><tr><td>✅ 包含 Consolidated Billing 所有功能</td><td>继承账单整合模式的所有优点</td></tr><tr><td>✅ 启用 Service Control Policies（SCP） 管理成员账户权限</td><td>可统一管理成员账户的服务访问权限</td></tr><tr><td>✅ 可将账户从组织中“锁定”</td><td>通过 SCP 防止成员账户擅自离开组织</td></tr><tr><td>🔐 更细粒度控制</td><td>适用于多账户安全与合规性架构</td></tr><tr><td>⚠️ 一旦启用，无法回退 到仅账单模式</td><td>启用后无法降级回 Consolidated Billing 模式</td></tr></tbody></table><ul><li>AWS Organizations – Moving Accounts（迁移账户）<ul><li>从原 Organization 中移除成员账户</li><li>从目标 Organization 发送邀请</li><li>成员账户接受邀请</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4261248.png"></p><hr><h4 id="Service-Control-Policies-SCP"><a href="#Service-Control-Policies-SCP" class="headerlink" title="Service Control Policies (SCP)"></a>Service Control Policies (SCP)</h4><ul><li>SCP 是 AWS Organizations 的一种权限控制机制，用于对组织中的账户进行统一的服务访问控制</li><li>作用范围为 OU 或账户层级, 不作用于管理账户（Management Account）</li><li>作用于账号中的所有用户和角色, 包括 Root User，但不包括 Service-linked Roles</li><li>策略继承机制: SCP 的生效路径必须从 Root OU 到目标账号 每一层都有 Allow，默认不允许任何操作</li></ul><table><thead><tr><th>对象</th><th>作用域</th><th>控制行为</th></tr></thead><tbody><tr><td>IAM Policy</td><td>用户 &#x2F; 角色</td><td>定义用户可做什么</td></tr><tr><td>SCP</td><td>账号 &#x2F; OU</td><td>定义账号最多能做什么（权限上限）</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427514.png"></p><table><thead><tr><th>用例场景</th><th>示例</th></tr></thead><tbody><tr><td>🚫 禁止使用某些服务</td><td>禁止某个 OU 下使用 EMR、CloudShell 等高风险服务</td></tr><tr><td>✅ 限制资源创建区域</td><td>限制只能在 us-east-1 区域中使用服务</td></tr><tr><td>📋 强制合规策略</td><td>确保某些服务（如 RDS）开启加密，或关闭不合规服务以满足 PCI、HIPAA 要求</td></tr><tr><td>🔐 限制 root 权限</td><td>虽然 root 无法被删除，但可通过 SCP 禁止其访问敏感服务</td></tr></tbody></table><ul><li>Service Control Policies (SCP) 会沿着 Organizational Unit (OU) 层级向下继承，形成最终每个账户的权限上限</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Root OU (applies: FullAWSAccess)</span><br><span class="line">│</span><br><span class="line">├── Management Account → ✅ 不受 SCP 限制（Can do anything）</span><br><span class="line">│</span><br><span class="line">├── OU: Workloads (applies: FullAWSAccess)</span><br><span class="line">│   ├── OU: Test (applies: Deny EC2)</span><br><span class="line">│   │   └── Account D → ❌ EC2 被禁止，其余允许</span><br><span class="line">│   │</span><br><span class="line">│   └── OU: Prod (applies: FullAWSAccess)</span><br><span class="line">│       ├── Account E → ✅ 全部允许</span><br><span class="line">│       └── Account F → ✅ 全部允许</span><br><span class="line">│</span><br><span class="line">└── OU: Sandbox (applies: Deny S3)</span><br><span class="line">    ├── Account A → ❌ S3 被禁止（来自 Sandbox OU）  </span><br><span class="line">    ├── Account B → ❌ S3 被禁止（Sandbox）  </span><br><span class="line">    └── Account C → ❌ S3 被禁止（Sandbox）  </span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427517.png"></p><ul><li>左边: 除了 DynamoDB 被禁用，其他服务（S3、EC2、Lambda 等）都可以用</li><li>右边: 除了 ec2:* 和 cloudwatch:* 以外的服务（如 S3、RDS、IAM）全部不允许访问</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img4275518.png"></p><ul><li>IAM Policy Evaluation Logic（权限评估逻辑）<ul><li><ol><li><code>Deny Evaluation</code>（最先评估）: 是否有明确 Deny? 如果存在显式 Deny（例如 IAM Policy、SCP、Resource Policy 中），立即终止评估，决策为 Deny（优先级最高）</li></ol></li><li><ol start="2"><li><code>Organizations SCPs</code>（组织级服务控制策略）: 如果账户有 SCP，则必须在 SCP 中允许相应操作</li></ol></li><li><ol start="3"><li><code>Resource-based Policies</code>（资源级策略）: 比如 S3 Bucket Policy、Lambda Resource Policy、KMS Key Policy 等, 若不允许，继续下一个阶段</li></ol></li><li><ol start="4"><li><code>Identity-based Policies</code>（身份策略）: 评估 IAM User&#x2F;Role&#x2F;Group 的策略是否存在有效的 Allow? 若无，则隐式拒绝（Implicit Deny）</li></ol></li><li><ol start="5"><li><code>IAM Permissions Boundaries</code>（权限边界）: 权限边界也会限制一个用户&#x2F;角色的最大权限范围, 必须同时满足 Identity Policy 和 Boundary 才能通过</li></ol></li><li><ol start="6"><li><code>Session Policies</code>（会话策略）: 如果是通过临时凭证（例如 AssumeRole）访问，会话中可能附带 policy</li></ol></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427519.png"></p><hr><h4 id="IAM-Identity-Center"><a href="#IAM-Identity-Center" class="headerlink" title="IAM Identity Center"></a>IAM Identity Center</h4><ul><li>Formerly known as AWS Single Sign-On (SSO)</li></ul><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>🔐 统一登录（Single Sign-On）</td><td>实现一次登录，访问多个 AWS 账户及业务应用</td></tr><tr><td>🔄 集中式身份访问管理</td><td>统一管理用户权限，跨账户&#x2F;跨区域生效</td></tr><tr><td>🧑‍💼 支持多种身份源</td><td>内置用户目录 + 第三方 IdP（如 AD、Okta）</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427534.png"></p><ul><li>AWS IAM Identity Center（前 AWS SSO） 的架构整合与工作流程</li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. 用户通过浏览器登录 Identity Center</span><br><span class="line">2. 后端通过内置目录或 AD 确认身份</span><br><span class="line">3. 根据用户绑定的 Permission Set 分配访问权限</span><br><span class="line">4. 自动 SSO 到：</span><br><span class="line">   - AWS 控制台（多个账户）</span><br><span class="line">   - SaaS 应用</span><br><span class="line">   - 支持 SAML2.0 的自定义系统</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427536.png"></p><ul><li>IAM Identity Center 与 AWS Organizations 的集成结构<ul><li>如何通过权限集（Permission Set）为用户跨账户赋权</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Bob 和 Alice 属于 Developers 组 →</span><br><span class="line">Developers 组被赋予：</span><br><span class="line">  - ReadOnlyAccess → Dev Account A</span><br><span class="line">  - FullAccess → Prod Account A</span><br><span class="line"></span><br><span class="line">➡️ 用户登录后会看到对应 AWS 账户及其可选的 Role</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img427538.png"></p><ul><li>AWS IAM Identity Center – Fine-grained Permissions and Assignments（细粒度权限与授权）</li></ul><p>Multi-Account Permissions（跨账户权限）</p><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>✅ 跨账户权限管理</td><td>管理整个 AWS Organization 中多个账户的访问权限</td></tr><tr><td>📦 Permission Set</td><td>一组 IAM Policy 的集合，用于赋予用户&#x2F;组 AWS 账户访问权限</td></tr><tr><td>➕ 权限赋予机制</td><td>将 Permission Set 分配给用户&#x2F;组 + 指定账户，即可跨账户访问</td></tr></tbody></table><p>Application Assignments（SAML 应用授权）</p><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>✅ SSO 访问企业 SaaS 应用</td><td>支持 Salesforce、Box、Microsoft 365 等 SAML 2.0 应用</td></tr><tr><td>🔐 提供所需的连接信息</td><td>包括 SAML URL、证书、Metadata 供应用配置使用</td></tr></tbody></table><p>Attribute-Based Access Control (ABAC)</p><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>🏷️ 基于用户属性的权限控制</td><td>可根据用户属性自动应用权限，降低手动维护成本</td></tr><tr><td>示例属性</td><td><code>costcenter</code>, <code>title</code>, <code>locale</code> 等</td></tr><tr><td>用例</td><td>定义一次权限，后续通过修改属性控制访问范围，无需修改策略</td></tr></tbody></table><hr><h4 id="AWS-Control-Tower"><a href="#AWS-Control-Tower" class="headerlink" title="AWS Control Tower"></a>AWS Control Tower</h4><ul><li>AWS Control Tower 是一种自动化搭建、管理安全合规多账户环境的服务，基于 AWS 最佳实践</li><li>Control Tower 依赖 AWS Organizations 管理多账户结构</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img428831.png"></p><ul><li>AWS Control Tower – Account Factory<ul><li>Account Factory 是 AWS Control Tower 提供的一个自动化工具，用来标准化和批量创建新的 AWS 账户</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img428832.png"></p><ul><li>AWS Control Tower – Detect and Remediate Policy Violations<ul><li>Control Tower 通过 Guardrails（护栏规则） 来持续监控和管理账户环境中的合规性</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img428834.png"></p><ul><li>AWS Control Tower – Guardrails Levels<ul><li>Guardrails（护栏规则）按重要性和强制性被分为三种不同级别</li></ul></li></ul><table><thead><tr><th>等级</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>🛡️ Mandatory （强制）</td><td>自动启用，AWS Control Tower 必须强制执行</td><td>禁止 Log Archive 账户对外公开读权限</td></tr><tr><td>💬 Strongly Recommended （强烈推荐）</td><td>根据 AWS 最佳实践推荐，启用可提升安全性，但可选</td><td>建议为 EC2 挂载的 EBS 卷启用加密</td></tr><tr><td>📝 Elective （自选）</td><td>企业常用的附加控制措施，可根据需要选择性启用</td><td>禁止无 MFA 的 S3 删除操作</td></tr></tbody></table><hr><h4 id="AWS-Resource-Access-Manager-RAM"><a href="#AWS-Resource-Access-Manager-RAM" class="headerlink" title="AWS Resource Access Manager (RAM)"></a>AWS Resource Access Manager (RAM)</h4><ul><li>AWS RAM 允许你将 AWS 资源跨账户共享，避免资源重复创建，提高资源利用率和成本效益</li><li>利用 RAM 共享 VPC 子网，多个账户的资源可以部署在同一个 VPC 中，同时保持账户级资源隔离</li><li></li></ul><p>支持共享的资源示例</p><table><thead><tr><th>资源类型</th><th>说明</th></tr></thead><tbody><tr><td>🌐 VPC 子网（Subnets）</td><td>允许多个账户的资源部署到同一个子网内（但必须同属一个 AWS Organization）</td></tr><tr><td>🚫 限制</td><td>不支持共享 Security Groups 和 Default VPC</td></tr><tr><td>🚍 Transit Gateway</td><td>多账户共用同一个 Transit Gateway 实现网络互通</td></tr><tr><td>🌎 Route 53</td><td>可以共享 Resolver 规则、DNS Firewall 规则组等</td></tr><tr><td>🛡️ License Manager 配置</td><td>跨账户统一管理许可证分配</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img428837.png"></p><hr><h3 id="2-Security"><a href="#2-Security" class="headerlink" title="2. Security"></a>2. Security</h3><h4 id="CloudTrail"><a href="#CloudTrail" class="headerlink" title="CloudTrail"></a>CloudTrail</h4><ul><li>CloudTrail 是 AWS 的日志审计服务，用于记录账号中的所有 API 调用历史，便于审计、合规与安全调查（资源删除了？先查 CloudTrail！）</li><li><code>默认启用</code>: 每个 AWS 账户自动启用基本事件记录（90 天内）</li><li><code>记录所有 API 调用</code>: 包括通过控制台、SDK、CLI、AWS 服务内部调用等</li><li><code>跨区域支持</code>: 可选择记录单个 Region，或跨 Region（默认 All Regions）</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img220750.png"></p><p>CloudTrail 事件类型对比</p><table><thead><tr><th>事件类型</th><th>默认启用</th><th>是否高频</th><th>是否区分读写</th><th>示例</th></tr></thead><tbody><tr><td>Management Events</td><td>✅ 是</td><td>中频</td><td>✅ 可区分</td><td>IAM, EC2, CloudTrail</td></tr><tr><td>Data Events</td><td>❌ 否</td><td>高频</td><td>✅ 可区分</td><td>S3 对象, Lambda 调用</td></tr><tr><td>CloudTrail Insights</td><td>❌ 否</td><td>智能检测</td><td>无需区分</td><td>检测突增&#x2F;异常行为</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img221339.png"></p><ul><li>CloudTrail Events Retention<ul><li>默认保留期限: 90 天（CloudTrail 控制台中默认可查询的事件时间范围）</li><li>长期保存: 若需保存超过 90 天，需将日志写入 S3 存储桶</li><li>查询分析: 可配合 Amazon Athena 查询存储在 S3 中的历史日志，实现结构化分析</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img221603.png"></p><ul><li>EventBridge + CloudTrail<ul><li>通过 Amazon EventBridge + CloudTrail 拦截 AWS API 调用，用于实时安全响应与告警</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">用户发起 DeleteTable API 操作 ➝ 被 CloudTrail 记录 ➝ 事件被 EventBridge 捕捉 ➝ 发出 SNS 告警</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img221813.png"></p><hr><h4 id="KMS-Key-Management-Service"><a href="#KMS-Key-Management-Service" class="headerlink" title="KMS (Key Management Service)"></a>KMS (Key Management Service)</h4><ul><li>KMS 是 AWS 提供的托管密钥服务，用于管理加密、解密和密钥授权，几乎涉及所有数据加密的场景</li><li><code>数据加密引擎</code>: AWS 中所有“加密”相关功能几乎都依赖 KMS</li><li><code>密钥托管与控制</code>: AWS 管理密钥的生命周期（创建、轮换、禁用等）</li><li><code>与 IAM 集成授权</code>: 使用 IAM 权限控制谁能访问或使用密钥</li><li>KMS 支持两种类型的密钥：对称密钥（Symmetric） 和 非对称密钥（Asymmetric）</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img224545.png"></p><p>KMS 密钥类型对比</p><table><thead><tr><th>特性</th><th>Customer Managed Key</th><th>AWS Managed Key</th><th>AWS Owned Key</th></tr></thead><tbody><tr><td>用户控制</td><td>✅ 完全控制</td><td>❌ 受限</td><td>❌ 无法控制</td></tr><tr><td>自动轮换</td><td>✅ 可启用</td><td>✅ 自动启用</td><td>✅ AWS 自管</td></tr><tr><td>支持 CloudTrail 审计</td><td>✅ 支持</td><td>✅ 支持</td><td>❌ 不支持</td></tr><tr><td>可用作 Envelope 加密</td><td>✅ 是</td><td>✅ 是</td><td>❌ 否</td></tr><tr><td>常见使用场景</td><td>高敏感数据</td><td>服务默认加密</td><td>AWS 内部使用</td></tr></tbody></table><ul><li>KMS Key Material Origin（密钥材料来源）<ul><li><code>AWS_KMS</code>: 由 AWS 自动生成, KMS 在其受控的密钥存储中创建并管理密钥材料</li><li><code>EXTERNAL</code>: 用户自行导入密钥材料, 使用 ImportKeyMaterial API 将密钥注入到 KMS 中</li><li><code>AWS_CLOUDHSM</code>: 使用 AWS CloudHSM 创建密钥材料, CloudHSM 是基于硬件的密钥模块（HSM）服务</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img502823.png"></p><ul><li>KMS Key Source – Custom Key Store (CloudHSM)<ul><li>将 KMS 与 CloudHSM 集群集成，使 KMS 密钥材料托管在你自有的 HSM 中，进一步增强安全边界与合规能力</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img105554.png"></p><ul><li>KMS Key Source – External（Bring Your Own Key, BYOK）<ul><li>将你自己的密钥材料（Key Material）导入到 AWS KMS 中，使你能在 AWS 内部使用外部生成的密钥来进行加密操作</li><li>AWS 提供使用接口，但不再负责密钥生命周期的管理与安全</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img105739.png"></p><ul><li>AWS KMS Multi-Region Keys<ul><li>在多个 Region 中创建一组 功能上等效的 KMS 密钥，支持跨区域加密&#x2F;解密，无需重新加密或跨区域 API 调用</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img110341.png"></p><hr><h4 id="SSM-Parameter-Store"><a href="#SSM-Parameter-Store" class="headerlink" title="SSM Parameter Store"></a>SSM Parameter Store</h4><ul><li>Parameter Store 是 AWS 提供的 配置与密钥值存储服务，适用于环境变量、凭证、密钥等的安全管理</li></ul><p>SSM Parameter Store – 常见用途</p><table><thead><tr><th>用途</th><th>示例</th></tr></thead><tbody><tr><td>🧪 环境配置注入</td><td>Dev &#x2F; Staging &#x2F; Prod 使用不同参数</td></tr><tr><td>🔐 密钥存储</td><td>存储数据库密码、API 密钥、令牌等</td></tr><tr><td>🔁 CI&#x2F;CD 集成</td><td>Pipeline 中动态读取版本化配置</td></tr><tr><td>🧩 服务间解耦配置</td><td>多个 Lambda &#x2F; ECS 服务共享相同配置但不硬编码</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img110601.png"></p><ul><li>SSM Parameter Store – 分层结构（Hierarchy）<ul><li>Parameter Store 支持以“路径”方式组织参数，非常适合大型项目的多环境配置管理</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/my-department/</span><br><span class="line">├── my-app/</span><br><span class="line">│   ├── dev/</span><br><span class="line">│   │   ├── db-url</span><br><span class="line">│   │   └── db-password</span><br><span class="line">│   └── prod/</span><br><span class="line">│       ├── db-url</span><br><span class="line">│       └── db-password</span><br><span class="line">├── other-app/</span><br><span class="line">/other-department/</span><br></pre></td></tr></table></figure><ul><li>SSM Parameter Store – Standard 与 Advanced 参数层级对比</li></ul><table><thead><tr><th>特性</th><th>Standard</th><th>Advanced</th></tr></thead><tbody><tr><td>参数总数量上限（每账户每区域）</td><td>10,000</td><td>100,000</td></tr><tr><td>单个参数最大值大小</td><td>4 KB</td><td>8 KB</td></tr><tr><td>是否支持参数策略（过期等）</td><td>❌ 不支持</td><td>✅ 支持</td></tr><tr><td>成本</td><td>✅ 免费</td><td>💲 每个参数 $0.05&#x2F;月</td></tr><tr><td>典型用途</td><td>一般配置、小规模系统</td><td>大型企业系统、合规要求、多版本配置等</td></tr></tbody></table><ul><li>SSM Parameter Store – Parameter Policies（参数策略，仅限 Advanced 参数）<ul><li>Parameter Policies 是为高级参数（Advanced Tier）提供的附加功能，用于控制参数的生命周期、安全性与合规性</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img110924.png"></p><hr><h4 id="AWS-Secrets-Manager"><a href="#AWS-Secrets-Manager" class="headerlink" title="AWS Secrets Manager"></a>AWS Secrets Manager</h4><ul><li>Secrets Manager 是 AWS 专门用于存储和自动轮换敏感凭证（如密码、API 密钥等）的服务，比 Parameter Store 更安全、更自动化</li></ul><p>Secrets Manager vs SSM Parameter Store 对比简表</p><table><thead><tr><th>项目</th><th>Secrets Manager</th><th>SSM Parameter Store (SecureString)</th></tr></thead><tbody><tr><td>自动轮换</td><td>✅ 支持</td><td>❌ 不支持（需手动）</td></tr><tr><td>成本</td><td>💲 $0.40 每密钥 &#x2F; 月</td><td>标准免费，高级 $0.05 &#x2F; 月</td></tr><tr><td>支持 Lambda 集成</td><td>✅ 原生支持</td><td>❌ 无</td></tr><tr><td>原生服务集成</td><td>✅ 强（RDS、Redshift）</td><td>✅ 一般</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img506823.png"></p><ul><li>AWS Secrets Manager – 跨账户共享（Sharing Across Accounts）<ul><li>要让其他 AWS 账户访问某个 Secrets Manager 中的密钥，需 同时配置 KMS 策略与 Resource-based Policy</li></ul></li></ul><p>SSM Parameter Store vs. Secrets Manager – Rotation</p><table><thead><tr><th>特性</th><th>Secrets Manager</th><th>SSM Parameter Store</th></tr></thead><tbody><tr><td>轮换方式</td><td>✅ 内建自动轮换</td><td>❌ 需自建 EventBridge + Lambda</td></tr><tr><td>RDS 支持</td><td>✅ 原生集成</td><td>✅ 需自行实现连接与更新逻辑</td></tr><tr><td>Lambda 模板支持</td><td>✅ AWS 提供模板</td><td>❌ 无模板</td></tr><tr><td>成本</td><td>💲 $0.40 &#x2F; 月 &#x2F; 密钥</td><td>💲 免费（标准）或 $0.05 &#x2F; 月（高级）</td></tr><tr><td>使用建议</td><td>高敏感数据，数据库密码管理</td><td>简单配置轮换或成本敏感场景</td></tr></tbody></table><hr><h4 id="SSL-x2F-TLS-Basics"><a href="#SSL-x2F-TLS-Basics" class="headerlink" title="SSL&#x2F;TLS - Basics"></a>SSL&#x2F;TLS - Basics</h4><ul><li>SSL&#x2F;TLS 是用于网络连接加密的协议，常用于保护浏览器与服务器之间的数据传输安全</li></ul><table><thead><tr><th>项目</th><th>描述</th></tr></thead><tbody><tr><td>🔐 SSL（Secure Sockets Layer）</td><td>最初用于实现安全通信的协议，现已被淘汰</td></tr><tr><td>🔐 TLS（Transport Layer Security）</td><td>SSL 的升级版，当前主流安全传输协议（如 TLS 1.2, TLS 1.3）</td></tr><tr><td>🗣️ 通俗叫法</td><td>尽管使用的是 TLS，大家仍习惯说 “SSL 证书”</td></tr></tbody></table><ul><li>SSL – Man-in-the-Middle (MITM) Attack<ul><li>MITM（中间人攻击）是指攻击者在用户与服务器之间悄悄插入，拦截、读取甚至篡改传输的数据，常见于公共 Wi-Fi 或 DNS 欺骗场景</li></ul></li></ul><p>MITM 攻击防护措施分类</p><table><thead><tr><th>等级</th><th>描述</th><th>示例或建议</th></tr></thead><tbody><tr><td>🛡️ Mandatory （强制）</td><td>基本防护措施，必须启用</td><td>所有公网流量使用 HTTPS，部署有效 SSL&#x2F;TLS 证书</td></tr><tr><td>💬 Strongly Recommended （强烈推荐）</td><td>AWS 推荐的增强防护手段，可显著提升安全性</td><td>启用 DNSSEC 来防止 DNS 被劫持</td></tr><tr><td>📝 Elective （自选）</td><td>企业常用的附加手段，可视情况启用</td><td>使用自定义 DNS 服务器提升控制力（如 Bind、dnsmasq）</td></tr></tbody></table><hr><h4 id="AWS-Certificate-Manager-ACM"><a href="#AWS-Certificate-Manager-ACM" class="headerlink" title="AWS Certificate Manager (ACM)"></a>AWS Certificate Manager (ACM)</h4><ul><li>ACM（AWS Certificate Manager）是 AWS 提供的 SSL&#x2F;TLS 证书管理服务，支持申请、托管、分发、续期等功能，极大简化了证书在云中的部署流程</li></ul><p>ACM 支持集成的服务</p><table><thead><tr><th>集成服务</th><th>描述</th></tr></thead><tbody><tr><td>⚖️ Load Balancer</td><td>支持 ALB &#x2F; NLB，包括由 Elastic Beanstalk 创建的负载均衡器</td></tr><tr><td>🌎 CloudFront</td><td>可为分发的内容启用 HTTPS 支持</td></tr><tr><td>📡 API Gateway</td><td>为 API 网关的自定义域名配置 SSL 证书</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img509401.png"></p><p>建议使用场景总结</p><table><thead><tr><th>场景</th><th>建议</th></tr></thead><tbody><tr><td>✅ 外部网站或 API</td><td>使用 ACM 公有证书（自动续期 + 免费）</td></tr><tr><td>🔐 内部微服务通信（非公网）</td><td>创建 Private CA + 私有证书，并配置系统信任链</td></tr><tr><td>🌍 多区域应用部署</td><td>在每个 AWS Region 内单独签发证书，<strong>不支持跨区域复制或复用</strong></td></tr></tbody></table><hr><h4 id="CloudHSM"><a href="#CloudHSM" class="headerlink" title="CloudHSM"></a>CloudHSM</h4><ul><li><p>CloudHSM 是 AWS 提供的 专属硬件加密模块服务（HSM &#x3D; Hardware Security Module），适用于对密钥有高度控制要求的场景</p></li><li><p>CloudHSM 特性概览</p><ul><li>💡 专属硬件实例（HSM）：每个用户拥有独立的物理设备</li><li>🔑 密钥全权管理：只有你拥有密钥控制权，AWS 无法访问</li><li>📜 合规优势：通过 FIPS 140-2 Level 3 安全认证</li><li>🔁 支持加解密算法：对称（AES）、非对称（RSA、ECC）、TLS 证书管理等</li><li>🧩 集成支持：如 Redshift 可使用 CloudHSM 进行数据库加密和密钥管理（SSE-C 场景推荐）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img509405.png"></p><p>KMS vs. CloudHSM 选择建议</p><table><thead><tr><th>场景</th><th>建议选择</th></tr></thead><tbody><tr><td>✅ 一般加密需求，使用 AWS 服务集成</td><td>AWS KMS（托管式 + 易用）</td></tr><tr><td>🔐 高合规场景（如政府、金融、医疗）</td><td>AWS CloudHSM（专属硬件 + 用户控密钥）</td></tr></tbody></table><hr><h4 id="S3-Security"><a href="#S3-Security" class="headerlink" title="S3 Security"></a>S3 Security</h4><ul><li>S3 提供多种对象加密方式，确保数据静态加密（encryption at rest），适用于不同的密钥管理需求</li><li>S3 提供 HTTP 与 HTTPS 两种访问方式，建议始终使用 加密传输（HTTPS） 来保护数据在网络传输过程中的安全</li></ul><table><thead><tr><th>加密方式</th><th>描述</th></tr></thead><tbody><tr><td>🟣 SSE-S3</td><td>- 使用 AWS 自主管理的密钥（AES-256）<br>- 完全托管、零配置</td></tr><tr><td>🟡 SSE-KMS</td><td>- 使用 AWS KMS 管理密钥<br>- 支持访问控制与 CloudTrail 审计日志</td></tr><tr><td>🔒 SSE-C</td><td>- 自定义客户提供密钥（Client-Provided Keys）<br>- S3 不保存密钥，仅临时使用</td></tr><tr><td>💻 Client-Side</td><td>- 加密在客户端完成后再上传到 S3<br>- 客户端负责密钥生成、加密与解密逻辑</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img509432.png"></p><ul><li>Events in S3 Buckets<ul><li>S3 支持多种事件与日志机制，用于追踪对象访问、变更与安全状态</li></ul></li></ul><table><thead><tr><th>目的</th><th>建议使用机制</th></tr></thead><tbody><tr><td>获取完整访问日志</td><td>S3 Access Logs</td></tr><tr><td>实时触发函数&#x2F;消息</td><td>S3 Event Notifications</td></tr><tr><td>对接跨服务事件处理</td><td>CloudTrail + EventBridge</td></tr><tr><td>检查桶权限是否合规</td><td>Trusted Advisor</td></tr></tbody></table><ul><li>S3 Security 安全控制方式<ul><li>S3 提供两种主要的访问控制机制：基于用户 与 基于资源，可灵活搭配使用以实现精细权限控制</li></ul></li></ul><p>👤 User-based（基于用户）</p><table><thead><tr><th>控制方式</th><th>描述</th></tr></thead><tbody><tr><td>🔐 IAM Policy</td><td>在 IAM 控制台中配置，定义特定用户可执行哪些 S3 API 操作（如 GetObject、PutObject）</td></tr></tbody></table><p>📦 Resource-based（基于资源）</p><table><thead><tr><th>控制方式</th><th>描述</th></tr></thead><tbody><tr><td>📜 Bucket Policy</td><td>在 S3 控制台中为 Bucket 设置的策略，支持跨账户访问控制</td></tr><tr><td>🧾 Object ACL</td><td>物件级权限控制，粒度更细（可控制单个对象的读&#x2F;写权限）</td></tr><tr><td>📦 Bucket ACL</td><td>针对整个桶的访问控制，不常用，功能已被 Bucket Policy 替代为主</td></tr></tbody></table><ul><li>S3 Bucket Policies<ul><li>S3 Bucket Policy 是一种 资源级别的访问控制机制，用于集中定义整桶对象的权限策略</li><li>授予公共访问权限（用于静态网站托管或公开资源）</li><li>强制上传对象时加密（通过条件限制加密方式）</li><li>跨账户授权访问（授予其他 AWS 账户访问权限）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img222722.png"></p><ul><li>S3 Pre-signed URLs<ul><li>预签名 URL 允许临时授权用户访问 S3 中的对象，常用于 临时下载 或 受控上传 场景</li></ul></li></ul><p>使用场景示例</p><table><thead><tr><th>场景描述</th><th>示例效果</th></tr></thead><tbody><tr><td>🎬 仅登录用户可下载付费视频</td><td>生成 GET 类型的预签名 URL，供登录用户使用</td></tr><tr><td>📥 动态授权用户下载文件</td><td>根据用户身份动态生成 GET URL，实现灵活文件访问控制</td></tr><tr><td>📤 临时上传文件至指定位置（如头像、PDF）</td><td>为某路径生成 PUT 类型的预签名 URL，仅临时开放上传权限</td></tr></tbody></table><ul><li>S3 Object Lock &amp; Glacier Vault Lock<ul><li>这两种锁定机制都采用 WORM（Write Once Read Many）模型，主要用于 合规存储 与 防篡改数据保护</li></ul></li></ul><table><thead><tr><th>场景</th><th>推荐机制</th></tr></thead><tbody><tr><td>普通对象防删（含版本控制）</td><td>S3 Object Lock</td></tr><tr><td>归档数据长期不可更改（如交易记录）</td><td>Glacier Vault Lock</td></tr><tr><td>合规要求 + 防篡改 + 永久保存需求</td><td>可结合 S3 Object Lock + Glacier Vault Lock 双层保护</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img510114.png"></p><hr><h4 id="S3-–-Access-Points"><a href="#S3-–-Access-Points" class="headerlink" title="S3 – Access Points"></a>S3 – Access Points</h4><ul><li>S3 Access Points 提供一种更灵活、安全的方式来管理不同用户或应用程序对同一 Bucket 的访问权限，按角色或业务线划分权限，简化 Bucket Policy 管理复杂度</li></ul><table><thead><tr><th>用户角色</th><th>访问前缀</th><th>Access Point 名称</th><th>策略说明</th></tr></thead><tbody><tr><td>Users (Finance)</td><td>&#x2F;finance&#x2F;*</td><td>FinanceAccessPoint</td><td>允许读写 &#x2F;finance 区域</td></tr><tr><td>Users (Sales)</td><td>&#x2F;sales&#x2F;*</td><td>SalesAccessPoint</td><td>允许读写 &#x2F;sales 区域</td></tr><tr><td>Users (Analytics)</td><td>所有路径（只读）</td><td>AnalyticsAccessPoint</td><td>对整个 Bucket 只读</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img510115.png"></p><ul><li>S3 – Access Points（VPC Origin）<ul><li>S3 Access Points 可配置为 仅允许来自特定 VPC 内部的访问，提高安全性与隔离性，适合私有网络内的企业应用</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img510117.png"></p><ul><li>S3 – Multi-Region Access Points（MRAP）<ul><li>Multi-Region Access Points（MRAP）提供一个 全球统一的访问入口，自动将请求路由到多个 AWS 区域中的 S3 存储桶，实现跨区域高可用、低延迟访问</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img510118.png"></p><hr><h4 id="S3-Object-Lambda"><a href="#S3-Object-Lambda" class="headerlink" title="S3 Object Lambda"></a>S3 Object Lambda</h4><ul><li>S3 Object Lambda 允许在对象被读取前，通过 AWS Lambda 实时处理对象内容，无需修改原始 S3 对象</li></ul><table><thead><tr><th>使用场景描述</th><th>示例说明</th></tr></thead><tbody><tr><td>🔒 屏蔽敏感信息（如 PII）</td><td>在分析或测试环境中自动脱敏数据（如隐藏邮箱、手机号）</td></tr><tr><td>🔄 转换数据格式</td><td>将对象从 XML 转换为 JSON，提升兼容性</td></tr><tr><td>🖼️ 实时处理图片</td><td>根据调用用户信息动态缩放图片或添加水印</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511445.png"></p><hr><h4 id="DDoS-Protection-on-AWS"><a href="#DDoS-Protection-on-AWS" class="headerlink" title="DDoS Protection on AWS"></a>DDoS Protection on AWS</h4><ul><li>DDoS Protection on AWS<ul><li>AWS 提供多层次的防护方案，结合网络架构与服务配置，可有效缓解分布式拒绝服务（DDoS）攻击带来的影响</li></ul></li></ul><table><thead><tr><th>服务&#x2F;机制</th><th>描述</th></tr></thead><tbody><tr><td>🛡️ AWS Shield Standard</td><td>默认启用，免费为所有 AWS 用户提供基础 DDoS 防护（L3&#x2F;L4 攻击）</td></tr><tr><td>🛡️ AWS Shield Advanced</td><td>付费服务，提供 24&#x2F;7 SOC 支持、攻击检测、流量分析、费用保护等高级功能</td></tr><tr><td>🌐 AWS WAF</td><td>应用层防护（L7），可自定义规则过滤恶意请求（如 IP 黑名单、SQL 注入等）</td></tr><tr><td>🚀 CloudFront &amp; Route 53</td><td>借助 AWS 全球边缘网络进行流量分发，结合 AWS Shield 可实现边缘层 DDoS 缓解</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511449.png"></p><p>选择建议总结</p><table><thead><tr><th>需求场景</th><th>推荐机制</th></tr></thead><tbody><tr><td>基本防护（无需额外配置）</td><td>AWS Shield Standard</td></tr><tr><td>面对业务关键系统&#x2F;高风险目标</td><td>AWS Shield Advanced + WAF + CDN</td></tr><tr><td>Web 应用层级访问控制</td><td>AWS WAF（结合 CloudFront 效果更佳）</td></tr></tbody></table><hr><h4 id="AWS-Shield"><a href="#AWS-Shield" class="headerlink" title="AWS Shield"></a>AWS Shield</h4><ul><li>AWS Shield 是 AWS 提供的 分布式拒绝服务（DDoS）防护服务，分为 Standard 与 Advanced 两个等级，覆盖 L3&#x2F;L4 层的攻击防护</li></ul><p>🛡️ Shield Standard vs Advanced 简要对比</p><table><thead><tr><th>特性</th><th>Shield Standard</th><th>Shield Advanced</th></tr></thead><tbody><tr><td>费用</td><td>免费</td><td>$3,000&#x2F;月</td></tr><tr><td>攻击类型支持</td><td>基础网络攻击（L3&#x2F;L4）</td><td>复杂攻击（如应用层滥用、状态耗尽等）</td></tr><tr><td>保护服务范围</td><td>所有 AWS 公网服务</td><td>限定服务（EC2、ELB、CloudFront 等）</td></tr><tr><td>DDoS 响应团队支持</td><td>❌ 无</td><td>✅ 提供 24&#x2F;7 专家支持</td></tr><tr><td>费用豁免保障</td><td>❌ 无</td><td>✅ 提供（需符合 AWS 条件）</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511450.png"></p><hr><h4 id="AWS-WAF"><a href="#AWS-WAF" class="headerlink" title="AWS WAF"></a>AWS WAF</h4><ul><li>AWS WAF 是一款 应用层防火墙（Layer 7），用于保护 Web 应用免受常见攻击如 SQL 注入、XSS、恶意请求等</li><li>注意：WAF 并非 DDoS 防护工具，但可配合 Shield 使用以提升整体防护能力</li></ul><table><thead><tr><th>部署目标</th><th>描述</th></tr></thead><tbody><tr><td>⚖️ Application Load Balancer</td><td>在 ALB 上部署区域性规则，用于 EC2、ECS、Lambda 后端</td></tr><tr><td>🌐 CloudFront</td><td>在全球边缘节点上拦截攻击（全球生效）</td></tr><tr><td>📡 API Gateway</td><td>在 REST 或 HTTP API 前部署规则（区域级或边缘）</td></tr><tr><td>🧠 AppSync</td><td>保护 GraphQL 接口，防止恶意查询</td></tr><tr><td>🧱 支持自定义源站</td><td>如 Classic Load Balancer、EC2、S3 网站托管、自建应用等</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511455.png"></p><ul><li>Web ACL（Web Access Control List）<ul><li>Web ACL 是 WAF 的核心配置单元，由一组规则组成，控制哪些请求被允许、阻止或进一步挑战</li></ul></li></ul><table><thead><tr><th>规则内容类型</th><th>说明</th></tr></thead><tbody><tr><td>🔢 IP 地址过滤</td><td>包括黑名单 &#x2F; 白名单</td></tr><tr><td>📄 HTTP 内容匹配</td><td>可基于 Header、Body、URI 进行模式匹配</td></tr><tr><td>🔍 SQL Injection &#x2F; XSS 检测</td><td>AWS 提供内建规则集可直接启用防护</td></tr><tr><td>🌍 地理位置（Geo Match）</td><td>按国家 &#x2F; 区域限制访问</td></tr><tr><td>🔁 速率限制（Rate-based）</td><td>限制同一 IP 的请求频率，防止爬虫&#x2F;爆破</td></tr><tr><td>📏 请求大小限制（Size Constraint）</td><td>限制 URI、Header、Body 的最大长度</td></tr></tbody></table><ul><li>AWS WAF – Managed Rules（托管规则集）</li><li>AWS WAF 提供超过 190 条 托管规则（Managed Rules），由 AWS 与 AWS Marketplace 合作伙伴维护，开箱即用，简化防护配置</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511457.png"></p><ul><li>AWS WAF – Web ACL Logging（日志记录）<ul><li>WAF 支持将 Web ACL 的匹配记录导出至多种日志系统，用于 安全审计、可视化分析和合规留档</li><li>CloudWatch Logs → 用于实时分析与可视化告警（搭配 Metric Filter）</li><li>S3 → 便于合规审计、存储与 Athena 分析</li><li>Firehose → 实时流处理、集成第三方 SIEM&#x2F;可观测平台</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511459.png"></p><hr><h4 id="AWS-Firewall-Manager"><a href="#AWS-Firewall-Manager" class="headerlink" title="AWS Firewall Manager"></a>AWS Firewall Manager</h4><ul><li>AWS Firewall Manager 是一个集中式安全策略管理服务，适用于多账户环境（如 AWS Organizations），可统一下发并自动应用网络安全规则</li></ul><table><thead><tr><th>需求场景</th><th>建议操作</th></tr></thead><tbody><tr><td>统一管理所有账户的 WAF &#x2F; Shield 策略</td><td>启用 Firewall Manager 并创建 WAF Policy</td></tr><tr><td>实现自动化合规保障</td><td>结合 SCP + Firewall Manager + Config</td></tr><tr><td>集中控制 EC2&#x2F;ALB 安全组配置</td><td>启用 Security Group Policy 管理</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511541.png"></p><ul><li>WAF vs. Firewall Manager vs. Shield</li></ul><table><thead><tr><th>服务</th><th>作用范围</th></tr></thead><tbody><tr><td><strong>AWS WAF</strong></td><td>定义 Web ACL 规则，提供资源级别的应用层（Layer 7）攻击防护</td></tr><tr><td><strong>AWS Firewall Manager</strong></td><td>用于跨账户集中管理 WAF、Shield、Security Group、Network Firewall 策略</td></tr><tr><td><strong>AWS Shield</strong></td><td>防御 DDoS 攻击，包含免费版（Standard）和高级版（Advanced）</td></tr></tbody></table><hr><h4 id="AWS-Inspecctor"><a href="#AWS-Inspecctor" class="headerlink" title="AWS Inspecctor"></a>AWS Inspecctor</h4><ul><li>Amazon Inspector 是一项自动化安全评估服务，用于检测 AWS 上资源（如 EC2、ECR、Lambda）中存在的漏洞与配置风险，并集成报告和告警流程</li></ul><table><thead><tr><th>场景描述</th><th>建议配置</th></tr></thead><tbody><tr><td>需要定期评估 EC2 主机系统与网络风险</td><td>启用 Amazon Inspector + 安装&#x2F;激活 SSM Agent</td></tr><tr><td>容器镜像安全治理</td><td>启用 ECR 推送镜像扫描，配合 Inspector 自动检测依赖漏洞</td></tr><tr><td>保障 Serverless 函数运行时安全</td><td>启用对 Lambda 函数的 Inspector 扫描</td></tr><tr><td>多工具集成与统一监控</td><td>将 Inspector Findings 发送到 Security Hub &#x2F; EventBridge</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511545.png"></p><hr><h4 id="AWS-Config"><a href="#AWS-Config" class="headerlink" title="AWS Config"></a>AWS Config</h4><ul><li>AWS Config 是一项资源审计与合规性检查服务，能持续记录和追踪 AWS 资源的配置变更，帮助满足审计、合规与运营分析需求</li></ul><table><thead><tr><th>场景</th><th>建议操作</th></tr></thead><tbody><tr><td>持续合规审计与资源追踪</td><td>启用 AWS Config + 关键规则集</td></tr><tr><td>多账户环境统一合规视图</td><td>使用 Config Aggregator 聚合所有账户合规状态</td></tr><tr><td>定制企业规则</td><td>配置自定义 Lambda 规则，与 AWS Config 集成</td></tr><tr><td>结合响应机制</td><td>配置 SNS + EventBridge 实现实时响应或自动修复流程</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511547.png"></p><ul><li>AWS Config Rules<ul><li>AWS Config Rules 用于自动检查资源是否符合期望配置，并可与 EventBridge + Lambda &#x2F; SSM 配合实现自动修复</li></ul></li></ul><table><thead><tr><th>用例描述</th><th>规则示例</th></tr></thead><tbody><tr><td>确保所有 EBS 卷类型为 gp2</td><td>自定义规则：检查 EBS 类型是否为 gp2</td></tr><tr><td>检查所有 EC2 实例是否为 t2.micro</td><td>自定义规则：实例类型为 t2.micro 才合规</td></tr><tr><td>检查安全组是否开放 0.0.0.0&#x2F;0 的 SSH 端口</td><td>使用托管规则 <code>restricted-ssh</code></td></tr><tr><td>S3 Bucket 是否关闭公有访问</td><td>使用托管规则 <code>s3-bucket-public-read-prohibited</code> 等</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511548.png"></p><hr><h4 id="AWS-Managed-Logs"><a href="#AWS-Managed-Logs" class="headerlink" title="AWS Managed Logs"></a>AWS Managed Logs</h4><ul><li>AWS 提供多种服务的 托管日志记录功能，可将关键操作、流量或访问行为记录到 S3、CloudWatch Logs 或 Kinesis 中，供后续审计、监控与分析使用</li></ul><table><thead><tr><th>目标场景</th><th>建议配置</th></tr></thead><tbody><tr><td>审计账户 API 操作</td><td>启用 CloudTrail，写入 S3 + CloudWatch Logs</td></tr><tr><td>分析网络流量与安全行为</td><td>启用 VPC Flow Logs，结合 CloudWatch Logs 或 Athena 使用</td></tr><tr><td>回溯存储访问行为</td><td>启用 S3 或 CloudFront Access Logs</td></tr><tr><td>合规监管 &#x2F; 配置变更溯源</td><td>启用 AWS Config 并将日志导出至 S3</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511550.png"></p><hr><h4 id="AWS-GuardDuty"><a href="#AWS-GuardDuty" class="headerlink" title="AWS GuardDuty"></a>AWS GuardDuty</h4><ul><li>Amazon GuardDuty 是一项基于机器学习的智能威胁检测服务，可识别 AWS 环境中的异常行为、恶意活动与潜在攻击，无需安装代理或修改资源配置</li></ul><table><thead><tr><th>场景</th><th>推荐操作</th></tr></thead><tbody><tr><td>快速启用账户级安全监控</td><td>启用 GuardDuty，默认开启 CloudTrail、VPC、DNS 分析</td></tr><tr><td>自动化安全响应</td><td>配置 EventBridge + Lambda 处理 GuardDuty Findings</td></tr><tr><td>多账户统一检测</td><td>配置 GuardDuty 管理账户（Master-Detector 架构）</td></tr><tr><td>高风险资源（如 S3、Lambda）监控</td><td>启用可选数据源如 S3 Data Events、Lambda 运行监控等</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511555.png"></p><p>⚠️ 检测示例（Findings）</p><table><thead><tr><th>威胁类型</th><th>示例描述</th></tr></thead><tbody><tr><td>💰 加密货币挖矿攻击</td><td>检测 EC2 实例疑似被劫持用于挖矿（有专用 Finding 类型）</td></tr><tr><td>🔓 被盗凭证操作</td><td>使用已泄露的 API 密钥进行非常规操作</td></tr><tr><td>🔄 反常流量模式</td><td>某实例短时间内访问大量外部 IP 或发送异常 DNS 查询</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511558.png"></p><p>📥 输入日志源</p><table><thead><tr><th>来源类型</th><th>说明</th></tr></thead><tbody><tr><td>📋 CloudTrail Events</td><td>检测异常 API 调用、未授权操作（如 createTrail、createVpc、updateSecurityGroup）</td></tr><tr><td>🪣 CloudTrail S3 Data Events</td><td>检测异常访问行为（如 getObject、listObjects、deleteObject）</td></tr><tr><td>🌐 VPC Flow Logs</td><td>分析流量模式（如端口扫描、可疑内网通信、通信异常 IP）</td></tr><tr><td>🌍 DNS 查询日志</td><td>检测域名滥用，如 EC2 通过 DNS 隐蔽传输数据（数据渗漏）</td></tr><tr><td>🧪 可选数据源</td><td>包括 EKS 审计日志、RDS、Aurora、EBS 卷行为、Lambda、S3 数据事件等</td></tr></tbody></table><ul><li>GuardDuty – Delegated Administrator（委派管理员）<ul><li>在多账户架构下，可通过 委派管理员（Delegated Administrator） 集中管理 Amazon GuardDuty，适用于 AWS Organizations</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511559.png"></p><hr><h4 id="IAM-Conditions"><a href="#IAM-Conditions" class="headerlink" title="IAM Conditions"></a>IAM Conditions</h4><ul><li>IAM 支持通过条件（Condition）限制策略作用范围，提升权限控制的灵活性与精细度</li></ul><p>✅ 常见 IAM 条件键（Condition Keys）</p><table><thead><tr><th>条件键</th><th>功能说明</th></tr></thead><tbody><tr><td><code>aws:SourceIp</code></td><td>限制 API 请求只能从指定 IP 范围发起</td></tr><tr><td><code>aws:RequestedRegion</code></td><td>限制 API 请求只能针对特定 AWS 区域</td></tr><tr><td><code>aws:MultiFactorAuthPresent</code></td><td>强制要求请求者启用并使用 MFA（多重身份验证）</td></tr><tr><td><code>ec2:ResourceTag</code></td><td>限制操作仅适用于包含指定标签的 EC2 资源（例如强制打标签）</td></tr></tbody></table><ul><li><code>aws:PrincipalOrgID</code> 是一个可用于 资源策略（Resource Policies） 的条件，用于限制访问者必须属于某个 AWS Organization，实现跨账户但受组织边界控制的安全授权</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img213524.png"></p><hr><h4 id="IAM-for-S3"><a href="#IAM-for-S3" class="headerlink" title="IAM for S3"></a>IAM for S3</h4><ul><li>针对 S3，权限粒度划分为 Bucket 级别 与 Object 级别</li></ul><p>🪣 S3 操作权限与 ARN 示例</p><table><thead><tr><th>操作权限</th><th>ARN 示例</th><th>权限说明</th></tr></thead><tbody><tr><td><code>s3:ListBucket</code></td><td><code>arn:aws:s3:::my-bucket</code></td><td>✅ Bucket 级权限</td></tr><tr><td><code>s3:GetObject</code><br><code>s3:PutObject</code><br><code>s3:DeleteObject</code></td><td><code>arn:aws:s3:::my-bucket/*</code></td><td>✅ Object 级权限</td></tr></tbody></table><hr><h4 id="AWS-Security-Hub"><a href="#AWS-Security-Hub" class="headerlink" title="AWS Security Hub"></a>AWS Security Hub</h4><ul><li>AWS Security Hub 是一个集中化的安全与合规状态可视化平台，自动聚合来自多个 AWS 服务与第三方工具的安全发现（Findings），并支持跨账户集中管理</li></ul><p>🧰 核心功能</p><table><thead><tr><th>功能</th><th>描述</th></tr></thead><tbody><tr><td>📊 统一仪表盘</td><td>提供多账户、多服务的安全状态总览，支持快速发现问题并响应</td></tr><tr><td>🔎 安全发现聚合</td><td>自动整合来自 AWS 服务与合作厂商的 Findings（支持 AWS Security Finding Format）</td></tr><tr><td>✅ 安全检查自动化</td><td>内建对照如 CIS Benchmarks、PCI DSS 的合规性检查规则集</td></tr><tr><td>🔔 集成通知与响应</td><td>可结合 EventBridge + Lambda&#x2F;SNS 触发自动修复或提醒流程</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511603.png"></p><p>📥 支持的 AWS 服务（Findings 来源）</p><table><thead><tr><th>来源服务</th><th>检测内容示例</th></tr></thead><tbody><tr><td>🧾 AWS Config</td><td>合规规则触发、不合规配置变更</td></tr><tr><td>🛡️ GuardDuty</td><td>异常行为、恶意流量、账号滥用等</td></tr><tr><td>🔍 Inspector</td><td>主机、容器、Lambda 漏洞扫描</td></tr><tr><td>🔐 Macie</td><td>S3 中的敏感数据检测（如 PII、信用卡号）</td></tr><tr><td>👁️ IAM Access Analyzer</td><td>资源暴露、外部可访问路径发现</td></tr><tr><td>⚙️ Systems Manager</td><td>异常补丁状态、实例合规性评估</td></tr><tr><td>🔥 Firewall Manager</td><td>防火墙规则不一致、策略未应用</td></tr><tr><td>🏥 AWS Health</td><td>AWS 服务层事件影响和通知</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511604.png"></p><hr><h4 id="Amazon-Detective"><a href="#Amazon-Detective" class="headerlink" title="Amazon Detective"></a>Amazon Detective</h4><ul><li>Amazon Detective 是一款专为深入分析和调查 AWS 安全事件根因而设计的服务，结合图数据库和机器学习技术，从大量日志中构建清晰的可视化上下文</li></ul><table><thead><tr><th>场景</th><th>建议操作</th></tr></thead><tbody><tr><td>分析 GuardDuty&#x2F;Macie Findings 背后的根因</td><td>启用 Detective 并结合图形分析视图使用</td></tr><tr><td>需要追溯用户 &#x2F; 资源行为全链路</td><td>使用 Detective 的行为图谱与时间线</td></tr><tr><td>多账户环境集中调查安全事件</td><td>在管理账户中启用 Amazon Detective 并连接所有子账户</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img511605.png"></p><hr><h3 id="3-Compute-amp-Load-Balancing"><a href="#3-Compute-amp-Load-Balancing" class="headerlink" title="3. Compute &amp; Load Balancing"></a>3. Compute &amp; Load Balancing</h3><h4 id="EC2"><a href="#EC2" class="headerlink" title="EC2"></a>EC2</h4><ul><li>EC2 Instance Types – 常见类别速览<ul><li>Amazon EC2 提供多种实例类型，针对不同计算、内存、存储和图形加速需求进行优化</li></ul></li></ul><p>常见主流实例族对照表</p><table><thead><tr><th>实例类型</th><th>用途场景描述</th><th>特点关键词</th></tr></thead><tbody><tr><td><code>R</code></td><td>高内存场景，如 Redis、Memcached</td><td>内存优化型（RAM 优先）</td></tr><tr><td><code>C</code></td><td>高计算需求，如批量处理、数据库</td><td>计算优化型（CPU 性能优先）</td></tr><tr><td><code>M</code></td><td>通用业务，如 Web 应用、开发环境</td><td>均衡型（“M” &#x3D; Medium）</td></tr><tr><td><code>I</code></td><td>高本地 I&#x2F;O，如 NoSQL、日志聚合数据库</td><td>存储优化型（本地 SSD）</td></tr><tr><td><code>G</code></td><td>GPU 加速需求，如深度学习、图像处理</td><td>图形&#x2F;GPU 优化型</td></tr><tr><td><code>T2 / T3</code></td><td>突发型场景，轻量 Web、测试环境</td><td>突发性能型（CPU credit 模型）</td></tr><tr><td><code>T2/T3 - unlimited</code></td><td>支持持续突发，无性能限制</td><td>超出 baseline 不限时</td></tr></tbody></table><ul><li>EC2 – Placement Groups<ul><li>Placement Groups 可用于控制 EC2 实例在 AWS 数据中心中的物理部署方式，优化网络延迟、容错能力或分布策略</li><li><code>Cluster</code>: 低延迟网络、高带宽通信</li><li><code>Spread</code>: 高可用性 &#x2F; 避免单点故障硬件依赖</li><li><code>Partition</code>: 大规模分布式系统架构部署</li></ul></li></ul><p></p><p>🧩 三种 Placement Group 策略类型</p><table><thead><tr><th>策略类型</th><th>描述</th><th>场景示例</th></tr></thead><tbody><tr><td>Cluster</td><td>实例部署在同一个可用区（AZ）的近距离硬件上，实现超低网络延迟与高吞吐量</td><td>HPC、高频交易、分布式缓存</td></tr><tr><td>Spread</td><td>实例分布在多个底层硬件（每个 AZ 最多 7 个实例），以提升容错性</td><td>关键系统（如数据库主备、前端节点）</td></tr><tr><td>Partition</td><td>实例分布在多个“分区”内，每个分区基于不同的机架组，可扩展到数百台实例</td><td>大规模分布式系统（如 Hadoop、Kafka、Cassandra）</td></tr></tbody></table><ul><li>Placement Groups – Cluster 策略<ul><li>极高的网络性能，<strong>实例间带宽可达 10 Gbps</strong>（需启用 Enhanced Networking）</li><li>非常适合需要<strong>低延迟、高吞吐量</strong>的内部通信场景</li><li>所有实例集中在同一机架组，<strong>若该机架故障，则所有实例同时宕机</strong></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img512712.png"></p><ul><li>Placement Groups – Spread 策略<ul><li><strong>可跨多个可用区（AZ）部署</strong></li><li>实例部署在不同的物理硬件上，<strong>大大降低同时故障的风险</strong></li><li>合关键业务场景下的<strong>实例隔离</strong></li><li><strong>每个 AZ 限制最多 7 个实例</strong>（每个 Placement Group 中）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img512722.png"></p><ul><li>Placement Groups – Partition 策略<ul><li>每个 <strong>可用区（AZ）最多支持 7 个分区</strong></li><li>单个分区可包含 <strong>数百个 EC2 实例</strong></li><li>同一分区内的实例共享机架，不同分区的实例<strong>物理隔离</strong></li><li><strong>分区级故障</strong> 只影响单个分区，<strong>不会波及其它分区</strong></li><li>实例可以通过 <strong>实例元数据（Metadata）获取所属分区信息</strong></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img512724.png"></p><ul><li>EC2 Instance Launch Types（启动类型）<ul><li>EC2 提供多种实例启动方式，适用于不同业务场景和成本策略</li></ul></li></ul><p>🚀 启动类型对照表</p><table><thead><tr><th>启动类型</th><th>适用场景</th><th>特点 &#x2F; 优势</th></tr></thead><tbody><tr><td>On-Demand Instances</td><td>短期、灵活性需求</td><td>✅ 按小时&#x2F;秒计费，可靠、无承诺</td></tr><tr><td>Spot Instances</td><td>可中断型短期任务</td><td>💰 价格低至按需的 90% 折扣，⚠️ 可能随时被回收</td></tr><tr><td>Reserved Instances</td><td>长期稳定工作负载（≥1 年）</td><td>💰 提前承诺换折扣（最多 75%），支持区域或实例预定</td></tr><tr><td>Convertible Reserved Instances</td><td>长期工作负载 + 实例类型灵活</td><td>✅ 允许在期限内更换实例规格，适合不确定未来实例类型的情况</td></tr><tr><td>Dedicated Instances</td><td>需隔离硬件、提升安全性</td><td>🛡️ 仅该客户使用物理服务器的部分资源，适合合规性需求</td></tr><tr><td>Dedicated Hosts</td><td>控制实例部署 + 软件许可需求</td><td>🧩 拥有整个物理服务器资源</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img512834.png"></p><ul><li>EC2 Graviton 处理器<ul><li>AWS Graviton 是基于 Arm 架构 的自研处理器系列，提供卓越的性价比与能效优势，适用于多种计算场景</li></ul></li></ul><p>🧠 处理器版本对比</p><table><thead><tr><th>版本</th><th>性能提升</th><th>特点摘要</th></tr></thead><tbody><tr><td>Graviton2</td><td>比第 5 代 x86 实例高出约 40%</td><td>最早广泛部署的高性价比 Arm 实例</td></tr><tr><td>Graviton3</td><td>比 Graviton2 快 最高 3 倍</td><td>提升浮点计算、加密、ML 推理性能，功耗更低</td></tr></tbody></table><ul><li>EC2 默认监控指标（CloudWatch Metrics）<ul><li>EC2 实例在不额外配置的情况下，会自动收集以下基础指标，适用于性能监控与状态排查</li><li>内存（RAM）使用情况不是默认指标</li></ul></li></ul><p>📊 内建指标分类（EC2 默认 CloudWatch Metrics）</p><table><thead><tr><th>维度</th><th>监控项名称</th><th>说明</th></tr></thead><tbody><tr><td>🧠 CPU</td><td><code>CPUUtilization</code></td><td>CPU 使用率（%）</td></tr><tr><td></td><td><code>CPUCreditUsage</code> &#x2F; <code>CPUCreditBalance</code></td><td>仅适用于 T 系列突发型实例</td></tr><tr><td>🌐 网络</td><td><code>NetworkIn</code> &#x2F; <code>NetworkOut</code></td><td>网络流量（字节）</td></tr><tr><td>✅ 状态检查</td><td><code>InstanceStatusCheck</code></td><td>检查 EC2 虚拟机级别问题</td></tr><tr><td></td><td><code>SystemStatusCheck</code></td><td>检查宿主机硬件和网络是否正常</td></tr><tr><td>💽 磁盘（临时存储）</td><td><code>DiskReadOps</code> &#x2F; <code>WriteOps</code><br><code>DiskReadBytes</code> &#x2F; <code>WriteBytes</code></td><td>仅适用于 Instance Store，不包含 EBS</td></tr></tbody></table><ul><li>EC2 Instance Recovery（实例恢复）<ul><li>当 EC2 实例发生系统级故障时，AWS 支持通过 自动恢复机制（Instance Recovery）将实例迁移至健康硬件上，保留原有配置不变</li><li>只有 System Status Check 失败（StatusCheckFailed_System） 时才可触发 EC2 Recovery</li></ul></li></ul><p>✅ 状态检查（Status Check）</p><table><thead><tr><th>检查类型</th><th>说明</th></tr></thead><tbody><tr><td>Instance Status</td><td>检查 EC2 实例内操作系统、网络配置等</td></tr><tr><td>System Status</td><td>检查底层硬件（如宿主物理服务器故障）</td></tr></tbody></table><hr><h4 id="High-Performance-Computing-HPC"><a href="#High-Performance-Computing-HPC" class="headerlink" title="High Performance Computing (HPC)"></a>High Performance Computing (HPC)</h4><ul><li>云计算平台（特别是 AWS）非常适合进行 高性能计算（HPC），可动态扩展、快速部署并降低成本</li></ul><p>📦 Data Management &amp; Transfer for HPC</p><table><thead><tr><th>服务</th><th>用途场景</th></tr></thead><tbody><tr><td><strong>AWS Direct Connect</strong></td><td>提供高带宽、低延迟、专线连接 AWS，适合传输 GB&#x2F;s 数据</td></tr><tr><td><strong>AWS Snowball</strong></td><td>物理设备，适合批量传输 PB 级数据 到 AWS</td></tr><tr><td><strong>AWS DataSync</strong></td><td>快速将大量数据 从本地同步到 S3、EFS、FSx</td></tr></tbody></table><p>⚙️ Compute and Networking for HPC</p><table><thead><tr><th>选项</th><th>用途说明</th></tr></thead><tbody><tr><td><strong>EC2 实例</strong></td><td>提供基础的计算资源，可选择 CPU 优化型、GPU 优化型 实例</td></tr><tr><td><strong>Spot 实例 &#x2F; Spot Fleet</strong></td><td>适用于弹性、短时批处理任务，极大降低成本，可结合 Auto Scaling 使用</td></tr><tr><td><strong>Auto Scaling</strong></td><td>根据计算需求自动扩缩 EC2 数量，适应动态负载变化</td></tr></tbody></table><p>🚀 EC2 Enhanced Networking（基于 SR-IOV）</p><table><thead><tr><th>网络类型</th><th>特性说明</th><th>适用带宽</th></tr></thead><tbody><tr><td>Elastic Network Adapter (ENA)</td><td>默认推荐，支持多种实例类型，最高 100 Gbps</td><td>✅ 高速（现代标准）</td></tr><tr><td>Intel 82599 VF (Legacy)</td><td>较旧的选项，适用于部分早期实例</td><td>⛔ 最多 10 Gbps</td></tr><tr><td>Elastic Fabric Adapter (EFA)</td><td>基于 ENA 增强，适用于 HPC，支持 MPI，绕过内核，提供超低延迟通信</td><td>✅ 高速 + 极低延迟</td></tr></tbody></table><p>📌 实例附加存储（与 EC2 紧耦合）</p><table><thead><tr><th>类型</th><th>特点</th><th>使用建议</th></tr></thead><tbody><tr><td>Amazon EBS</td><td>可持久化、可独立挂载，支持快照、加密、IOPS 调优</td><td>✅ 通用存储，如数据库磁盘、容器卷</td></tr><tr><td>- io2 Block Express</td><td>提供高达 256,000 IOPS，适合高性能场景</td><td>高性能数据库、日志系统</td></tr><tr><td>Instance Store</td><td>与 EC2 实例生命周期绑定，超低延迟，可达百万级 IOPS</td><td>临时数据缓存、HPC 临时结果</td></tr></tbody></table><p>📦 网络存储（通过网络访问）</p><table><thead><tr><th>服务</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td>Amazon S3</td><td>对象存储服务，支持无限扩展，不是真正的文件系统</td><td>✅ 静态文件、模型数据、备份归档等</td></tr><tr><td>Amazon EFS</td><td>分布式共享文件系统，自动扩展，按容量计费，支持 provisioned IOPS</td><td>多实例共享挂载、容器、Web 文件存储</td></tr><tr><td>Amazon FSx for Lustre</td><td>面向 HPC 优化的高并行文件系统，支持百万级 IOPS，可挂载到 S3</td><td>Genomics、渲染、AI 模型训练等 HPC 场景</td></tr></tbody></table><p>🤖 自动化与编排工具（Automation &amp; Orchestration for HPC）</p><table><thead><tr><th>工具</th><th>特点</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>AWS Batch</strong></td><td>支持多节点并行作业（Multi-node Parallel Jobs），自动调度和扩缩 EC2 实例</td><td>✅ 动态批处理任务调度、分布式训练、仿真、渲染等</td></tr><tr><td><strong>AWS ParallelCluster</strong></td><td>开源集群管理工具，基于文本配置，自动创建 VPC、子网、实例类型与作业调度器</td><td>✅ 构建完整 HPC 集群（支持 Lustre、EFA、Slurm 等）</td></tr></tbody></table><hr><h4 id="Auto-Scaling"><a href="#Auto-Scaling" class="headerlink" title="Auto Scaling"></a>Auto Scaling</h4><ul><li>Auto Scaling Groups – Dynamic Scaling Policies（动态扩缩容策略）<ul><li>动态扩缩容策略可以根据实时指标或已知使用模式自动调整 EC2 实例数量，确保系统既具备弹性又避免资源浪费</li></ul></li></ul><table><thead><tr><th>策略类型</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>🎯 Target Tracking Scaling</td><td>✅ 最简单易用，自动将实例数维持在某个目标指标附近</td><td>希望平均 CPU 利用率维持在 40%</td></tr><tr><td>📈 Simple &#x2F; Step Scaling</td><td>基于 CloudWatch 警报进行扩缩容，支持多个阈值与动作，适合精细控制</td><td>CPU &gt; 70% ➝ 扩容 2 台<br>CPU &lt; 30% ➝ 缩容 1 台</td></tr><tr><td>⏰ Scheduled Actions</td><td>预设时间点触发扩缩计划，适用于流量规律明显的场景</td><td>每周五 17:00 ➝ 设置最小容量为 10，应对周末高峰</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img223430.png"></p><ul><li>Auto Scaling Groups – Predictive Scaling（预测型扩缩策略<ul><li>预测型扩缩容通过 机器学习算法分析历史负载趋势，提前预测即将到来的负载变化，并提前预热实例，从而避免响应延迟或冷启动问题</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img225447.png"></p><p>📈 推荐用于扩缩容的指标</p><table><thead><tr><th>指标名称</th><th>描述</th></tr></thead><tbody><tr><td>CPUUtilization</td><td>实例的平均 CPU 使用率，最常用的通用扩缩容指标</td></tr><tr><td>RequestCountPerTarget</td><td>每个目标实例的请求量（适用于带有负载均衡器的 Web 应用）</td></tr><tr><td>Average Network In&#x2F;Out</td><td>平均网络流入 &#x2F; 流出字节数，适合网络密集型应用（如视频流、数据传输）</td></tr><tr><td>自定义指标（Custom Metric）</td><td>可使用 CloudWatch 自行推送任意业务相关指标（如队列长度、响应时间等）</td></tr></tbody></table><ul><li>Auto Scaling – Instance Refresh<ul><li>在不完全重建 Auto Scaling Group 的前提下，自动滚动更新 EC2 实例以使用新的启动模板（Launch Template）或配置</li><li>由用户主动调用 StartInstanceRefresh, 按照指定比例逐步替换现有实例，确保服务不中断</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img515727.png"></p><ul><li>Auto Scaling – Health Checks（健康检查机制）<ul><li>Auto Scaling Group（ASG）会根据健康检查结果自动识别失效实例，并执行终止 + 替换操作，确保服务高可用</li></ul></li></ul><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>EC2 Status Checks</td><td>默认启用，检查实例自身状态（如 CPU 卡死、内核崩溃）<br>包括系统级（System）和实例级（Instance）状态检查</td></tr><tr><td>ELB Health Checks</td><td>适用于 ASG 关联了 Load Balancer（ALB &#x2F; NLB &#x2F; CLB）<br>使用 HTTP&#x2F;TCP 定期探测实例健康，贴近业务层</td></tr><tr><td>自定义健康检查（Custom）</td><td>使用 AWS CLI &#x2F; SDK 主动上报实例健康状态<br>命令示例：<code>set-instance-health</code>（将实例标记为 Unhealthy）</td></tr></tbody></table><hr><h4 id="EC2-Spot-Instances"><a href="#EC2-Spot-Instances" class="headerlink" title="EC2 Spot Instances"></a>EC2 Spot Instances</h4><ul><li>EC2 Spot 实例是一种高性价比的计算资源获取方式，可以为弹性工作负载显著节省成本。适用于对中断容忍度高的场景，例如批处理、数据分析等</li></ul><table><thead><tr><th>特性</th><th>描述</th></tr></thead><tbody><tr><td>成本极低</td><td>相较 On-Demand 实例最高可省 90%</td></tr><tr><td>自定义最大竞价</td><td>用户设定最大可接受价格，当前市场价格低于该值时获取实例</td></tr><tr><td>实时价格浮动</td><td>价格依据区域容量供需情况每小时调整</td></tr><tr><td>可配置中断行为</td><td>价格上涨超出设定时可选择 Stop &#x2F; Terminate，提前 2 分钟通知</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img515752.png"></p><hr><h4 id="EC2-Spot-Fleets"><a href="#EC2-Spot-Fleets" class="headerlink" title="EC2 Spot Fleets"></a>EC2 Spot Fleets</h4><ul><li>Spot Fleet 是 AWS 提供的一种方式，用于自动管理多个 Spot 实例 + 可选的 On-Demand 实例组合，以满足你设定的计算容量目标</li><li>大规模数据处理（如 Spark、EMR）, 训练机器学习模型, 非关键但高算力密集型任务</li></ul><p>🧩 Spot Fleet 启动池（Launch Pools）示例</p><ul><li>你可以定义多个候选配置池，Spot Fleet 会从这些池中自动选择最优组合以满足策略</li></ul><table><thead><tr><th>属性</th><th>示例</th></tr></thead><tbody><tr><td>实例类型</td><td><code>m5.large</code>, <code>c5.xlarge</code></td></tr><tr><td>操作系统</td><td>Amazon Linux 2, Ubuntu</td></tr><tr><td>可用区</td><td><code>us-east-1a</code>, <code>us-east-1b</code></td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img515754.png"></p><hr><h4 id="AWS-ECS-Elastic-Container-Service"><a href="#AWS-ECS-Elastic-Container-Service" class="headerlink" title="AWS ECS (Elastic Container Service)"></a>AWS ECS (Elastic Container Service)</h4><ul><li>要在 AWS 上管理 Docker 容器，你可以选择以下平台</li></ul><table><thead><tr><th>服务名称</th><th>描述</th></tr></thead><tbody><tr><td>Amazon ECS</td><td>AWS 自研容器编排平台，支持 Docker，易于集成 AWS 生态</td></tr><tr><td>Amazon EKS</td><td>托管版 Kubernetes（开源），适合已有 K8s 经验的团队</td></tr><tr><td>AWS Fargate</td><td>无服务器容器运行平台（Serverless），可搭配 ECS 或 EKS 使用</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img517216.png"></p><ul><li>Amazon ECS – Use Cases<ul><li>Amazon ECS 是 AWS 自研的容器编排服务，适用于从微服务架构到批处理作业的多种场景</li></ul></li></ul><table><thead><tr><th>场景类型</th><th>示例与说明</th></tr></thead><tbody><tr><td>微服务架构</td><td>部署多个容器，支持模块化服务与独立扩展</td></tr><tr><td>自动扩缩容</td><td>支持任务和服务的动态扩缩容，匹配流量需求</td></tr><tr><td>与负载均衡集成</td><td>原生集成 ALB &#x2F; NLB，自动注册目标容器</td></tr><tr><td>批处理与定时任务</td><td>使用 ECS 运行定期任务，兼容 Spot &#x2F; On-Demand 等实例类型</td></tr><tr><td>应用上云迁移</td><td>将本地 Docker 化应用无缝迁移至 ECS 平台</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img517219.png"></p><ul><li>Amazon ECS – 核心概念<ul><li>Amazon ECS 采用任务驱动模型，结合服务定义与 IAM 控制，适合高可用容器化部署</li></ul></li></ul><table><thead><tr><th>概念</th><th>描述</th></tr></thead><tbody><tr><td>ECS Cluster</td><td>EC2 实例的逻辑分组，容器任务在此集群中运行（Fargate 模式下可为空）</td></tr><tr><td>ECS Service</td><td>定义运行多少个任务，如何部署与维持任务副本数</td></tr><tr><td>Task Definition</td><td>任务定义文件（JSON），描述容器镜像、CPU、内存、端口等配置</td></tr><tr><td>ECS Task</td><td>某个 Task Definition 的运行实例，即一个或多个实际运行的容器</td></tr></tbody></table><ul><li>🔐 ECS IAM 角色</li></ul><table><thead><tr><th>IAM 角色类型</th><th>用途说明</th></tr></thead><tbody><tr><td>EC2 Instance Profile</td><td>附加在 ECS 所属 EC2 上，用于访问 ECS API、CloudWatch 等服务</td></tr><tr><td>Task IAM Role</td><td>附加在具体任务上，用于访问 S3、DynamoDB 等 AWS 服务，实现任务级权限隔离</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img517221.png"></p><ul><li>Amazon ECS – ALB Integration（动态端口映射）<ul><li>Amazon ECS 可通过 ALB（Application Load Balancer） 实现容器的智能路由，支持 动态端口映射（Dynamic Port Mapping）</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Users</span><br><span class="line">  ↓</span><br><span class="line">Application Load Balancer</span><br><span class="line">  ├──→ EC2 Instance: Task A (port 36789)</span><br><span class="line">  └──→ EC2 Instance: Task B (port 39586)</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522822.png"></p><ul><li>Amazon ECS – 安全与网络配置<ul><li>ECS 提供强大的配置注入与灵活的网络选项，支持不同任务隔离级别与安全需求</li><li>可将 参数和密钥 作为环境变量注入容器</li><li>支持集成以下服务: SSM Parameter Store, Secrets Manager</li></ul></li></ul><table><thead><tr><th>网络模式</th><th>描述</th></tr></thead><tbody><tr><td><code>none</code></td><td>无网络连接，无法与外部通信，通常用于完全离线的计算任务</td></tr><tr><td><code>bridge</code></td><td>Docker 默认桥接网络模式，容器间通过虚拟网桥通信，支持端口映射</td></tr><tr><td><code>host</code></td><td>容器直接使用主机网络接口，端口冲突风险高，但性能更好</td></tr><tr><td><code>awsvpc</code></td><td>每个任务获得独立 ENI + 私有 IP，支持 Security Groups、VPC Flow Logs 等</td></tr><tr><td></td><td>➤ Fargate 的默认网络模式，也是最推荐的生产部署模式</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522829.png"></p><ul><li>Amazon ECS – Service Auto Scaling<ul><li>ECS 支持在 服务层级自动扩缩容任务（Tasks），无需人工干预</li></ul></li></ul><table><thead><tr><th>策略类型</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>🎯 Target Tracking</td><td>设置目标值，自动追踪（最常用，推荐）</td><td>维持 CPU 利用率在 50%</td></tr><tr><td>📉 Step Scaling</td><td>绑定 CloudWatch Alarm，设置触发阈值 + 调整步进</td><td>CPU &gt; 70% ➝ 扩容 2 个任务</td></tr><tr><td>⏰ Scheduled Scaling</td><td>预设某个时间自动扩缩容，适合预测性变化</td><td>每天 9:00 设置最小任务为 5</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522831.png"></p><ul><li>Amazon ECS – Spot Instances 支持<ul><li>ECS 支持使用 Spot 实例来降低成本，具体取决于 启动方式（EC2 vs Fargate）</li></ul></li></ul><table><thead><tr><th>特性</th><th>🖥️ ECS（EC2 Launch Type）</th><th>⚙️ Fargate（含 FARGATE_SPOT）</th></tr></thead><tbody><tr><td>Spot 控制方式</td><td>通过 Auto Scaling Group 管理 Spot 实例</td><td>每个任务可指定运行在 FARGATE 或 FARGATE_SPOT</td></tr><tr><td>中断机制</td><td>实例回收前进入 Draining Mode，任务自动迁移或终止</td><td>Spot 任务可随时被 AWS 回收（无预警），需容错设计</td></tr><tr><td>成本与稳定性平衡</td><td>成本低但中断影响较大，需搭配 ASG 和多 AZ 策略应对</td><td>支持混合部署，On-Demand 保底 + Spot 弹性</td></tr><tr><td>配置与运维复杂度</td><td>需要配置 EC2、ASG、Capacity Provider 等</td><td>更加简单，Serverless，任务级别指定运行方式</td></tr><tr><td>扩展弹性</td><td>依赖 EC2 容量，扩容受限于底层资源可用性</td><td>弹性强，无需 EC2，直接根据负载水平扩缩任务</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522833.png"></p><hr><h4 id="AWS-Fargate"><a href="#AWS-Fargate" class="headerlink" title="AWS Fargate"></a>AWS Fargate</h4><ul><li>AWS Fargate 是一种 无服务器（Serverless）容器运行平台，可搭配 ECS 或 EKS 使用，无需管理底层 EC2 实例</li></ul><table><thead><tr><th>特性</th><th>描述</th></tr></thead><tbody><tr><td>无需管理 EC2</td><td>无需预配 &#x2F; 管理任何虚拟机，真正 Serverless</td></tr><tr><td>按需分配资源</td><td>你只需定义任务所需的 CPU &#x2F; 内存，Fargate 自动调度运行</td></tr><tr><td>简化扩展</td><td>只需增加任务数量即可实现扩容，无需考虑实例容量或 Auto Scaling</td></tr><tr><td>与 ECS &#x2F; EKS 集成</td><td>可作为两者的运行模式，适配不同容器编排系统</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522826.png"></p><hr><h4 id="AWS-ECR-Elastic-Container-Registry"><a href="#AWS-ECR-Elastic-Container-Registry" class="headerlink" title="AWS ECR (Elastic Container Registry)"></a>AWS ECR (Elastic Container Registry)</h4><ul><li>Amazon ECR 是 AWS 提供的托管式 Docker 镜像仓库，可安全存储、管理和部署容器镜像<ul><li>ECR ≠ DockerHub：默认私有，更适合生产部署，权限可控</li><li>若使用 CodePipeline、ECS、Fargate，建议统一使用 ECR 管理镜像</li><li>推送镜像前需执行 aws ecr get-login-password 登录命令</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img522834.png"></p><ul><li>Amazon ECR – Cross Region Replication<ul><li>Amazon ECR 支持<strong>跨区域（Cross-Region）与跨账户（Cross-Account）</strong>镜像复制，用于提升多区域可用性与部署效率</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523114.png"></p><ul><li>Amazon ECR 镜像扫描（Image Scanning）<ul><li>ECR 支持两种镜像扫描方式，用于发现潜在的安全漏洞</li><li>手动扫描（Manual Scan）：用户在控制台或 CLI 中手动触发扫描</li><li>推送即扫（Scan on Push）：镜像推送到 ECR 时自动触发扫描</li><li>扫描类型: 基础扫描（Basic Scanning）,增强扫描（Enhanced Scanning, 结合 Amazon Inspector）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523117.png"></p><hr><h4 id="AWS-EKS-Elastic-Kubernetes-Service"><a href="#AWS-EKS-Elastic-Kubernetes-Service" class="headerlink" title="AWS EKS (Elastic Kubernetes Service)"></a>AWS EKS (Elastic Kubernetes Service)</h4><ul><li>Amazon EKS：全托管的 Kubernetes 服务，在 AWS 上运行容器化应用</li><li>Kubernetes：开源系统，用于 自动部署、扩展和管理容器化应用（如 Docker 应用）</li><li>EKS 是 ECS 的替代方案：目标类似（运行容器），但 API 和生态不同（ECS 是 AWS 专有，EKS 是开源标准）</li><li>支持两种运行环境: EC2, Fargate</li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523158.png"></p><ul><li>Amazon EKS – Node Types（节点类型）<ul><li>在 EKS 中，你可以选择三种方式来运行 Kubernetes Pod：托管节点、自托管节点、或 Fargate 模式</li></ul></li></ul><table><thead><tr><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>托管节点组（Managed Node Groups）</td><td>由 EKS 自动创建和管理的 EC2 实例，自动加入集群；属于 ASG，支持 On-Demand &#x2F; Spot</td></tr><tr><td>自托管节点（Self-Managed Nodes）</td><td>你自己创建和管理的 EC2 实例，手动注册至集群；更灵活但需自行维护</td></tr><tr><td>AWS Fargate</td><td>完全 Serverless；无需管理任何节点，适合按需、自动化的容器部署</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523200.png"></p><ul><li>Amazon EKS – Data Volumes（数据卷）<ul><li>在 EKS 中，持久化数据需要通过存储插件（CSI 驱动）并配合 Kubernetes 的 StorageClass 来定义卷的生命周期和类型</li><li>使用 Fargate 时，仅支持 EFS（当前不支持 EBS）</li></ul></li></ul><table><thead><tr><th>存储类型</th><th>说明</th></tr></thead><tbody><tr><td>Amazon EBS</td><td>块存储，适用于 EC2 节点；不能跨 AZ</td></tr><tr><td>Amazon EFS</td><td>网络文件系统；支持多个 Pod 并发访问；支持 Fargate</td></tr><tr><td>Amazon FSx for Lustre</td><td>高性能文件系统，适合机器学习、大数据分析等高吞吐量场景</td></tr><tr><td>Amazon FSx for NetApp ONTAP</td><td>支持企业级文件系统功能，如快照、复制、数据压缩</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523202.png"></p><hr><h4 id="AWS-App-Runner"><a href="#AWS-App-Runner" class="headerlink" title="AWS App Runner"></a>AWS App Runner</h4><ul><li>AWS App Runner 是一种全托管服务，用于轻松部署 Web 应用和 API，无需管理底层基础设施</li></ul><table><thead><tr><th>特性</th><th>描述</th></tr></thead><tbody><tr><td>无需基础设施经验</td><td>完全托管，无需管理服务器、扩展或负载均衡</td></tr><tr><td>源码 &#x2F; 镜像部署</td><td>支持从 GitHub 或 ECR 容器镜像直接部署</td></tr><tr><td>自动扩缩容</td><td>根据流量自动调整资源，无需手动配置 Auto Scaling</td></tr><tr><td>高可用 &amp; 加密</td><td>默认提供负载均衡与 TLS 加密</td></tr><tr><td>VPC 支持</td><td>可访问 RDS、ElastiCache 等 VPC 内部资源</td></tr><tr><td>URL 直接访问</td><td>部署后自动分配公开访问地址</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1️⃣ Source Code / Container Image (ECR)</span><br><span class="line">        ↓</span><br><span class="line">2️⃣ 配置：vCPU、RAM、Auto Scaling、Health Check</span><br><span class="line">        ↓</span><br><span class="line">3️⃣ 创建并部署（Create &amp; Deploy）</span><br><span class="line">        ↓</span><br><span class="line">4️⃣ 获得访问 URL，立即可用</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523204.png"></p><hr><h4 id="ECS-Anywhere-amp-EKS-Anywhere"><a href="#ECS-Anywhere-amp-EKS-Anywhere" class="headerlink" title="ECS Anywhere &amp; EKS Anywhere"></a>ECS Anywhere &amp; EKS Anywhere</h4><ul><li>Amazon ECS Anywhere<ul><li>让你能在本地数据中心、虚拟机或其他自管基础设施上运行原生 ECS 任务，结合云端控制面板与本地执行能力</li><li>满足 合规性 &#x2F; 数据本地化 &#x2F; 低延迟 要求, 运行在 无 AWS 区域覆盖的地方</li><li>本地机器学习、视频处理、大数据分析 等边缘计算需求</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523209.png"></p><ul><li>Amazon EKS Anywhere<ul><li>EKS Anywhere 允许你在 本地或其他云环境中创建并运行 Kubernetes 集群</li><li>想保留 本地运行环境，但又想用上 EKS 管理体验</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523210.png"></p><hr><h4 id="AWS-Lambda"><a href="#AWS-Lambda" class="headerlink" title="AWS Lambda"></a>AWS Lambda</h4><ul><li>AWS Lambda 是一种 无服务器计算服务，让你只需写代码，不用管服务器。你上传函数，设置触发条件，AWS 自动运行它</li><li>AWS Lambda 可无服务器执行函数，常被以下服务触发或与之集成</li></ul><table><thead><tr><th>服务名称</th><th>触发 &#x2F; 集成方式说明</th></tr></thead><tbody><tr><td>API Gateway</td><td>通过 HTTP 请求触发 Lambda，常用于构建无服务器 API</td></tr><tr><td>Amazon S3</td><td>对象创建 &#x2F; 删除触发（如上传图片自动处理）</td></tr><tr><td>Amazon DynamoDB</td><td>表更新事件触发（使用 DynamoDB Streams）</td></tr><tr><td>Amazon Kinesis</td><td>流式数据处理，如日志分析、实时计算</td></tr><tr><td>Amazon EventBridge</td><td>基于事件总线实现复杂事件驱动架构 (CRON JOB)</td></tr><tr><td>Amazon SQS</td><td>从消息队列中拉取消息处理</td></tr><tr><td>AWS IoT Core</td><td>设备消息触发 Lambda</td></tr><tr><td>AWS Cognito</td><td>用户注册、登录等事件触发 Lambda（如验证逻辑）</td></tr><tr><td>CloudWatch Logs</td><td>可配合日志处理 &#x2F; 告警</td></tr><tr><td>AWS SNS</td><td>订阅 SNS 主题，处理发布消息</td></tr></tbody></table><ul><li>AWS Lambda 限制<ul><li>内存（RAM）：最小 128MB，最大 10GB</li><li>CPU：不能手动设置，跟内存挂钩</li><li>最长运行时间：15 分钟</li><li>部署包限制：ZIP 格式最大 50MB，解压后 + Layer 总共不能超过 250MB</li><li>并发执行数：默认 1000（可以申请提高）</li><li>容器镜像大小：最大 10GB</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523230.png"></p><ul><li>Lambda 并发与限流（Concurrency &amp; Throttling）<ul><li>默认并发限制是 1000 个，也就是最多同时跑 1000 个函数实例</li><li>可以给某个函数设置 Reserved Concurrency，意思是给它专门留几个名额</li><li>一旦请求超出这个并发限制，就会触发 Throttle（被限流），导致调用失败或延迟</li><li>如果不够用，可以去 Service Quotas 页面申请提高并发上限</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523248.png"></p><ul><li>Lambda 并发问题（Concurrency Issue）<ul><li>如果你不设置 Reserved Concurrency，就默认大家一起抢那 1000 个并发名额</li><li>用户多的时候，像 API Gateway、ALB（负载均衡器） 都可能因为没抢到资源而 被限流（Throttle）</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img523313.png"></p><ul><li>Lambda &amp; CodeDeploy 简介<ul><li>AWS CodeDeploy 可以帮你自动管理 Lambda 的流量切换，实现平滑部署（渐进式发布），防止直接上线出问题</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img225541.png"></p><hr><h4><a href="#" class="headerlink"></a></h4></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/AWS/">AWS</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/80b8adf.html" title="伊利诺伊州交规"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imgn4559jm9ei27pebtw5m4cvynn7c4fgt.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">伊利诺伊州交规</div></div></a></div><div class="next-post pull-right"><a href="/posts/bb3fbb6d.html" title="Terraform Associate 003"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imgrj2v0kxiwnf99hfja1ood1dwupdaex6.png" onerror='onerror=null,src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Terraform Associate 003</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/50096d59.html" title="AWS MLA-C01"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/image/700px-卡冈图雅-像素.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-14</div><div class="title">AWS MLA-C01</div></div></a></div><div><a href="/posts/ced5b880.html" title="AWS CLF-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img700px-Dot_scenario_s2_ep2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-30</div><div class="title">AWS CLF-C02</div></div></a></div><div><a href="/posts/31e3742d.html" title="AWS DVA-C02"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img700px-Dot_scenario_s2_ep1_ch3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-30</div><div class="title">AWS DVA-C02</div></div></a></div><div><a href="/posts/fa4ed4d8.html" title="AWS SAA-C03"><img class="cover" src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img700px-Dot_scenario_s2_ep1_ch4.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-13</div><div class="title">AWS SAA-C03</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/德狗子.GIF" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="avatar"></div><div class="author-info__name">鴻達</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Hongda-OSU" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.linkedin.com/in/hongda-lin" target="_blank" title="Linkedin"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://hongdalin.me" target="_blank" title="Portfolio"><i class="iconfont icon-guanfangwangzhan"></i></a></div></div><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople1.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/zdog.dist.js"></script><script id="rendered-js" src="https://npm.elemecdn.com/ethan4116-blog/lib/js/other/two-people/twopeople.js"></script><style>.card-widget.card-announcement{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Identity-amp-Federation"><span class="toc-text">1. Identity &amp; Federation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM"><span class="toc-text">IAM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Policy"><span class="toc-text">IAM Policy</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Policies-Variables-and-Tags"><span class="toc-text">IAM Policies Variables and Tags</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Roles-vs-Resource-Based-Policies"><span class="toc-text">IAM Roles vs Resource Based Policies</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Permission-Boundaries"><span class="toc-text">IAM Permission Boundaries</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Access-Analyzer"><span class="toc-text">IAM Access Analyzer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#STS-Security-Token-Service"><span class="toc-text">STS (Security Token Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Identity-Federation-in-AWS"><span class="toc-text">Identity Federation in AWS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Directroy-Service-AD"><span class="toc-text">AWS Directroy Service (AD)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Organizations"><span class="toc-text">AWS Organizations</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Service-Control-Policies-SCP"><span class="toc-text">Service Control Policies (SCP)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Identity-Center"><span class="toc-text">IAM Identity Center</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Control-Tower"><span class="toc-text">AWS Control Tower</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Resource-Access-Manager-RAM"><span class="toc-text">AWS Resource Access Manager (RAM)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Security"><span class="toc-text">2. Security</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudTrail"><span class="toc-text">CloudTrail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KMS-Key-Management-Service"><span class="toc-text">KMS (Key Management Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSM-Parameter-Store"><span class="toc-text">SSM Parameter Store</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Secrets-Manager"><span class="toc-text">AWS Secrets Manager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSL-x2F-TLS-Basics"><span class="toc-text">SSL&#x2F;TLS - Basics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Certificate-Manager-ACM"><span class="toc-text">AWS Certificate Manager (ACM)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CloudHSM"><span class="toc-text">CloudHSM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Security"><span class="toc-text">S3 Security</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-%E2%80%93-Access-Points"><span class="toc-text">S3 – Access Points</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#S3-Object-Lambda"><span class="toc-text">S3 Object Lambda</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DDoS-Protection-on-AWS"><span class="toc-text">DDoS Protection on AWS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Shield"><span class="toc-text">AWS Shield</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-WAF"><span class="toc-text">AWS WAF</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Firewall-Manager"><span class="toc-text">AWS Firewall Manager</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Inspecctor"><span class="toc-text">AWS Inspecctor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Config"><span class="toc-text">AWS Config</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Managed-Logs"><span class="toc-text">AWS Managed Logs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-GuardDuty"><span class="toc-text">AWS GuardDuty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-Conditions"><span class="toc-text">IAM Conditions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IAM-for-S3"><span class="toc-text">IAM for S3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Security-Hub"><span class="toc-text">AWS Security Hub</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Amazon-Detective"><span class="toc-text">Amazon Detective</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Compute-amp-Load-Balancing"><span class="toc-text">3. Compute &amp; Load Balancing</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2"><span class="toc-text">EC2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#High-Performance-Computing-HPC"><span class="toc-text">High Performance Computing (HPC)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Auto-Scaling"><span class="toc-text">Auto Scaling</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Spot-Instances"><span class="toc-text">EC2 Spot Instances</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EC2-Spot-Fleets"><span class="toc-text">EC2 Spot Fleets</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ECS-Elastic-Container-Service"><span class="toc-text">AWS ECS (Elastic Container Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Fargate"><span class="toc-text">AWS Fargate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-ECR-Elastic-Container-Registry"><span class="toc-text">AWS ECR (Elastic Container Registry)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-EKS-Elastic-Kubernetes-Service"><span class="toc-text">AWS EKS (Elastic Kubernetes Service)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-App-Runner"><span class="toc-text">AWS App Runner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ECS-Anywhere-amp-EKS-Anywhere"><span class="toc-text">ECS Anywhere &amp; EKS Anywhere</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWS-Lambda"><span class="toc-text">AWS Lambda</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text"></span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/c888933a.html" title="Liquibase 101"><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/image/1100px-Event_top_01.png" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="Liquibase 101"></a><div class="content"><a class="title" href="/posts/c888933a.html" title="Liquibase 101">Liquibase 101</a><time datetime="2025-06-15T17:03:05.000Z" title="发表于 2025-06-15 12:03:05">2025-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/50096d59.html" title="AWS MLA-C01"><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/image/700px-卡冈图雅-像素.png" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="AWS MLA-C01"></a><div class="content"><a class="title" href="/posts/50096d59.html" title="AWS MLA-C01">AWS MLA-C01</a><time datetime="2025-06-14T17:03:05.000Z" title="发表于 2025-06-14 12:03:05">2025-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/998b6089.html" title="JS &amp; Python 小技巧"><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/image/700px-荷赛拉大战-机械淘淘宣传图.png" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="JS &amp; Python 小技巧"></a><div class="content"><a class="title" href="/posts/998b6089.html" title="JS &amp; Python 小技巧">JS &amp; Python 小技巧</a><time datetime="2025-06-14T17:03:05.000Z" title="发表于 2025-06-14 12:03:05">2025-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/3f28c94.html" title="GCP 实操练习"><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/imgf46582az111imog7tayrkhdegi73sg9.png" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="GCP 实操练习"></a><div class="content"><a class="title" href="/posts/3f28c94.html" title="GCP 实操练习">GCP 实操练习</a><time datetime="2025-06-13T17:03:05.000Z" title="发表于 2025-06-13 12:03:05">2025-06-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/733301f0.html" title="System Design 101"><img src="https://raw.githubusercontent.com/Hongda-Lin/ImageStore/master/img5r931hxtc55u09sm6oxjl3b0bp0v1z6.png" onerror='this.onerror=null,this.src="https://cdn.jsdelivr.net/gh/Hongda-OSU/PicGo/image/404.GIF"' alt="System Design 101"></a><div class="content"><a class="title" href="/posts/733301f0.html" title="System Design 101">System Design 101</a><time datetime="2025-06-13T17:03:05.000Z" title="发表于 2025-06-13 12:03:05">2025-06-13</time></div></div></div></div></div></div></main><footer id="footer" style="background:rgba(0,0,0,.25)"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 &nbsp;<i id="heartbeat" class="fa fas fa-heartbeat"></i> &nbsp;鴻達</div><div class="footer_custom_text"><p class="badge"><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-informational?style=flat&logo=hexo"></a><a style="margin-inline:5px" target="_blank" href="https://domains.google/"><img src="https://img.shields.io/badge/Hosted-Google-ff69b4?style=flat&logo=googledomains"></a><a style="margin-inline:5px" target="_blank" href="https://gulpjs.com/"><img src="https://img.shields.io/badge/Compress-gulp-critical?style=flat&logo=gulp"></a><a style="margin-inline:5px" target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-black?style=flat&logo=GitHub"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris"></a></p></div></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer src="/js/util.js"></script><script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>